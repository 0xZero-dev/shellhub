{"remainingRequest":"/src/node_modules/vue-loader/lib/index.js??vue-loader-options!/src/src/components/session/SessionDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/src/src/components/session/SessionDetails.vue","mtime":1589018514661},{"path":"/src/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/src/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/src/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/src/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/src/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2Vzc2lvbkRldGFpbHMiLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdWlkOiAiIiwKICAgICAgc2Vzc2lvbjogW10sCiAgICAgIGNsb3NlU2Vzc2lvblNuYWNrOiBmYWxzZSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgaGlkZTp0cnVlCiAgICB9OwogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIHRoaXMudWlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgdHJ5ewogICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2Vzc2lvbnMvZ2V0IiwgdGhpcy51aWQpOwogICAgICB0aGlzLnNlc3Npb24gPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWyJzZXNzaW9ucy9nZXQiXTsKICAgIH0KICAgIGNhdGNoKGVycm9yKXsKICAgICAgdGhpcy5oaWRlPWZhbHNlOwogICAgICB0aGlzLmRpYWxvZz10cnVlOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgY2xvc2VTZXNzaW9uKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2Vzc2lvbnMvY2xvc2UiKTsKICAgICAgdGhpcy5jbG9zZVNlc3Npb25TbmFjayA9IHRydWU7CiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXNzaW9ucy9nZXQiLCB0aGlzLnVpZCk7CiAgICAgIHRoaXMuc2Vzc2lvbiA9IHRoaXMuJHN0b3JlLmdldHRlcnNbInNlc3Npb25zL2dldCJdOwogICAgfSwKICAgIHJlZGlyZWN0KCl7CiAgICAgIHRoaXMuZGlhbG9nPWZhbHNlOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Nlc3Npb25zJyk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["SessionDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SessionDetails.vue","sourceRoot":"src/components/session","sourcesContent":["<template>\n<fragment>\n\n  <div class=\"d-flex pa-0 align-center\">\n    <h1 v-if=\"hide\">Session Details</h1>\n    <v-spacer/>\n    <v-spacer/>\n  </div>\n\n  <v-card v-if=\"hide\" class=\"mt-2\">\n    <v-toolbar flat color=\"transparent\">\n\n      <v-toolbar-title v-if=\"this.session.device\">\n        <v-icon color=\"success\" v-if=\"this.session.active\">check_circle</v-icon>\n        <v-tooltip bottom v-else>\n          <template #activator=\"{ on }\">\n            <v-icon v-on=\"on\">check_circle</v-icon>\n          </template>\n          <span>active {{ session.last_seen | moment(\"from\", \"now\") }}</span>\n        </v-tooltip>\n        {{ this.session.device.name }}\n      </v-toolbar-title>\n\n      <v-spacer></v-spacer>\n\n      <v-icon class=\"icons ml-1\" v-if=\"this.session.active\" @click=\"closeSession()\">\n        desktop_access_disabled\n      </v-icon>\n\n    </v-toolbar>\n\n    <v-divider></v-divider>\n\n    <v-card-text>\n      <div class=\"mt-2\">\n        <div class=\"overline\">Uid</div>\n        <div>{{ this.session.uid }}</div>\n      </div>\n\n      <div class=\"mt-2\">\n        <div class=\"overline\">User</div>\n        <div>{{ this.session.username }}</div>\n      </div>\n\n      <div class=\"mt-2\">\n        <div class=\"overline\">Authenticated</div>\n        <v-tooltip bottom>\n            <template #activator=\"{ on }\" v-bind:session=\"this.session\">\n              <v-icon v-on=\"on\" :color=\"session.active ? 'success' : ''\" size=\"\" v-if=\"session.authenticated\">mdi-shield-check</v-icon>\n              <v-icon v-on=\"on\" color=\"error\" size=\"\" v-else>mdi-shield-alert</v-icon>\n            </template>\n            <span v-if=\"session.authenticated\">User has been authenticated</span>\n            <span v-else>User has not been authenticated</span>\n          </v-tooltip>\n      </div>\n\n      <div class=\"mt-2\">\n        <div class=\"overline\">Ip Address</div>\n        <code>{{ this.session.ip_address }}</code>\n      </div>\n\n      <div class=\"mt-2\">\n        <div class=\"overline\">Started</div>\n        <div>{{ this.session.started_at | moment(\"dddd, MMMM Do YYYY, h:mm:ss a\") }}</div>\n      </div>\n\n      <div class=\"mt-2\">\n        <div class=\"overline\">Last Seen</div>\n        <div>{{ this.session.last_seen | moment(\"dddd, MMMM Do YYYY, h:mm:ss a\") }}</div>\n      </div>\n    </v-card-text>\n\n    <v-snackbar v-model=\"closeSessionSnack\" :timeout=3000>Closed session conection to the device</v-snackbar>\n  </v-card>\n\n  <div class=\"text-center\">\n    <v-dialog v-model=\"dialog\" width=\"500\" persistent>\n      <v-card>\n        <v-card-title class=\"headline grey lighten-2\" primary-title>\n          Session ID error\n        </v-card-title>\n        <v-card-text>\n        <br>\n          You tried to access a non-existing session ID .\n        </v-card-text>\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" text @click=\"redirect\">\n            Go back to sessions\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</fragment>\n\n</template>\n\n<script>\nexport default {\n  name: \"SessionDetails\",\n\n  data() {\n    return {\n      uid: \"\",\n      session: [],\n      closeSessionSnack: false,\n      dialog: false,\n      hide:true\n    };\n  },\n  async created() {\n    this.uid = this.$route.params.id;\n    try{\n      await this.$store.dispatch(\"sessions/get\", this.uid);\n      this.session = this.$store.getters[\"sessions/get\"];\n    }\n    catch(error){\n      this.hide=false;\n      this.dialog=true;\n    }\n  },\n  methods: {\n    async closeSession() {\n      this.$store.dispatch(\"sessions/close\");\n      this.closeSessionSnack = true;\n      await this.$store.dispatch(\"sessions/get\", this.uid);\n      this.session = this.$store.getters[\"sessions/get\"];\n    },\n    redirect(){\n      this.dialog=false;\n      this.$router.push('/sessions');\n    }\n  }\n};\n</script>"]}]}