{"remainingRequest":"/home/ubuntu/shellhub/ui/node_modules/babel-loader/lib/index.js!/home/ubuntu/shellhub/ui/node_modules/eslint-loader/index.js??ref--13-0!/home/ubuntu/shellhub/ui/src/modules/sessions.js","dependencies":[{"path":"/home/ubuntu/shellhub/ui/src/modules/sessions.js","mtime":1589018514661},{"path":"/home/ubuntu/shellhub/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/shellhub/ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ubuntu/shellhub/ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvdWJ1bnR1L3NoZWxsaHViL3VpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBmZXRjaFNlc3Npb25zLCBnZXRTZXNzaW9uLCBjbG9zZVNlc3Npb24gfSBmcm9tICdAL2FwaS9zZXNzaW9ucyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBzZXNzaW9uczogW10sCiAgICBzZXNzaW9uOiBbXSwKICAgIG51bWJlclNlc3Npb25zOiAwCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBsaXN0OiBmdW5jdGlvbiBsaXN0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zZXNzaW9uczsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uIGdldChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc2Vzc2lvbjsKICAgIH0sCiAgICBnZXROdW1iZXJTZXNzaW9uczogZnVuY3Rpb24gZ2V0TnVtYmVyU2Vzc2lvbnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm51bWJlclNlc3Npb25zOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRTZXNzaW9uczogZnVuY3Rpb24gc2V0U2Vzc2lvbnMoc3RhdGUsIHJlcykgewogICAgICBWdWUuc2V0KHN0YXRlLCAnc2Vzc2lvbnMnLCByZXMuZGF0YSk7CiAgICAgIFZ1ZS5zZXQoc3RhdGUsICdudW1iZXJTZXNzaW9ucycsIHBhcnNlSW50KHJlcy5oZWFkZXJzWyd4LXRvdGFsLWNvdW50J10pKTsKICAgIH0sCiAgICBzZXRTZXNzaW9uOiBmdW5jdGlvbiBzZXRTZXNzaW9uKHN0YXRlLCBkYXRhKSB7CiAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgVnVlLnNldChzdGF0ZSwgJ3Nlc3Npb24nLCBkYXRhKTsKICAgICAgfQogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgZmV0Y2g6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9mZXRjaCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShjb250ZXh0LCBkYXRhKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaFNlc3Npb25zKGRhdGEucGVyX3BhZ2UsIGRhdGEucGFnZSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0U2Vzc2lvbnMnLCByZXMpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZmV0Y2goX3gsIF94MikgewogICAgICAgIHJldHVybiBfZmV0Y2guYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZldGNoOwogICAgfSgpLAogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihjb250ZXh0LCB1aWQpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U2Vzc2lvbih1aWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRTZXNzaW9uJywgcmVzLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXQoX3gzLCBfeDQpIHsKICAgICAgICByZXR1cm4gX2dldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0OwogICAgfSgpLAogICAgY2xvc2U6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jbG9zZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoY29udGV4dCwgc2Vzc2lvbikgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gY2xvc2VTZXNzaW9uKHNlc3Npb24pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBjbG9zZShfeDUsIF94NikgewogICAgICAgIHJldHVybiBfY2xvc2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNsb3NlOwogICAgfSgpCiAgfQp9Ow=="},{"version":3,"sources":["/home/ubuntu/shellhub/ui/src/modules/sessions.js"],"names":["Vue","fetchSessions","getSession","closeSession","namespaced","state","sessions","session","numberSessions","getters","list","get","getNumberSessions","mutations","setSessions","res","set","data","parseInt","headers","setSession","actions","fetch","context","per_page","page","commit","uid","close"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,SAASC,aAAT,EAAwBC,UAAxB,EAAoCC,YAApC,QAAwD,gBAAxD;AAEA,eAAe;AACXC,EAAAA,UAAU,EAAE,IADD;AAGXC,EAAAA,KAAK,EAAE;AACHC,IAAAA,QAAQ,EAAE,EADP;AAEHC,IAAAA,OAAO,EAAE,EAFN;AAGHC,IAAAA,cAAc,EAAE;AAHb,GAHI;AASXC,EAAAA,OAAO,EAAE;AACLC,IAAAA,IAAI,EAAE,cAAAL,KAAK;AAAA,aAAIA,KAAK,CAACC,QAAV;AAAA,KADN;AAELK,IAAAA,GAAG,EAAE,aAAAN,KAAK;AAAA,aAAIA,KAAK,CAACE,OAAV;AAAA,KAFL;AAGLK,IAAAA,iBAAiB,EAAE,2BAAAP,KAAK;AAAA,aAAIA,KAAK,CAACG,cAAV;AAAA;AAHnB,GATE;AAeXK,EAAAA,SAAS,EAAE;AACPC,IAAAA,WAAW,EAAE,qBAACT,KAAD,EAAQU,GAAR,EAAgB;AACzBf,MAAAA,GAAG,CAACgB,GAAJ,CAAQX,KAAR,EAAe,UAAf,EAA2BU,GAAG,CAACE,IAA/B;AACAjB,MAAAA,GAAG,CAACgB,GAAJ,CAAQX,KAAR,EAAe,gBAAf,EAAiCa,QAAQ,CAACH,GAAG,CAACI,OAAJ,CAAY,eAAZ,CAAD,CAAzC;AACH,KAJM;AAKPC,IAAAA,UAAU,EAAE,oBAACf,KAAD,EAAQY,IAAR,EAAiB;AACzB,UAAGA,IAAH,EAAQ;AACJjB,QAAAA,GAAG,CAACgB,GAAJ,CAAQX,KAAR,EAAe,SAAf,EAA0BY,IAA1B;AACH;AACJ;AATM,GAfA;AA2BXI,EAAAA,OAAO,EAAE;AACLC,IAAAA,KAAK;AAAA,2EAAE,iBAAOC,OAAP,EAAgBN,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACahB,aAAa,CAACgB,IAAI,CAACO,QAAN,EAAeP,IAAI,CAACQ,IAApB,CAD1B;;AAAA;AACCV,gBAAAA,GADD;AAEHQ,gBAAAA,OAAO,CAACG,MAAR,CAAe,aAAf,EAA8BX,GAA9B;;AAFG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADA;AAKLJ,IAAAA,GAAG;AAAA,yEAAE,kBAAOY,OAAP,EAAeI,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACezB,UAAU,CAACyB,GAAD,CADzB;;AAAA;AACGZ,gBAAAA,GADH;AAEDQ,gBAAAA,OAAO,CAACG,MAAR,CAAe,YAAf,EAA6BX,GAAG,CAACE,IAAjC;;AAFC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OALE;AASLW,IAAAA,KAAK;AAAA,2EAAE,kBAAOL,OAAP,EAAgBhB,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACGJ,YAAY,CAACI,OAAD,CADf;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AATA;AA3BE,CAAf","sourcesContent":["import Vue from 'vue'\nimport { fetchSessions, getSession, closeSession } from '@/api/sessions'\n\nexport default {\n    namespaced: true,\n\n    state: {\n        sessions: [],\n        session: [],\n        numberSessions: 0,\n    },\n\n    getters: {\n        list: state => state.sessions,\n        get: state => state.session,\n        getNumberSessions: state => state.numberSessions\n    },\n\n    mutations: {\n        setSessions: (state, res) => {\n            Vue.set(state, 'sessions', res.data)\n            Vue.set(state, 'numberSessions', parseInt(res.headers['x-total-count']))\n        },\n        setSession: (state, data) => {\n            if(data){\n                Vue.set(state, 'session', data)\n            }\n        }\n    },\n\n    actions: {\n        fetch: async (context, data) => {\n            let res = await fetchSessions(data.per_page,data.page)\n            context.commit('setSessions', res)\n        },\n        get: async (context,uid)  => {\n            let res = await getSession(uid)\n            context.commit('setSession', res.data)\n        },\n        close: async (context, session) => {\n            await closeSession(session)\n        }\n    }\n}"]}]}