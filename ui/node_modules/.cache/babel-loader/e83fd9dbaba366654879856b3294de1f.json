{"remainingRequest":"/home/ubuntu/shellhub/ui/node_modules/babel-loader/lib/index.js!/home/ubuntu/shellhub/ui/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/ubuntu/shellhub/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ubuntu/shellhub/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/shellhub/ui/src/components/session/SessionDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ubuntu/shellhub/ui/src/components/session/SessionDetails.vue","mtime":1589018514661},{"path":"/home/ubuntu/shellhub/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/shellhub/ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ubuntu/shellhub/ui/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/ubuntu/shellhub/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/shellhub/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvdWJ1bnR1L3NoZWxsaHViL3VpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTZXNzaW9uRGV0YWlscyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVpZDogIiIsCiAgICAgIHNlc3Npb246IFtdLAogICAgICBjbG9zZVNlc3Npb25TbmFjazogZmFsc2UsCiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIGhpZGU6IHRydWUKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMudWlkID0gX3RoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXNzaW9ucy9nZXQiLCBfdGhpcy51aWQpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF90aGlzLnNlc3Npb24gPSBfdGhpcy4kc3RvcmUuZ2V0dGVyc1sic2Vzc2lvbnMvZ2V0Il07CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgX3RoaXMuaGlkZSA9IGZhbHNlOwogICAgICAgICAgICAgIF90aGlzLmRpYWxvZyA9IHRydWU7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDddXSk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlU2Vzc2lvbjogZnVuY3Rpb24gY2xvc2VTZXNzaW9uKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCJzZXNzaW9ucy9jbG9zZSIpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5jbG9zZVNlc3Npb25TbmFjayA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgic2Vzc2lvbnMvZ2V0IiwgX3RoaXMyLnVpZCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzMi5zZXNzaW9uID0gX3RoaXMyLiRzdG9yZS5nZXR0ZXJzWyJzZXNzaW9ucy9nZXQiXTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVkaXJlY3Q6IGZ1bmN0aW9uIHJlZGlyZWN0KCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Nlc3Npb25zJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["SessionDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,iBAAA,EAAA,KAHA;AAIA,MAAA,MAAA,EAAA,KAJA;AAKA,MAAA,IAAA,EAAA;AALA,KAAA;AAOA,GAXA;AAYA,EAAA,OAZA,qBAYA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,KAAA,CAAA,GAAA,GAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AADA;AAAA;AAAA,qBAGA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA,KAAA,CAAA,GAAA,CAHA;;AAAA;AAIA,cAAA,KAAA,CAAA,OAAA,GAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,cAAA,CAAA;AAJA;AAAA;;AAAA;AAAA;AAAA;AAOA,cAAA,KAAA,CAAA,IAAA,GAAA,KAAA;AACA,cAAA,KAAA,CAAA,MAAA,GAAA,IAAA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,gBAAA;;AACA,gBAAA,MAAA,CAAA,iBAAA,GAAA,IAAA;AAFA;AAAA,uBAGA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA,MAAA,CAAA,GAAA,CAHA;;AAAA;AAIA,gBAAA,MAAA,CAAA,OAAA,GAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,cAAA,CAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,KANA;AAOA,IAAA,QAPA,sBAOA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA;AAVA;AAvBA,CAAA","sourcesContent":["<template>\n<fragment>\n\n  <div class=\"d-flex pa-0 align-center\">\n    <h1 v-if=\"hide\">Session Details</h1>\n    <v-spacer/>\n    <v-spacer/>\n  </div>\n\n  <v-card v-if=\"hide\" class=\"mt-2\">\n    <v-toolbar flat color=\"transparent\">\n\n      <v-toolbar-title v-if=\"this.session.device\">\n        <v-icon color=\"success\" v-if=\"this.session.active\">check_circle</v-icon>\n        <v-tooltip bottom v-else>\n          <template #activator=\"{ on }\">\n            <v-icon v-on=\"on\">check_circle</v-icon>\n          </template>\n          <span>active {{ session.last_seen | moment(\"from\", \"now\") }}</span>\n        </v-tooltip>\n        {{ this.session.device.name }}\n      </v-toolbar-title>\n\n      <v-spacer></v-spacer>\n\n      <v-icon class=\"icons ml-1\" v-if=\"this.session.active\" @click=\"closeSession()\">\n        desktop_access_disabled\n      </v-icon>\n\n    </v-toolbar>\n\n    <v-divider></v-divider>\n\n    <v-card-text>\n      <div class=\"mt-2\">\n        <div class=\"overline\">Uid</div>\n        <div>{{ this.session.uid }}</div>\n      </div>\n\n      <div class=\"mt-2\">\n        <div class=\"overline\">User</div>\n        <div>{{ this.session.username }}</div>\n      </div>\n\n      <div class=\"mt-2\">\n        <div class=\"overline\">Authenticated</div>\n        <v-tooltip bottom>\n            <template #activator=\"{ on }\" v-bind:session=\"this.session\">\n              <v-icon v-on=\"on\" :color=\"session.active ? 'success' : ''\" size=\"\" v-if=\"session.authenticated\">mdi-shield-check</v-icon>\n              <v-icon v-on=\"on\" color=\"error\" size=\"\" v-else>mdi-shield-alert</v-icon>\n            </template>\n            <span v-if=\"session.authenticated\">User has been authenticated</span>\n            <span v-else>User has not been authenticated</span>\n          </v-tooltip>\n      </div>\n\n      <div class=\"mt-2\">\n        <div class=\"overline\">Ip Address</div>\n        <code>{{ this.session.ip_address }}</code>\n      </div>\n\n      <div class=\"mt-2\">\n        <div class=\"overline\">Started</div>\n        <div>{{ this.session.started_at | moment(\"dddd, MMMM Do YYYY, h:mm:ss a\") }}</div>\n      </div>\n\n      <div class=\"mt-2\">\n        <div class=\"overline\">Last Seen</div>\n        <div>{{ this.session.last_seen | moment(\"dddd, MMMM Do YYYY, h:mm:ss a\") }}</div>\n      </div>\n    </v-card-text>\n\n    <v-snackbar v-model=\"closeSessionSnack\" :timeout=3000>Closed session conection to the device</v-snackbar>\n  </v-card>\n\n  <div class=\"text-center\">\n    <v-dialog v-model=\"dialog\" width=\"500\" persistent>\n      <v-card>\n        <v-card-title class=\"headline grey lighten-2\" primary-title>\n          Session ID error\n        </v-card-title>\n        <v-card-text>\n        <br>\n          You tried to access a non-existing session ID .\n        </v-card-text>\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" text @click=\"redirect\">\n            Go back to sessions\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</fragment>\n\n</template>\n\n<script>\nexport default {\n  name: \"SessionDetails\",\n\n  data() {\n    return {\n      uid: \"\",\n      session: [],\n      closeSessionSnack: false,\n      dialog: false,\n      hide:true\n    };\n  },\n  async created() {\n    this.uid = this.$route.params.id;\n    try{\n      await this.$store.dispatch(\"sessions/get\", this.uid);\n      this.session = this.$store.getters[\"sessions/get\"];\n    }\n    catch(error){\n      this.hide=false;\n      this.dialog=true;\n    }\n  },\n  methods: {\n    async closeSession() {\n      this.$store.dispatch(\"sessions/close\");\n      this.closeSessionSnack = true;\n      await this.$store.dispatch(\"sessions/get\", this.uid);\n      this.session = this.$store.getters[\"sessions/get\"];\n    },\n    redirect(){\n      this.dialog=false;\n      this.$router.push('/sessions');\n    }\n  }\n};\n</script>"],"sourceRoot":"src/components/session"}]}