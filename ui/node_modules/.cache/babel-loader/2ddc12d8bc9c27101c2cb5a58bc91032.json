{"remainingRequest":"/home/ubuntu/shellhub/ui/node_modules/babel-loader/lib/index.js!/home/ubuntu/shellhub/ui/node_modules/eslint-loader/index.js??ref--13-0!/home/ubuntu/shellhub/ui/src/helpers/http.js","dependencies":[{"path":"/home/ubuntu/shellhub/ui/src/helpers/http.js","mtime":1589018514661},{"path":"/home/ubuntu/shellhub/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/shellhub/ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ubuntu/shellhub/ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0IEF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4uL3N0b3JlJzsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi9yb3V0ZXIiOwpleHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKCkgewogIHZhciBheGlvcyA9IEF4aW9zLmNyZWF0ZSh7CiAgICBiYXNlVVJMOiAiIi5jb25jYXQobG9jYXRpb24ucHJvdG9jb2wsICIvLyIpLmNvbmNhdChsb2NhdGlvbi5ob3N0LCAiL2FwaSIpLAogICAgaGVhZGVyczogewogICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpKQogICAgfQogIH0pOwogIGF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICByZXR1cm4gcmVzcG9uc2U7CiAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ2F1dGgvbG9nb3V0Jyk7CiAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgIH0KICB9KTsKICByZXR1cm4gYXhpb3M7Cn0pOw=="},{"version":3,"sources":["/home/ubuntu/shellhub/ui/src/helpers/http.js"],"names":["Axios","store","router","axios","create","baseURL","location","protocol","host","headers","Authorization","localStorage","getItem","interceptors","response","use","error","status","dispatch","push"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,gBAAe,YAAM;AACjB,MAAIC,KAAK,GAAGH,KAAK,CAACI,MAAN,CAAa;AACrBC,IAAAA,OAAO,YAAKC,QAAQ,CAACC,QAAd,eAA2BD,QAAQ,CAACE,IAApC,SADc;AAErBC,IAAAA,OAAO,EAAE;AACLC,MAAAA,aAAa,mBAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AADR;AAFY,GAAb,CAAZ;AAOAT,EAAAA,KAAK,CAACU,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CACI,UAAAD,QAAQ;AAAA,WAAIA,QAAJ;AAAA,GADZ,EAEI,UAACE,KAAD,EAAW;AACP,QAAIA,KAAK,CAACF,QAAN,CAAeG,MAAf,KAA0B,GAA9B,EAAmC;AAC/BhB,MAAAA,KAAK,CAACiB,QAAN,CAAe,aAAf;AACAhB,MAAAA,MAAM,CAACiB,IAAP,CAAY,QAAZ;AACH;AACJ,GAPL;AAUA,SAAOhB,KAAP;AACH,CAnBD","sourcesContent":["import Axios from 'axios'\nimport store from '../store'\nimport router from \"../router\";\n\nexport default () => {\n    let axios = Axios.create({\n        baseURL: `${location.protocol}//${location.host}/api`,\n        headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n    })\n\n    axios.interceptors.response.use(\n        response => response,\n        (error) => {\n            if (error.response.status === 401) {\n                store.dispatch('auth/logout')\n                router.push('/login')\n            }\n        }\n    )\n\n    return axios\n}\n"]}]}