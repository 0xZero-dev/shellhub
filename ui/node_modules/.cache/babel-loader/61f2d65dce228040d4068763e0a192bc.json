{"remainingRequest":"/home/ubuntu/shellhub/ui/node_modules/babel-loader/lib/index.js!/home/ubuntu/shellhub/ui/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/ubuntu/shellhub/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ubuntu/shellhub/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/shellhub/ui/src/components/device/DeviceDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ubuntu/shellhub/ui/src/components/device/DeviceDetails.vue","mtime":1589018514661},{"path":"/home/ubuntu/shellhub/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/shellhub/ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ubuntu/shellhub/ui/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/ubuntu/shellhub/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/shellhub/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3VidW50dS9zaGVsbGh1Yi91aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBUZXJtaW5hbERpYWxvZyBmcm9tICdAL2NvbXBvbmVudHMvdGVybWluYWwvVGVybWluYWxEaWFsb2cudnVlJzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0RldmljZURldGFpbHMnLAogIGNvbXBvbmVudHM6IHsKICAgIFRlcm1pbmFsRGlhbG9nOiBUZXJtaW5hbERpYWxvZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIHVpZDogJycsCiAgICAgIGhvc3RuYW1lOiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsCiAgICAgIGVkaXROYW1lOiAnJywKICAgICAgaGlkZTogdHJ1ZSwKICAgICAgZGV2aWNlOiBbXSwKICAgICAgZGV2aWNlSWNvbjogewogICAgICAgIGFyY2g6ICdmbC1hcmNobGludXgnLAogICAgICAgIHVidW50dTogJ2ZsLXVidW50dScsCiAgICAgICAgcmFzcGJpYW46ICdmbC1yYXNwYmVycnktcGknLAogICAgICAgICd1YnVudHUtY29yZSc6ICdmbC11YnVudHUnCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMudWlkID0gX3RoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdkZXZpY2VzL2dldCcsIF90aGlzLnVpZCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgX3RoaXMuZGV2aWNlID0gX3RoaXMuJHN0b3JlLmdldHRlcnNbImRldmljZXMvZ2V0Il07CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgX3RoaXMuaGlkZSA9IGZhbHNlOwogICAgICAgICAgICAgIF90aGlzLmRpYWxvZyA9IHRydWU7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDddXSk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdkZXZpY2VzL3JlbmFtZScsIHsKICAgICAgICB1aWQ6IHRoaXMuZGV2aWNlLnVpZCwKICAgICAgICBuYW1lOiB0aGlzLmVkaXROYW1lCiAgICAgIH0pOwogICAgICB0aGlzLmRldmljZS5uYW1lID0gdGhpcy5lZGl0TmFtZTsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgICAgaWYgKGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZT8nKSkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdkZXZpY2VzL3JlbW92ZScsIHRoaXMuZGV2aWNlLnVpZCk7CiAgICAgIH0KICAgIH0sCiAgICBmb3JtYXRfZGF0ZTogZnVuY3Rpb24gZm9ybWF0X2RhdGUoKSB7CiAgICAgIHJldHVybiBtb21lbnQoU3RyaW5nKHRoaXMuZGV2aWNlLmxhc3Rfc2VlbikpLmZvcm1hdCgnREQtTU0tWVlZWScpOwogICAgfSwKICAgIHJlZGlyZWN0OiBmdW5jdGlvbiByZWRpcmVjdCgpIHsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9kZXZpY2VzJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["DeviceDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA,OAAA,cAAA,MAAA,0CAAA;AACA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,cAAA,EAAA;AADA,GAHA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,GAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,MAAA,CAAA,QAAA,CAAA,QAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,IAAA,EAAA,IALA;AAMA,MAAA,MAAA,EAAA,EANA;AAOA,MAAA,UAAA,EAAA;AACA,QAAA,IAAA,EAAA,cADA;AAEA,QAAA,MAAA,EAAA,WAFA;AAGA,QAAA,QAAA,EAAA,iBAHA;AAIA,uBAAA;AAJA;AAPA,KAAA;AAcA,GAtBA;AAwBA,EAAA,OAxBA,qBAwBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,KAAA,CAAA,GAAA,GAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AADA;AAAA;AAAA,qBAGA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA,KAAA,CAAA,GAAA,CAHA;;AAAA;AAIA,cAAA,KAAA,CAAA,MAAA,GAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA;AAJA;AAAA;;AAAA;AAAA;AAAA;AAOA,cAAA,KAAA,CAAA,IAAA,GAAA,KAAA;AACA,cAAA,KAAA,CAAA,MAAA,GAAA,IAAA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,GAlCA;AAmCA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,gBAAA,EAAA;AACA,QAAA,GAAA,EAAA,KAAA,MAAA,CAAA,GADA;AAEA,QAAA,IAAA,EAAA,KAAA;AAFA,OAAA;AAKA,WAAA,MAAA,CAAA,IAAA,GAAA,KAAA,QAAA;AACA,KARA;AASA,IAAA,MATA,oBASA;AACA,UAAA,OAAA,CAAA,eAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,QAAA,CAAA,gBAAA,EAAA,KAAA,MAAA,CAAA,GAAA;AACA;AACA,KAbA;AAcA,IAAA,WAdA,yBAcA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,KAAA,MAAA,CAAA,SAAA,CAAA,CAAA,CAAA,MAAA,CAAA,YAAA,CAAA;AACA,KAhBA;AAiBA,IAAA,QAjBA,sBAiBA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AACA;AApBA;AAnCA,CAAA","sourcesContent":["<template>\n<fragment>\n\n  <div class=\"d-flex pa-0 align-center\">\n    <h1 v-if=\"hide\">Device Details</h1>\n  </div>\n  \n  <v-card class=\"mt-2\" v-if=\"hide\">\n    <v-toolbar flat color=\"transparent\">\n      \n      <v-edit-dialog :return-value=\"editName\" large @open=\"editName = device.name\" @save=\"save()\">\n        <v-text-field slot=\"input\" v-model=\"editName\" label=\"Edit\" single-line></v-text-field>\n        <v-toolbar-title>\n          <v-icon color=\"success\" v-if=\"this.device.online\">check_circle</v-icon>\n          <v-tooltip bottom v-else>\n            <template #activator=\"{ on }\">\n              <v-icon v-on=\"on\">check_circle</v-icon>\n            </template>\n            <span>active {{ device.last_seen | moment(\"from\", \"now\") }}</span>\n          </v-tooltip>\n          {{ this.device.name }}\n          <v-icon small left>mdi-file-edit</v-icon>\n        </v-toolbar-title>\n      </v-edit-dialog>\n      \n      <v-spacer></v-spacer>\n      \n      <TerminalDialog :uid=\"device.uid\"></TerminalDialog>\n      \n      <v-btn icon>\n        <v-icon @click=\"remove()\">delete</v-icon>\n      </v-btn>\n    </v-toolbar>\n\n      <v-divider></v-divider>\n\n      <v-card-text>\n        <div class=\"mt-2\">\n          <div class=\"overline\">UID</div>\n          <div>{{ this.device.uid }}</div>\n        </div>\n        \n        <div class=\"mt-2\">\n          <div class=\"overline\">MAC</div>\n          <code v-if=\"this.device.identity\">{{ this.device.identity['mac'] }}</code>\n        </div>\n\n        <div class=\"mt-2\">\n          <div class=\"overline\">Operating System</div>\n          <div v-if=\"this.device.info\">\n            <v-icon left>{{ deviceIcon[device.info.id] || 'fl-tux' }}</v-icon>\n            {{ this.device.info.pretty_name }}\n          </div>\n        </div>\n\n        <div class=\"mt-2\">\n          <div class=\"overline\">Last Seen</div>\n          <div>{{ this.device.last_seen | moment(\"dddd, MMMM Do YYYY, h:mm:ss a\") }}</div>\n        </div>\n      </v-card-text>\n\n    </v-card>\n\n  <div class=\"text-center\">\n    <v-dialog persistent v-model=\"dialog\" width=\"500\">\n      <v-card>\n        <v-card-title class=\"headline grey lighten-2\" primary-title>\n          Device ID error\n        </v-card-title>\n        <v-card-text>\n        <br>\n          You tried to access a non-existing device ID.\n        </v-card-text>\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" text @click=\"redirect\">\n            Go back to devices\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</fragment>\n</template>\n\n<script>\n\nimport TerminalDialog from '@/components/terminal/TerminalDialog.vue';\nimport moment from 'moment';\n\nexport default {\n  name: 'DeviceDetails',\n\n  components: {\n    TerminalDialog\n  },\n\n  data() {\n    return {\n      dialog:false,\n      uid: '',\n      hostname: window.location.hostname,\n      editName: '',\n      hide:true,\n      device: [],\n      deviceIcon: {\n        arch: 'fl-archlinux',\n        ubuntu: 'fl-ubuntu',\n        raspbian: 'fl-raspberry-pi',\n        'ubuntu-core': 'fl-ubuntu'\n      },\n    };\n  },\n\n  async created() {\n    this.uid = this.$route.params.id;\n    try{\n      await this.$store.dispatch('devices/get', this.uid);\n      this.device = this.$store.getters[\"devices/get\"];\n    }\n    catch(error){\n      this.hide=false;\n      this.dialog=true;\n    } \n  },\n  methods: {\n    save() {\n      this.$store.dispatch('devices/rename', {\n        uid: this.device.uid,\n        name: this.editName\n      });\n\n      this.device.name = this.editName;\n    },\n    remove() {\n      if (confirm('Are you sure?')) {\n        this.$store.dispatch('devices/remove', this.device.uid);\n      }\n    },\n    format_date() {\n      return moment(String(this.device.last_seen)).format('DD-MM-YYYY');\n    },\n    redirect(){\n      this.dialog=false;\n      this.$router.push('/devices');\n    }\n  },\n\n};\n</script>\n"],"sourceRoot":"src/components/device"}]}