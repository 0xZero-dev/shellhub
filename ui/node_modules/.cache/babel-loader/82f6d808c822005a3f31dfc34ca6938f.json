{"remainingRequest":"/home/ubuntu/shellhub/ui/node_modules/babel-loader/lib/index.js!/home/ubuntu/shellhub/ui/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/ubuntu/shellhub/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ubuntu/shellhub/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/shellhub/ui/src/components/session/SessionList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ubuntu/shellhub/ui/src/components/session/SessionList.vue","mtime":1589018514661},{"path":"/home/ubuntu/shellhub/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/shellhub/ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ubuntu/shellhub/ui/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/ubuntu/shellhub/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/shellhub/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvdWJ1bnR1L3NoZWxsaHViL3VpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTZXNzaW9uTGlzdCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlc3Npb25TbmFjazogZmFsc2UsCiAgICAgIG51bWJlclNlc3Npb25zOiAwLAogICAgICBsaXN0U2Vzc2lvbnM6IFtdLAogICAgICBkYXRhOiBbXSwKICAgICAgcGFnaW5hdGlvbjoge30sCiAgICAgIGhlYWRlcnM6IFt7CiAgICAgICAgdGV4dDogIkFjdGl2ZSIsCiAgICAgICAgdmFsdWU6ICJhY3RpdmUiLAogICAgICAgIGFsaWduOiAiY2VudGVyIgogICAgICB9LCB7CiAgICAgICAgdGV4dDogIkRldmljZSIsCiAgICAgICAgdmFsdWU6ICJkZXZpY2UiLAogICAgICAgIGFsaWduOiAiY2VudGVyIgogICAgICB9LCB7CiAgICAgICAgdGV4dDogIlVzZXJuYW1lIiwKICAgICAgICB2YWx1ZTogInVzZXJuYW1lIiwKICAgICAgICBhbGlnbjogImNlbnRlciIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICJBdXRoZW50aWNhdGVkIiwKICAgICAgICB2YWx1ZTogImF1dGhlbnRpY2F0ZWQiLAogICAgICAgIGFsaWduOiAiY2VudGVyIgogICAgICB9LCB7CiAgICAgICAgdGV4dDogIklQIEFkZHJlc3MiLAogICAgICAgIHZhbHVlOiAiaXBfYWRkcmVzcyIsCiAgICAgICAgYWxpZ246ICJjZW50ZXIiCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiU3RhcnRlZCIsCiAgICAgICAgdmFsdWU6ICJzdGFydGVkIiwKICAgICAgICBhbGlnbjogImNlbnRlciIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICJMYXN0IFNlZW4iLAogICAgICAgIHZhbHVlOiAibGFzdF9zZWVuIiwKICAgICAgICBhbGlnbjogImNlbnRlciIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICJBY3Rpb25zIiwKICAgICAgICB2YWx1ZTogImFjdGlvbnMiLAogICAgICAgIGFsaWduOiAiY2VudGVyIgogICAgICB9XQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBwYWdpbmF0aW9uOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgIHZhciByb3dzUGVyUGFnZSwgcGFnZU51bWJlcjsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgcm93c1BlclBhZ2UgPSBfdGhpcy5wYWdpbmF0aW9uLml0ZW1zUGVyUGFnZTsKICAgICAgICAgICAgICAgICAgcGFnZU51bWJlciA9IF90aGlzLnBhZ2luYXRpb24ucGFnZTsKICAgICAgICAgICAgICAgICAgX3RoaXMuZGF0YSA9IFt7CiAgICAgICAgICAgICAgICAgICAgJ3Blcl9wYWdlJzogcm93c1BlclBhZ2UsCiAgICAgICAgICAgICAgICAgICAgJ3BhZ2UnOiBwYWdlTnVtYmVyCiAgICAgICAgICAgICAgICAgIH1dOwogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgic2Vzc2lvbnMvZmV0Y2giLCBfdGhpcy5kYXRhWzBdKTsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIF90aGlzLmxpc3RTZXNzaW9ucyA9IF90aGlzLiRzdG9yZS5nZXR0ZXJzWyJzZXNzaW9ucy9saXN0Il07CiAgICAgICAgICAgICAgICAgIF90aGlzLm51bWJlclNlc3Npb25zID0gX3RoaXMuJHN0b3JlLmdldHRlcnNbInNlc3Npb25zL2dldE51bWJlclNlc3Npb25zIl07CgogICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKSgpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBkZXRhaWxzU2Vzc2lvbjogZnVuY3Rpb24gZGV0YWlsc1Nlc3Npb24oc2Vzc2lvbikgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3Nlc3Npb24vIiArIHNlc3Npb24udWlkKTsKICAgIH0sCiAgICBjbG9zZVNlc3Npb246IGZ1bmN0aW9uIGNsb3NlU2Vzc2lvbihzZXNzaW9uKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghY29uZmlybSgiQXJlIHlvdSBzdXJlPyIsIHNlc3Npb24pKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgic2Vzc2lvbnMvY2xvc2UiLCBzZXNzaW9uKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuc2Vzc2lvblNuYWNrID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCJzZXNzaW9ucy9mZXRjaCIpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpczIubGlzdFNlc3Npb25zID0gX3RoaXMyLiRzdG9yZS5nZXR0ZXJzWyJzZXNzaW9ucy9saXN0Il07CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["SessionList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<fragment>\n\n  <div class=\"d-flex pa-0 align-center\">\n    <h1>Sessions</h1>\n    <v-spacer/>\n    <v-spacer/>\n  </div>\n\n  <v-card class=\"mt-2\">\n    <v-app-bar flat color=\"transparent\">\n      <v-toolbar-title></v-toolbar-title>\n    </v-app-bar>\n\n    <v-divider></v-divider>\n\n    <v-card-text class=\"pa-0\">\n      <v-data-table :headers=\"headers\" :items=listSessions item-key=\"uid\" :sort-by=\"['started_at']\" :sort-desc=\"[true]\" :items-per-page=\"10\" :footer-props=\"{'items-per-page-options': [10, 25, 50, 100]}\" :server-items-length='this.numberSessions' :options.sync='pagination' :disable-sort=\"true\">\n        <template v-slot:item.active=\"{ item }\">\n          <v-icon color=\"success\" v-if=\"item.active\">check_circle</v-icon>\n          <v-tooltip bottom v-else>\n            <template #activator=\"{ on }\">\n              <v-icon v-on=\"on\">check_circle</v-icon>\n            </template>\n            <span>active {{ item.last_seen | moment(\"from\", \"now\") }}</span>\n          </v-tooltip>\n        </template>\n\n        <template v-slot:item.device=\"{ item }\">\n          <router-link :to=\"{ name: 'detailsDevice', params: { id: item.device.uid } }\">\n            {{ item.device.name }}\n          </router-link>\n        </template>\n\n        <template v-slot:item.username=\"{ item }\">\n          <v-tooltip bottom v-if=\"!item.authenticated\">\n            <template #activator=\"{ on }\">\n            </template>\n            <span>Unauthorized</span>\n          </v-tooltip>\n          {{ item.username }}\n        </template>\n\n        <template v-slot:item.authenticated=\"{ item }\">\n          <v-tooltip bottom>\n            <template #activator=\"{ on }\">\n              <v-icon v-on=\"on\" :color=\"item.active ? 'success' : ''\" size=\"\" v-if=\"item.authenticated\">mdi-shield-check</v-icon>\n              <v-icon v-on=\"on\" color=\"error\" size=\"\" v-else>mdi-shield-alert</v-icon>\n            </template>\n            <span v-if=\"item.authenticated\">User has been authenticated</span>\n            <span v-else>User has not been authenticated</span>\n          </v-tooltip>\n        </template>\n\n        <template v-slot:item.ip_address=\"{ item }\">\n          <code>{{ item.ip_address }}</code>\n        </template>\n\n        <template v-slot:item.started=\"{ item }\">\n          {{ item.started_at | moment(\"ddd, MMM Do YY, h:mm:ss a\")}}\n        </template>\n\n        <template v-slot:item.last_seen=\"{ item }\">\n          {{ item.last_seen | moment(\"ddd, MMM Do YY, h:mm:ss a\")}}\n        </template>\n\n        <template v-slot:item.actions=\"{ item }\">\n          <v-icon class=\"icons\" @click=\"detailsSession(item)\">\n            info\n          </v-icon>\n\n          <v-icon class=\"icons ml-1\" v-if=\"item.active\" @click=\"closeSession(item)\">\n            mdi-close-circle\n          </v-icon>\n        </template>\n      </v-data-table>\n    </v-card-text>\n  <v-snackbar v-model=\"sessionSnack\" :timeout=3000>Session closed</v-snackbar>\n  </v-card>\n\n</fragment>\n</template>\n\n<script>\nexport default {\n  name: \"SessionList\",\n\n  data() {\n    return {\n      sessionSnack: false,\n      numberSessions: 0,\n      listSessions: [],\n      data: [],\n      pagination: {},\n\n      headers: [\n        {\n          text: \"Active\",\n          value: \"active\",\n          align: \"center\"\n        },\n        {\n          text: \"Device\",\n          value: \"device\",\n          align: \"center\"\n        },\n        {\n          text: \"Username\",\n          value: \"username\",\n          align: \"center\"\n        },\n        {\n          text: \"Authenticated\",\n          value: \"authenticated\",\n          align: \"center\"\n        },\n        {\n          text: \"IP Address\",\n          value: \"ip_address\",\n          align: \"center\"\n        },\n        {\n          text: \"Started\",\n          value: \"started\",\n          align: \"center\"\n        },\n        {\n          text: \"Last Seen\",\n          value: \"last_seen\",\n          align: \"center\"\n        },\n        {\n          text: \"Actions\",\n          value: \"actions\",\n          align: \"center\"\n        }\n      ]\n    };\n  },\n\n  watch: {\n    pagination: {\n      async handler () {\n        const rowsPerPage = this.pagination.itemsPerPage\n        const pageNumber = this.pagination.page\n\n        this.data =  [{'per_page': rowsPerPage, 'page':pageNumber}]\n\n        await this.$store.dispatch(\"sessions/fetch\", this.data[0]);\n        this.listSessions = this.$store.getters[\"sessions/list\"];\n        this.numberSessions = this.$store.getters[\"sessions/getNumberSessions\"]; \n      },\n      deep: true\n    },\n  },\n\n  methods: {\n    detailsSession(session) {\n      this.$router.push(\"/session/\" + session.uid);\n    },\n    async closeSession(session) {\n      if (confirm(\"Are you sure?\", session)) {\n        this.$store.dispatch(\"sessions/close\", session);\n        this.sessionSnack = true;\n\n        await this.$store.dispatch(\"sessions/fetch\");\n        this.listSessions = this.$store.getters[\"sessions/list\"];\n      }\n    },\n  }\n};\n</script>\n"],"sourceRoot":"src/components/session"}]}