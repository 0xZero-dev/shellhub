{"remainingRequest":"/src/node_modules/babel-loader/lib/index.js!/src/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/src/node_modules/cache-loader/dist/cjs.js??ref--0-0!/src/node_modules/vue-loader/lib/index.js??vue-loader-options!/src/src/components/session/SessionDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/src/src/components/session/SessionDetails.vue","mtime":1589018514661},{"path":"/src/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/src/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/src/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/src/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/src/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL3NyYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2Vzc2lvbkRldGFpbHMiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1aWQ6ICIiLAogICAgICBzZXNzaW9uOiBbXSwKICAgICAgY2xvc2VTZXNzaW9uU25hY2s6IGZhbHNlLAogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICBoaWRlOiB0cnVlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzLnVpZCA9IF90aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgic2Vzc2lvbnMvZ2V0IiwgX3RoaXMudWlkKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfdGhpcy5zZXNzaW9uID0gX3RoaXMuJHN0b3JlLmdldHRlcnNbInNlc3Npb25zL2dldCJdOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgIF90aGlzLmhpZGUgPSBmYWxzZTsKICAgICAgICAgICAgICBfdGhpcy5kaWFsb2cgPSB0cnVlOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCA3XV0pOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZVNlc3Npb246IGZ1bmN0aW9uIGNsb3NlU2Vzc2lvbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgic2Vzc2lvbnMvY2xvc2UiKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuY2xvc2VTZXNzaW9uU25hY2sgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goInNlc3Npb25zL2dldCIsIF90aGlzMi51aWQpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfdGhpczIuc2Vzc2lvbiA9IF90aGlzMi4kc3RvcmUuZ2V0dGVyc1sic2Vzc2lvbnMvZ2V0Il07CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlZGlyZWN0OiBmdW5jdGlvbiByZWRpcmVjdCgpIHsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9zZXNzaW9ucycpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["SessionDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,iBAAA,EAAA,KAHA;AAIA,MAAA,MAAA,EAAA,KAJA;AAKA,MAAA,IAAA,EAAA;AALA,KAAA;AAOA,GAXA;AAYA,EAAA,OAZA,qBAYA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,KAAA,CAAA,GAAA,GAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AADA;AAAA;AAAA,qBAGA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA,KAAA,CAAA,GAAA,CAHA;;AAAA;AAIA,cAAA,KAAA,CAAA,OAAA,GAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,cAAA,CAAA;AAJA;AAAA;;AAAA;AAAA;AAAA;AAOA,cAAA,KAAA,CAAA,IAAA,GAAA,KAAA;AACA,cAAA,KAAA,CAAA,MAAA,GAAA,IAAA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,gBAAA;;AACA,gBAAA,MAAA,CAAA,iBAAA,GAAA,IAAA;AAFA;AAAA,uBAGA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA,MAAA,CAAA,GAAA,CAHA;;AAAA;AAIA,gBAAA,MAAA,CAAA,OAAA,GAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,cAAA,CAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,KANA;AAOA,IAAA,QAPA,sBAOA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA;AAVA;AAvBA,CAAA","sourcesContent":["<template>\n<fragment>\n\n  <div class=\"d-flex pa-0 align-center\">\n    <h1 v-if=\"hide\">Session Details</h1>\n    <v-spacer/>\n    <v-spacer/>\n  </div>\n\n  <v-card v-if=\"hide\" class=\"mt-2\">\n    <v-toolbar flat color=\"transparent\">\n\n      <v-toolbar-title v-if=\"this.session.device\">\n        <v-icon color=\"success\" v-if=\"this.session.active\">check_circle</v-icon>\n        <v-tooltip bottom v-else>\n          <template #activator=\"{ on }\">\n            <v-icon v-on=\"on\">check_circle</v-icon>\n          </template>\n          <span>active {{ session.last_seen | moment(\"from\", \"now\") }}</span>\n        </v-tooltip>\n        {{ this.session.device.name }}\n      </v-toolbar-title>\n\n      <v-spacer></v-spacer>\n\n      <v-icon class=\"icons ml-1\" v-if=\"this.session.active\" @click=\"closeSession()\">\n        desktop_access_disabled\n      </v-icon>\n\n    </v-toolbar>\n\n    <v-divider></v-divider>\n\n    <v-card-text>\n      <div class=\"mt-2\">\n        <div class=\"overline\">Uid</div>\n        <div>{{ this.session.uid }}</div>\n      </div>\n\n      <div class=\"mt-2\">\n        <div class=\"overline\">User</div>\n        <div>{{ this.session.username }}</div>\n      </div>\n\n      <div class=\"mt-2\">\n        <div class=\"overline\">Authenticated</div>\n        <v-tooltip bottom>\n            <template #activator=\"{ on }\" v-bind:session=\"this.session\">\n              <v-icon v-on=\"on\" :color=\"session.active ? 'success' : ''\" size=\"\" v-if=\"session.authenticated\">mdi-shield-check</v-icon>\n              <v-icon v-on=\"on\" color=\"error\" size=\"\" v-else>mdi-shield-alert</v-icon>\n            </template>\n            <span v-if=\"session.authenticated\">User has been authenticated</span>\n            <span v-else>User has not been authenticated</span>\n          </v-tooltip>\n      </div>\n\n      <div class=\"mt-2\">\n        <div class=\"overline\">Ip Address</div>\n        <code>{{ this.session.ip_address }}</code>\n      </div>\n\n      <div class=\"mt-2\">\n        <div class=\"overline\">Started</div>\n        <div>{{ this.session.started_at | moment(\"dddd, MMMM Do YYYY, h:mm:ss a\") }}</div>\n      </div>\n\n      <div class=\"mt-2\">\n        <div class=\"overline\">Last Seen</div>\n        <div>{{ this.session.last_seen | moment(\"dddd, MMMM Do YYYY, h:mm:ss a\") }}</div>\n      </div>\n    </v-card-text>\n\n    <v-snackbar v-model=\"closeSessionSnack\" :timeout=3000>Closed session conection to the device</v-snackbar>\n  </v-card>\n\n  <div class=\"text-center\">\n    <v-dialog v-model=\"dialog\" width=\"500\" persistent>\n      <v-card>\n        <v-card-title class=\"headline grey lighten-2\" primary-title>\n          Session ID error\n        </v-card-title>\n        <v-card-text>\n        <br>\n          You tried to access a non-existing session ID .\n        </v-card-text>\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" text @click=\"redirect\">\n            Go back to sessions\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</fragment>\n\n</template>\n\n<script>\nexport default {\n  name: \"SessionDetails\",\n\n  data() {\n    return {\n      uid: \"\",\n      session: [],\n      closeSessionSnack: false,\n      dialog: false,\n      hide:true\n    };\n  },\n  async created() {\n    this.uid = this.$route.params.id;\n    try{\n      await this.$store.dispatch(\"sessions/get\", this.uid);\n      this.session = this.$store.getters[\"sessions/get\"];\n    }\n    catch(error){\n      this.hide=false;\n      this.dialog=true;\n    }\n  },\n  methods: {\n    async closeSession() {\n      this.$store.dispatch(\"sessions/close\");\n      this.closeSessionSnack = true;\n      await this.$store.dispatch(\"sessions/get\", this.uid);\n      this.session = this.$store.getters[\"sessions/get\"];\n    },\n    redirect(){\n      this.dialog=false;\n      this.$router.push('/sessions');\n    }\n  }\n};\n</script>"],"sourceRoot":"src/components/session"}]}