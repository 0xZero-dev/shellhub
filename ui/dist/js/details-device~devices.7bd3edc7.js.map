{"version":3,"sources":["webpack:///./node_modules/xterm/lib/renderer/CharacterJoinerRegistry.js","webpack:///./node_modules/xterm/lib/common/Clone.js","webpack:///./node_modules/xterm/lib/common/EventEmitter2.js","webpack:///./node_modules/xterm/lib/renderer/dom/DomRendererRowFactory.js","webpack:///./node_modules/xterm/lib/renderer/BaseRenderLayer.js","webpack:///./node_modules/xterm/lib/Clipboard.js","webpack:///./node_modules/xterm/lib/AccessibilityManager.js","webpack:///./node_modules/xterm/lib/renderer/SelectionRenderLayer.js","webpack:///./node_modules/xterm/lib/common/Types.js","webpack:///./node_modules/vuetify/lib/components/VToolbar/index.js","webpack:///./node_modules/xterm/lib/ui/RenderDebouncer.js","webpack:///./node_modules/xterm/lib/renderer/dom/DomRenderer.js","webpack:///./node_modules/vuetify/lib/components/VMenu/index.js","webpack:///./node_modules/xterm/lib/Buffer.js","webpack:///./node_modules/xterm/lib/ui/Lifecycle.js","webpack:///./node_modules/vuetify/lib/components/VTooltip/VTooltip.js","webpack:///./node_modules/core-js/modules/es.string.iterator.js","webpack:///./node_modules/xterm/lib/renderer/Renderer.js","webpack:///./node_modules/xterm/lib/core/input/Keyboard.js","webpack:///./node_modules/vuetify/lib/components/VForm/VForm.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/xterm/lib/renderer/atlas/CharAtlasCache.js","webpack:///./node_modules/core-js/modules/es.object.entries.js","webpack:///./node_modules/xterm/lib/SoundManager.js","webpack:///./node_modules/xterm/lib/renderer/atlas/DynamicCharAtlas.js","webpack:///./node_modules/xterm/lib/public/Terminal.js","webpack:///./node_modules/xterm/lib/core/buffer/BufferLine.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/xterm/lib/core/buffer/BufferReflow.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./node_modules/xterm/lib/common/TypedArrayUtils.js","webpack:///./node_modules/xterm/lib/common/data/EscapeSequences.js","webpack:///./node_modules/xterm/lib/core/input/TextDecoder.js","webpack:///./node_modules/xterm/lib/renderer/atlas/NoneCharAtlas.js","webpack:///./node_modules/xterm/lib/renderer/atlas/BaseCharAtlas.js","webpack:///./node_modules/xterm/lib/Strings.js","webpack:///./node_modules/xterm/lib/common/EventEmitter.js","webpack:///./node_modules/xterm/lib/SelectionManager.js","webpack:///./node_modules/xterm/lib/renderer/RenderCoordinator.js","webpack:///./node_modules/xterm/lib/renderer/atlas/StaticCharAtlas.js","webpack:///./node_modules/xterm/lib/renderer/TextRenderLayer.js","webpack:///./node_modules/xterm/lib/renderer/atlas/CharAtlasUtils.js","webpack:///./node_modules/xterm/lib/ui/ColorManager.js","webpack:///./node_modules/xterm/lib/renderer/CursorRenderLayer.js","webpack:///./node_modules/xterm/lib/renderer/atlas/CharAtlasGenerator.js","webpack:///./node_modules/xterm/lib/CompositionHelper.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/xterm/lib/CharWidth.js","webpack:///./node_modules/xterm/lib/core/data/Charsets.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/xterm/lib/Terminal.js","webpack:///./node_modules/xterm/lib/handlers/AltClickHandler.js","webpack:///./node_modules/vuetify/lib/components/VBtn/index.js","webpack:///./node_modules/xterm/lib/EscapeSequenceParser.js","webpack:///./node_modules/xterm/lib/renderer/atlas/LRUMap.js","webpack:///./node_modules/xterm/lib/Linkifier.js","webpack:///./node_modules/xterm/lib/core/buffer/Marker.js","webpack:///./node_modules/xterm/lib/addons/fit/fit.js","webpack:///./node_modules/xterm/lib/public/AddonManager.js","webpack:///./node_modules/xterm/lib/MouseHelper.js","webpack:///./node_modules/xterm/lib/MouseZoneManager.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./src/components/terminal/TerminalDialog.vue?cc69","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///src/components/terminal/TerminalDialog.vue","webpack:///./src/components/terminal/TerminalDialog.vue?a5a0","webpack:///./src/components/terminal/TerminalDialog.vue","webpack:///./node_modules/xterm/lib/renderer/atlas/Types.js","webpack:///./node_modules/xterm/lib/common/CircularList.js","webpack:///./node_modules/xterm/lib/SelectionModel.js","webpack:///./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:///./node_modules/xterm/lib/renderer/LinkRenderLayer.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/xterm/lib/InputHandler.js","webpack:///./node_modules/xterm/lib/common/Lifecycle.js","webpack:///./node_modules/xterm/lib/common/Platform.js","webpack:///./node_modules/xterm/lib/CharMeasure.js","webpack:///./node_modules/xterm/lib/renderer/GridCache.js","webpack:///./node_modules/xterm/lib/addons/attach/attach.js","webpack:///./node_modules/xterm/lib/BufferSet.js","webpack:///./node_modules/xterm/lib/ui/ScreenDprMonitor.js","webpack:///./node_modules/xterm/lib/WindowsMode.js","webpack:///./node_modules/xterm/lib/Viewport.js","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","BufferLine_1","JoinedCellData","_super","firstCell","chars","width","_this","call","content","combinedData","fg","bg","_width","isCombined","getWidth","getChars","getCode","setFromCharData","Error","getAsCharData","AttributeData","CharacterJoinerRegistry","_terminal","_characterJoiners","_nextCharacterJoinerId","_workCell","CellData","registerCharacterJoiner","handler","joiner","id","push","deregisterCharacterJoiner","joinerId","i","length","splice","getJoinedCharacters","row","line","buffer","lines","get","ranges","lineStr","translateToString","rangeStartColumn","currentStringIndex","rangeStartStringIndex","rangeAttrFG","getFg","rangeAttrBG","getBg","x","getTrimmedLength","loadCell","joinedRanges","_getJoinedRanges","WHITESPACE_CELL_CHAR","cols","startIndex","endIndex","lineData","startCol","text","substring","joinerRanges","j","_mergeRanges","_stringRangesToCellRanges","currentRangeIndex","currentRangeStarted","currentRange","length_1","getString","newRange","inRange","range","Math","max","min","clone","val","depth","clonedObject","isArray","key","EventEmitter2","_listeners","_event","listener","disposable","dispose","enumerable","configurable","fire","data","queue","undefined","Types_1","BOLD_CLASS","DIM_CLASS","ITALIC_CLASS","UNDERLINE_CLASS","CURSOR_CLASS","CURSOR_BLINK_CLASS","CURSOR_STYLE_BLOCK_CLASS","CURSOR_STYLE_BAR_CLASS","CURSOR_STYLE_UNDERLINE_CLASS","DomRendererRowFactory","_terminalOptions","_document","createRow","isCursorRow","cursorStyle","cursorX","cursorBlink","cellWidth","fragment","createDocumentFragment","lineLength","NULL_CELL_CODE","charElement","createElement","style","classList","add","isBold","enableBold","isItalic","isDim","isUnderline","textContent","swapColor","isInverse","isFgRGB","getAttribute","toColorRGB","getFgColor","join","setAttribute","isFgPalette","drawBoldTextInBrightColors","INVERTED_DEFAULT_COLOR","isBgRGB","getBgColor","isBgPalette","appendChild","Types_2","CharAtlasCache_1","BaseRenderLayer","_container","zIndex","_alpha","_colors","_scaledCharWidth","_scaledCharHeight","_scaledCellWidth","_scaledCellHeight","_scaledCharLeft","_scaledCharTop","_currentGlyphIdentifier","code","bold","dim","italic","_canvas","document","toString","_initCanvas","removeChild","_charAtlas","_ctx","getContext","alpha","clearAll","onOptionsChanged","terminal","onBlur","onFocus","onCursorMove","onGridChanged","startRow","endRow","onSelectionChanged","start","end","columnSelectMode","setColors","colorSet","_refreshCharAtlas","setTransparency","oldCanvas","cloneNode","replaceChild","rows","acquireCharAtlas","warmUp","resize","scaledCellWidth","scaledCellHeight","scaledCharWidth","scaledCharHeight","scaledCharLeft","scaledCharTop","scaledCanvasWidth","height","scaledCanvasHeight","canvasWidth","canvasHeight","fillCells","y","fillRect","fillBottomLineAtCells","window","devicePixelRatio","fillLeftLineAtCell","strokeRectAtCell","lineWidth","strokeRect","clearRect","fillStyle","background","css","clearCells","fillCharTrueColor","cell","font","_getFont","textBaseline","_clipRow","fillText","drawChars","_drawUncachedChars","isBgDefault","isFgDefault","DEFAULT_COLOR","drawInBrightColor","options","WHITESPACE_CELL_CODE","atlasDidDraw","draw","save","ansi","foreground","globalAlpha","DIM_OPACITY","restore","beginPath","rect","clip","fontWeight","fontWeightBold","fontStyle","fontSize","fontFamily","prepareTextForTerminal","replace","bracketTextForPaste","bracketedPasteMode","copyHandler","ev","term","selectionManager","browser","isMSIE","clipboardData","setData","selectionText","preventDefault","pasteHandler","stopPropagation","dispatchPaste","textarea","emit","cancel","getData","moveTextAreaUnderMouseCursor","pos","screenElement","getBoundingClientRect","left","clientX","top","clientY","position","focus","setTimeout","rightClickHandler","shouldSelectWord","isClickInSelection","selectWordAtCursor","select","Strings","Platform_1","RenderDebouncer_1","Lifecycle_1","Lifecycle_2","ScreenDprMonitor_1","MAX_ROWS_TO_READ","AccessibilityManager","_dimensions","_liveRegionLineCount","_charsToConsume","_charsToAnnounce","_accessibilityTreeRoot","_rowContainer","_rowElements","_createAccessibilityTreeNode","_topBoundaryFocusListener","e","_onBoundaryFocus","_bottomBoundaryFocusListener","addEventListener","_refreshRowsDimensions","_renderRowsDebouncer","RenderDebouncer","_renderRows","bind","_refreshRows","_liveRegion","element","insertAdjacentElement","register","onResize","_onResize","onRender","onScroll","addDisposableListener","char","_onChar","onLineFeed","spaceCount","_onTab","onKey","_onKey","_clearLiveRegion","_screenDprMonitor","ScreenDprMonitor","setListener","addDisposableDomListener","boundaryElement","target","beforeBoundaryElement","posInSet","lastRowPos","relatedTarget","topBoundaryElement","bottomBoundaryElement","pop","shift","removeEventListener","newElement","unshift","scrollLines","stopImmediatePropagation","children","tabIndex","_refreshRowDimensions","shiftedChar","tooMuchOutput","isMac","parentNode","keyChar","refresh","setSize","translateBufferLineToString","ydisp","blankLine","_announceCharacters","actualCellHeight","setDimensions","dimensions","Disposable","BaseRenderLayer_1","SelectionRenderLayer","container","colors","_clearState","_state","reset","_didStateChange","viewportStartRow","viewportEndRow","viewportCappedStartRow","viewportCappedEndRow","selection","startRowEndCol","middleRowsCount","endCol","_areCoordinatesEqual","coord1","coord2","VToolbarTitle","VToolbarItems","_renderCallback","_animationFrame","cancelAnimationFrame","rowStart","rowEnd","rowCount","_rowCount","_rowStart","_rowEnd","requestAnimationFrame","_innerRefresh","DomRendererRowFactory_1","TERMINAL_CLASS_PREFIX","ROW_CONTAINER_CLASS","FG_CLASS_PREFIX","BG_CLASS_PREFIX","FOCUS_CLASS","SELECTION_CLASS","nextTerminalId","DomRenderer","_terminalClass","lineHeight","_refreshRowElements","_selectionContainer","actualCellWidth","_updateDimensions","_injectCss","_rowFactory","linkifier","onLinkHover","_onLinkHover","onLinkLeave","_onLinkLeave","remove","_themeStyleElement","_dimensionsStyleElement","charMeasure","ceil","round","letterSpacing","floor","forEach","overflow","styles","_terminalSelector","innerHTML","_viewportElement","cursor","cursorAccent","c","onDevicePixelRatioChange","onCharSizeChanged","documentFragment","_createSelectionElement","endCol_1","colStart","colEnd","clear","renderRows","cursorAbsoluteY","ybase","rowElement","_setCellUnderline","x1","x2","y1","y2","enabled","span","textDecoration","CircularList_1","BufferReflow_1","Marker_1","MAX_BUFFER_SIZE","Buffer","_hasScrollback","savedCurAttrData","DEFAULT_ATTR_DATA","markers","_nullCell","fromCharData","NULL_CELL_CHAR","NULL_CELL_WIDTH","_whitespaceCell","WHITESPACE_CELL_WIDTH","_cols","_rows","getNullCell","attr","getWhitespaceCell","getBlankLine","isWrapped","BufferLine","maxLength","absoluteY","relativeY","_getCorrectBufferLength","correctBufferLength","scrollback","fillViewportRows","fillAttr","CircularList","scrollTop","scrollBottom","setupTabStops","newCols","newRows","nullCell","newMaxLength","addToY","amountToTrim","trimStart","savedY","savedX","_isReflowEnabled","_reflow","windowsMode","_reflowLarger","_reflowSmaller","toRemove","reflowLargerGetLinesToRemove","newLayoutResult","reflowLargerCreateNewLayout","reflowLargerApplyNewLayout","layout","_reflowLargerAdjustViewport","countRemoved","viewportAdjustments","toInsert","countToInsert","nextLine","wrappedLines","lastLineLength","destLineLengths","reflowSmallerGetNewLineLengths","linesToAdd","trimmedLines","newLines","newLine","apply","destLineIndex","destCol","srcLineIndex","srcCol","cellsToCopy","copyCellsFrom","wrappedLinesIndex","getWrappedLineTrimmedLength","setCell","insertEvents","originalLines","originalLinesLength","originalLineIndex","nextToInsertIndex","nextToInsert","countInsertedSoFar","nextI","set","index","amount","insertCountEmitted","onInsertEmitter","onTrimEmitter","stringIndexToBufferIndex","lineIndex","stringIndex","trimRight","CHAR_DATA_WIDTH_INDEX","CHAR_DATA_CHAR_INDEX","getWrappedRangeForLine","first","last","tabs","prevStop","tabStopWidth","nextStop","addMarker","marker","Marker","onTrim","onInsert","event","onDelete","onDispose","_removeMarker","indexOf","iterator","startOverscan","endOverscan","BufferStringIterator","_buffer","_trimRight","_startIndex","_endIndex","_startOverscan","_endOverscan","_current","hasNext","next","result","node","type","useCapture","extend","name","props","closeDelay","Number","String","default","disabled","Boolean","fixed","openDelay","openOnHover","tag","transition","calculatedMinWidth","closeDependents","computed","activator","unknown","bottom","right","activatorLeft","attach","offsetLeft","nudgeLeft","parseInt","nudgeRight","calcXOverflow","activatorTop","offsetTop","nudgeTop","nudgeBottom","calcYOverflow","pageYOffset","isActive","calculatedLeft","maxWidth","minWidth","opacity","calculatedTop","activeZIndex","$nextTick","callActivate","methods","updateDimensions","startTransition","runDelay","listeners","genActivatorListeners","getActivator","blur","keydown","keyCode","esc","genContent","computedTransition","$createElement","setBackgroundColor","color","staticClass","class","contentClass","menuable__content__active","activatorFixed","attrs","getScopeIdAttrs","directives","isContentActive","ref","getContentSlot","h","classes","showLazyContent","genTransition","genActivator","charAt","InternalStateModule","defineIterator","STRING_ITERATOR","setInternalState","getInternalState","getterFor","iterated","string","point","state","done","TextRenderLayer_1","SelectionRenderLayer_1","CursorRenderLayer_1","LinkRenderLayer_1","CharacterJoinerRegistry_1","Renderer","allowTransparency","_characterJoinerRegistry","_renderLayers","TextRenderLayer","LinkRenderLayer","CursorRenderLayer","_devicePixelRatio","l","_runOperation","operation","EscapeSequences_1","KEYCODE_KEY_MAPPINGS","48","49","50","51","52","53","54","55","56","57","186","187","188","189","190","191","192","219","220","221","222","evaluateKeyboardEvent","applicationCursorMode","macOptionIsMeta","modifiers","shiftKey","altKey","ctrlKey","metaKey","C0","ESC","BS","DEL","HT","CR","US","keyMapping","fromCharCode","inheritAttrs","lazyValidation","inputs","watchers","errorBag","watch","errors","values","includes","$emit","deep","immediate","input","watcher","$watch","$set","_uid","valid","shouldValidate","filter","validate","resetErrorBag","resetValidation","watchInput","found","find","unwatch","$delete","novalidate","attrs$","on","submit","$slots","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","toLength","createProperty","getIteratorMethod","module","arrayLike","step","O","C","argumentsLength","arguments","mapfn","mapping","iteratorMethod","CharAtlasUtils_1","DynamicCharAtlas_1","NoneCharAtlas_1","StaticCharAtlas_1","charAtlasImplementations","charAtlasCache","newConfig","generateConfig","entry","ownedByIndex","ownedBy","configEquals","config","atlas","newEntry","experimentalCharAtlas","removeTerminalFromCache","$","$entries","entries","stat","DEFAULT_BELL_SOUND","SoundManager","_audioContext","audioContextCtor","AudioContext","webkitAudioContext","console","warn","playBellSound","ctx","audioContext","bellAudioSource","createBufferSource","decodeAudioData","_base64ToArrayBuffer","_removeMimeType","bellSound","connect","destination","base64","binaryString","atob","len","bytes","Uint8Array","charCodeAt","dataURI","splitUri","split","BaseCharAtlas_1","ColorManager_1","CharAtlasGenerator_1","LRUMap_1","TEXTURE_WIDTH","TEXTURE_HEIGHT","TRANSPARENT_COLOR","rgba","FRAME_CACHE_DRAW_LIMIT","GLYPH_BITMAP_COMMIT_DELAY","getGlyphCacheKey","glyph","DynamicCharAtlas","_config","_drawToCacheCount","_glyphsWaitingOnBitmap","_bitmapCommitTimeout","_bitmap","_cacheCanvas","_cacheCtx","tmpCanvas","_tmpCtx","_height","capacity","_cacheMap","prealloc","clearTimeout","beginFrame","_canCache","glyphKey","cacheValue","_drawFromCache","size","peek","cacheValue_1","_drawToCache","_toCoordinateX","_toCoordinateY","isEmpty","cacheX","cacheY","drawImage","inBitmap","_getColorFromAnsiIndex","idx","DEFAULT_ANSI_COLORS","_getBackgroundColor","_getForegroundColor","backgroundColor","globalCompositeOperation","imageData","getImageData","clearColor","putImageData","_addGlyphToBitmap","isFirefox","isSafari","_generateBitmap","glyphsMovingToBitmap","createImageBitmap","then","bitmap","Terminal_1","AddonManager_1","Terminal","_core","_addonManager","AddonManager","onSelectionChange","onData","onTitleChange","BufferApiView","off","columns","writeln","open","parent","attachCustomKeyEventHandler","customKeyEventHandler","addCsiHandler","flag","callback","addOscHandler","ident","registerLinkMatcher","regex","deregisterLinkMatcher","matcherId","cursorYOffset","hasSelection","column","getSelection","getSelectionPosition","clearSelection","selectAll","selectLines","destroy","scrollPages","pageCount","scrollToTop","scrollToBottom","scrollToLine","write","writeUtf8","getOption","setOption","applyAddon","addon","loadAddon","getLine","BufferLineApiView","_line","getCell","BufferCellApiView","startColumn","endColumn","_x","TextDecoder_1","DEFAULT_ATTR","CHAR_DATA_ATTR_INDEX","CHAR_DATA_CODE_INDEX","CELL_SIZE","fromColorRGB","newObj","isBlink","isInvisible","getFgColorMode","getBgColorMode","freeze","obj","stringFromCodePoint","combined","second","fillCellData","_combined","_data","Uint32Array","cp","hasWidth","hasContent","getCodePoint","setCellFromCodePoint","codePoint","addCodepointToCell","insertCells","n","deleteCells","replaceCells","subarray","keys","fill","copyFrom","el","src","applyInReverse","srcData","srcCombinedKeys","toInteger","requireObjectCoercible","createMethod","CONVERT_TO_STRING","$this","S","slice","codeAt","oldCols","bufferAbsoluteY","srcTrimmedTineLength","srcRemainingCells","destRemainingCells","countToRemove","i_1","nextToRemoveIndex","nextToRemoveStart","countRemovedSoFar","onDeleteEmitter","newLayout","newLayoutLines","newLineLengths","cellsNeeded","map","reduce","srcLine","cellsAvailable","oldTrimmedLength","endsWithWide","endsInNull","followingLineStartsWithWide","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","TO_ENTRIES","it","array","fillFallback","concat","a","NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","LF","VT","FF","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","FS","GS","RS","SP","C1","PAD","HOP","BPH","NBH","IND","NEL","SSA","ESA","HTS","HTJ","VTS","PLD","PLU","RI","SS2","SS3","DCS","PU1","PU2","STS","CCH","MW","SPA","EPA","SOS","SGCI","SCI","CSI","ST","OSC","PM","APC","utf32ToString","codepoint","StringToUtf32","_interim","decode","startPos","Utf8ToUtf32","interim","byte1","byte2","byte3","byte4","discardInterim","tmp","missing","fourStop","NoneCharAtlas","BaseCharAtlas","_didWarmUp","_doWarmUp","promptLabel","EventEmitter","_events","disposed","removeAllListeners","args","_i","emitMayRemoveListeners","MouseHelper_1","Browser","SelectionModel_1","AltClickHandler_1","EventEmitter2_1","DRAG_SCROLL_MAX_THRESHOLD","DRAG_SCROLL_MAX_SPEED","DRAG_SCROLL_INTERVAL","ALT_CLICK_MOVE_CURSOR_TIME","WORD_SEPARATORS","NON_BREAKING_SPACE_CHAR","ALL_NON_BREAKING_SPACE_REGEX","RegExp","SelectionManager","_charMeasure","_enabled","_onLinuxMouseSelection","_onRedrawRequest","_onSelectionChange","_initListeners","enable","_model","SelectionModel","_activeSelectionMode","_removeMouseDownListeners","buffers","active","_mouseMoveListener","_onMouseMove","_mouseUpListener","_onMouseUp","initBuffersListeners","_trimListener","_onTrim","onBufferActivate","_onBufferActivate","disable","finalSelectionStart","finalSelectionEnd","lineText","bufferLine","formattedResult","isMSWindows","isLinuxMouseSelection","_refreshAnimationFrame","_refresh","isLinux","coords","_getMouseBufferCoords","_areCoordsInSelection","_selectWordAt","selectionEnd","isSelectAllActive","selectionStart","needsRefresh","mouseHelper","getCoords","_getMouseEventScrollAmount","offset","MouseHelper","getCoordsRelativeToElement","terminalHeight","abs","shouldForceSelection","macOptionClickForcesSelection","onMouseDown","_mouseDownTimeStamp","timeStamp","button","_dragScrollAmount","_onIncrementalClick","detail","_onSingleClick","_onDoubleClick","_onTripleClick","_addMouseDownListeners","ownerDocument","_dragScrollIntervalTimer","setInterval","_dragScroll","clearInterval","selectionStartLength","shouldColumnSelect","_selectLineAt","previousSelectionEnd","_selectToWordAt","timeElapsed","AltClickHandler","move","activeBuffer","_convertViewportColToCharacterIndex","charIndex","setSelection","col","_getWordAt","allowWhitespaceOnlySelection","followWrappedLinesAbove","followWrappedLinesBelow","charOffset","leftWideCharCount","rightWideCharCount","leftLongCharOffset","rightLongCharOffset","length_2","_isCharWordSeparator","length_3","length_4","trim","previousBufferLine","previousLineWordPosition","nextBufferLine","nextLineWordPosition","wordPosition","areSelectionValuesReversed","wrappedRange","RenderCoordinator","_renderer","_isPaused","_needsFullRefresh","_canvasWidth","_canvasHeight","_onDimensionsChange","_onRender","_onRefreshRequest","_renderDebouncer","observer_1","IntersectionObserver","_onIntersectionChange","threshold","observe","disconnect","intersectionRatio","refreshRows","_fireOnCanvasResize","changeOptions","setRenderer","renderer","_fullRefresh","StaticCharAtlas","_canvasFactory","canvas","generateStaticCharAtlasTexture","HTMLCanvasElement","_texture","texture","_isCached","colorIndex","isAscii","isBasicColor","isDefaultColor","isDefaultBackground","is256Color","charAtlasCellWidth","CHAR_ATLAS_CELL_SPACING","charAtlasCellHeight","GridCache_1","characterJoinerRegistry","_characterOverlapCache","GridCache","terminalFont","_characterWidth","_characterFont","_forEachCell","firstRow","lastRow","joinerRegistry","isJoined","lastCharX","_isOverlapping","_drawBackground","startX","startY","prevFillStyle","nextFillStyle","_drawForeground","cache","overlaps","measureText","clonedColors","colorCode","DEFAULT_FOREGROUND","fromHex","DEFAULT_BACKGROUND","DEFAULT_CURSOR","DEFAULT_CURSOR_ACCENT","DEFAULT_SELECTION","toPaddedHex","s","v","r","g","ch","ColorManager","_litmusColor","createLinearGradient","setTheme","theme","_parseColor","black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite","fallback","BLINK_INTERVAL","_cell","isFocused","_cursorRenderers","_renderBarCursor","_renderBlockCursor","_renderUnderlineCursor","_clearCursor","_cursorBlinkStateManager","pause","resume","CursorBlinkStateManager","_render","restartBlinkAnimation","isPaused","triggeredByAnimationFrame","cursorState","cursorHidden","cursorY","viewportRelativeCursorY","_renderBlurCursor","isCursorVisible","strokeStyle","_restartInterval","_blinkStartTimeout","_blinkInterval","_animationTimeRestarted","Date","now","timeToStart","time","context","canvasFactory","cellHeight","getFont","charAtlasImageData","CompositionHelper","_textarea","_compositionView","_isComposing","_isSendingComposition","_compositionPosition","compositionstart","compositionupdate","updateCompositionElements","compositionend","_finalizeComposition","_handleAnyTextareaChanges","waitForPropagation","_clearTextareaPosition","currentCompositionPosition_1","oldValue","newValue","diff","dontRecurse","isCursorInViewport","cursorTop","cursorLeft","compositionViewBounds","IndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","proto","forced","separator","TypedArrayUtils_1","getStringCellWidth","wcwidth","opts","COMBINING_BMP","COMBINING_HIGH","bisearch","ucs","mid","wcwidthHigh","control","table","nul","num","CHARSETS","DEFAULT_CHARSET","from","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","BufferSet_1","Buffer_1","CompositionHelper_1","EventEmitter_1","Viewport_1","Clipboard_1","InputHandler_1","Renderer_1","Linkifier_1","SelectionManager_1","CharMeasure_1","SoundManager_1","MouseZoneManager_1","AccessibilityManager_1","DomRenderer_1","Keyboard_1","Clone_1","WindowsMode_1","RenderCoordinator_1","WRITE_BUFFER_PAUSE_THRESHOLD","WRITE_TIMEOUT_MS","WRITE_BUFFER_LENGTH_THRESHOLD","MINIMUM_COLS","MINIMUM_ROWS","CONSTRUCTOR_ONLY_OPTIONS","DEFAULT_OPTIONS","convertEol","termName","bellStyle","screenKeys","screenReaderMode","debug","cancelEvents","disableStdin","useFlowControl","rightClickSelectsWord","rendererType","_blankLine","_onCursorMove","_onData","_onLineFeed","_onScroll","_onTitleChange","_setup","domEvent","_windowsMode","_customKeyEventHandler","_parent","body","applicationKeypad","applicationCursor","originMode","insertMode","wraparoundMode","charset","gcharset","glevel","charsets","curAttrData","_eraseAttrData","params","currentParam","writeBuffer","writeBufferUtf8","_writeInProgress","_xoffSentToCatchUp","_userScrolling","_inputHandler","InputHandler","Linkifier","_mouseZoneManager","soundManager","BufferSet","applyWindowsMode","eraseAttrData","preventScroll","activeElement","hasFocus","error","_setTheme","newBufferLength","_renderCoordinator","measure","_createRenderer","viewport","syncScrollArea","_accessibilityManager","_onTextAreaFocus","sendFocus","updateCursorStyle","showCursor","_onTextAreaBlur","_initGlobal","_bindKeys","pasteHandlerWrapper","self","_keyDown","_keyPress","wasModifierKeyOnlyEvent","_keyUp","_compositionHelper","_queueLinkification","_context","defaultView","dir","_viewportScrollArea","_helperContainer","MouseZoneManager","attachToDom","CharMeasure","_theme","_colorManager","Viewport","onThemeChange","onDimensionsChange","onRedrawRequest","onLinuxMouseSelection","toggle","mouseEvents","bindMouse","pressed","sendButton","getButton","getRawByteCoords","sendEvent","overrideType","sendMove","encode","utfMouse","_vt300Mouse","data_1","_decLocator","page","urxvtMouse","sgrMouse","meta","ctrl","mod","which","deltaY","vt200Mouse","normalMouse","moveHandler","x10Mouse","hasScrollback","getLinesScrolled","sequence","onWheel","onTouchStart","onTouchMove","linkifyRows","scroll","eraseAttr","topRow","bottomRow","willBufferBeTrimmed","isFull","recycle","scrollRegionHeight","shiftElements","updateRange","disp","suppressScrollEvent","oldYdisp","scrollAmount","_isDisposed","_innerWriteUtf8","bufferOffset","startTime","_refreshStart","_refreshEnd","parseUtf8","_innerWrite","parse","normal","scrollCount","_isThirdLevelShift","thirdLevelKey","setgLevel","setgCharset","charCode","bell","_soundBell","_visualBell","_visualBellTimer","log","isNaN","maxRange","is","handleTitle","title","reverseIndex","inputHandler","writeInProgress","xoffSentToCatchUp","userScrolling","tabSet","force","_mouseEvent","_a","_lines","_startCol","_startRow","coordinates","coordinate","_endCol","_endRow","_arrowSequences","_moveHorizontallyOnly","_resetStartingRow","_moveToRequestedRow","_moveToRequestedCol","repeat","_bufferLine","_wrappedRowsForRow","_sequence","rowsToMove","_wrappedRowsCount","_verticalDirection","direction","_horizontalDirection","wrappedRows","currentRow","lineWraps","forward","currentCol","bufferStr","count","str","rpt","low","high","arr","TransitionTable","action","addMany","codes","PRINTABLES","EXECUTABLES","NON_ASCII_PRINTABLE","VT500_TRANSITION_TABLE","states","DcsDummy","hook","collect","put","unhook","EscapeSequenceParser","TRANSITIONS","initialState","currentState","_osc","_params","_collect","_printHandlerFb","_executeHandlerFb","_csiHandlerFb","_escHandlerFb","_oscHandlerFb","identifier","_dcsHandlerFb","_errorHandlerFb","_printHandler","_executeHandlers","_csiHandlers","_escHandlers","_oscHandlers","_dcsHandlers","_activeDcsHandler","_errorHandler","setEscHandler","setPrintHandler","clearPrintHandler","setExecuteHandler","clearExecuteHandler","setExecuteHandlerFallback","handlerList","handlerIndex","setCsiHandler","clearCsiHandler","setCsiHandlerFallback","collectAndFlag","clearEscHandler","setEscHandlerFallback","setOscHandler","clearOscHandler","setOscHandlerFallback","setDcsHandler","clearDcsHandler","setDcsHandlerFallback","setErrorHandler","clearErrorHandler","print","dcs","osc","dcsHandler","inject","abort","handlers","j_1","handlers_1","j_2","LRUMap","_map","_head","_tail","_nodePool","_unlinkNode","prev","_appendNode","tail","nodePool","peekValue","head","CharWidth_1","_linkMatchers","_nextLinkMatcherId","_onLinkTooltip","_rowsToLinkify","mouseZoneManager","_rowsTimeoutId","_linkifyRows","TIME_BEFORE_LINKIFY","absoluteRowIndexStart","absoluteRowIndexEnd","overscanLineLimit","OVERSCAN_CHAR_LIMIT","_doLinkifyRow","matcher","matchIndex","validationCallback","hoverTooltipCallback","tooltipCallback","hoverLeaveCallback","leaveCallback","willLinkActivate","priority","_addLinkMatcherToList","rowIndex","match","rex","source","flags","_loop_1","uri","this_1","lastIndex","bufferIndex","isValid","_addLink","exec","state_1","MouseZone","_createLinkHoverEvent","_id","_nextId","isDisposed","_onDispose","proposeGeometry","parentElement","parentElementStyle","getComputedStyle","parentElementHeight","getPropertyValue","parentElementWidth","elementStyle","elementPadding","elementPaddingVer","elementPaddingHor","availableHeight","availableWidth","scrollBarWidth","geometry","fit","terminalConstructor","_addons","instance","loadedAddon","_wrappedAddonDispose","activate","colCount","isSelection","HOVER_DURATION","_zones","_areZonesActive","_tooltipTimeout","_currentZone","_lastHoverCoords","_onMouseDown","_mouseLeaveListener","_onMouseLeave","_clickListener","_onClick","_deactivate","zone","_activate","pageX","pageY","_onHover","_findZoneEventAt","hoverCallback","_onTooltip","_initialSelectionLength","currentSelectionLength","clickCallback","defineWellKnownSymbol","render","_vm","_h","_c","_self","scopedSlots","_u","fn","$event","_v","model","$$v","show","expression","close","rules","required","username","passwd","_e","staticRenderFns","_arrayWithHoles","_iterableToArrayLimit","Symbol","_arr","_n","_d","_s","err","_arrayLikeToArray","arr2","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","test","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","showLoginForm","ws","xterm","$store","getters","$props","uid","dispatch","protocolConnectionURL","$refs","form","user","encodeURIComponent","WebSocket","onopen","onclose","showCopySnack","copySnack","component","VBtn","VCard","VDialog","VForm","VIcon","VSpacer","VTextField","VToolbar","_maxLength","_array","_length","newArray","_getCyclicIndex","newLength","deleteCount","items","countToTrim","expandListBy","startPlusLength","global","DOMIterables","ArrayIteratorMethods","createNonEnumerableProperty","wellKnownSymbol","ITERATOR","TO_STRING_TAG","ArrayValues","COLLECTION_NAME","Collection","CollectionPrototype","METHOD_NAME","_clearCurrentLink","middleRowCount","has","isObject","copyConstructorProperties","NativeSymbol","description","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","regexp","symbol","valueOf","desc","Charsets_1","EscapeSequenceParser_1","GLEVEL","DECRQSS","pt","STYLES","_parser","_parseBuffer","_stringDecoder","_utf8Decoder","insertChars","cursorUp","cursorDown","cursorForward","cursorBackward","cursorNextLine","cursorPrecedingLine","cursorCharAbsolute","cursorPosition","cursorForwardTab","eraseInDisplay","eraseInLine","insertLines","deleteLines","deleteChars","scrollUp","scrollDown","eraseChars","cursorBackwardTab","charPosAbsolute","hPositionRelative","repeatPrecedingCharacter","sendDeviceAttributes","linePosAbsolute","vPositionRelative","hVPosition","tabClear","setMode","resetMode","charAttributes","deviceStatus","softReset","setCursorStyle","setScrollRegion","saveCursor","restoreCursor","lineFeed","carriageReturn","backspace","tab","shiftOut","shiftIn","setTitle","keypadApplicationMode","keypadNumericMode","selectDefaultCharset","selectCharset","cursorStartX","cursorStartY","chWidth","curAttr","bufferRow","originalX","param","_eraseInBufferLine","clearWrap","_resetBufferLine","scrollBackSize","scrollBottomRowsOffset","scrollBottomAbsolute","savedCols","activateAltBuffer","activateNormalBuffer","isBlinking","level","_disposables","unregister","isNode","navigator","userAgent","platform","contains","isIpad","isIphone","_onCharSizeChanged","_parentElement","_measureElement","adjustedHeight","socket","bidirectional","buffered","myTextDecoder","addonTerminal","displayData","__pushToBuffer","__socket","__flushBuffer","__attachSocketBuffer","__getMessage","TextDecoder","ArrayBuffer","fileReader_1","FileReader","readAsArrayBuffer","__sendData","readyState","send","addSocketListener","__dataListener","detach","_normal","_alt","_activeBuffer","inactiveBuffer","_currentDevicePixelRatio","_listener","clearListener","_outerListener","_updateDpr","_resolutionMediaMatchList","removeListener","matchMedia","addListener","lastChar","FALLBACK_SCROLL_BAR_WIDTH","_scrollArea","_currentRowHeight","_lastRecordedBufferLength","_lastRecordedViewportHeight","_lastRecordedBufferHeight","_lastScrollTop","_wheelPartialScroll","_ignoreNextScrollEvent","offsetWidth","onDimensionsChance","offsetHeight","newBufferHeight","newScrollTop","offsetParent","newRow","_getPixelsScrolled","deltaMode","WheelEvent","DOM_DELTA_LINE","DOM_DELTA_PAGE","DOM_DELTA_PIXEL","_lastTouchY","touches","toAbsoluteIndex","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","SPECIES","nativeSlice","Constructor","k","fin"],"mappings":"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","file":"js/details-device~devices.7bd3edc7.js","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar JoinedCellData = (function (_super) {\n    __extends(JoinedCellData, _super);\n    function JoinedCellData(firstCell, chars, width) {\n        var _this = _super.call(this) || this;\n        _this.content = 0;\n        _this.combinedData = '';\n        _this.fg = firstCell.fg;\n        _this.bg = firstCell.bg;\n        _this.combinedData = chars;\n        _this._width = width;\n        return _this;\n    }\n    JoinedCellData.prototype.isCombined = function () {\n        return 2097152;\n    };\n    JoinedCellData.prototype.getWidth = function () {\n        return this._width;\n    };\n    JoinedCellData.prototype.getChars = function () {\n        return this.combinedData;\n    };\n    JoinedCellData.prototype.getCode = function () {\n        return 0x1FFFFF;\n    };\n    JoinedCellData.prototype.setFromCharData = function (value) {\n        throw new Error('not implemented');\n    };\n    JoinedCellData.prototype.getAsCharData = function () {\n        return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n    };\n    return JoinedCellData;\n}(BufferLine_1.AttributeData));\nexports.JoinedCellData = JoinedCellData;\nvar CharacterJoinerRegistry = (function () {\n    function CharacterJoinerRegistry(_terminal) {\n        this._terminal = _terminal;\n        this._characterJoiners = [];\n        this._nextCharacterJoinerId = 0;\n        this._workCell = new BufferLine_1.CellData();\n    }\n    CharacterJoinerRegistry.prototype.registerCharacterJoiner = function (handler) {\n        var joiner = {\n            id: this._nextCharacterJoinerId++,\n            handler: handler\n        };\n        this._characterJoiners.push(joiner);\n        return joiner.id;\n    };\n    CharacterJoinerRegistry.prototype.deregisterCharacterJoiner = function (joinerId) {\n        for (var i = 0; i < this._characterJoiners.length; i++) {\n            if (this._characterJoiners[i].id === joinerId) {\n                this._characterJoiners.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    CharacterJoinerRegistry.prototype.getJoinedCharacters = function (row) {\n        if (this._characterJoiners.length === 0) {\n            return [];\n        }\n        var line = this._terminal.buffer.lines.get(row);\n        if (line.length === 0) {\n            return [];\n        }\n        var ranges = [];\n        var lineStr = line.translateToString(true);\n        var rangeStartColumn = 0;\n        var currentStringIndex = 0;\n        var rangeStartStringIndex = 0;\n        var rangeAttrFG = line.getFg(0);\n        var rangeAttrBG = line.getBg(0);\n        for (var x = 0; x < line.getTrimmedLength(); x++) {\n            line.loadCell(x, this._workCell);\n            if (this._workCell.getWidth() === 0) {\n                continue;\n            }\n            if (this._workCell.fg !== rangeAttrFG || this._workCell.bg !== rangeAttrBG) {\n                if (x - rangeStartColumn > 1) {\n                    var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n                    for (var i = 0; i < joinedRanges.length; i++) {\n                        ranges.push(joinedRanges[i]);\n                    }\n                }\n                rangeStartColumn = x;\n                rangeStartStringIndex = currentStringIndex;\n                rangeAttrFG = this._workCell.fg;\n                rangeAttrBG = this._workCell.bg;\n            }\n            currentStringIndex += this._workCell.getChars().length || BufferLine_1.WHITESPACE_CELL_CHAR.length;\n        }\n        if (this._terminal.cols - rangeStartColumn > 1) {\n            var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n            for (var i = 0; i < joinedRanges.length; i++) {\n                ranges.push(joinedRanges[i]);\n            }\n        }\n        return ranges;\n    };\n    CharacterJoinerRegistry.prototype._getJoinedRanges = function (line, startIndex, endIndex, lineData, startCol) {\n        var text = line.substring(startIndex, endIndex);\n        var joinedRanges = this._characterJoiners[0].handler(text);\n        for (var i = 1; i < this._characterJoiners.length; i++) {\n            var joinerRanges = this._characterJoiners[i].handler(text);\n            for (var j = 0; j < joinerRanges.length; j++) {\n                CharacterJoinerRegistry._mergeRanges(joinedRanges, joinerRanges[j]);\n            }\n        }\n        this._stringRangesToCellRanges(joinedRanges, lineData, startCol);\n        return joinedRanges;\n    };\n    CharacterJoinerRegistry.prototype._stringRangesToCellRanges = function (ranges, line, startCol) {\n        var currentRangeIndex = 0;\n        var currentRangeStarted = false;\n        var currentStringIndex = 0;\n        var currentRange = ranges[currentRangeIndex];\n        if (!currentRange) {\n            return;\n        }\n        for (var x = startCol; x < this._terminal.cols; x++) {\n            var width = line.getWidth(x);\n            var length_1 = line.getString(x).length || BufferLine_1.WHITESPACE_CELL_CHAR.length;\n            if (width === 0) {\n                continue;\n            }\n            if (!currentRangeStarted && currentRange[0] <= currentStringIndex) {\n                currentRange[0] = x;\n                currentRangeStarted = true;\n            }\n            if (currentRange[1] <= currentStringIndex) {\n                currentRange[1] = x;\n                currentRange = ranges[++currentRangeIndex];\n                if (!currentRange) {\n                    break;\n                }\n                if (currentRange[0] <= currentStringIndex) {\n                    currentRange[0] = x;\n                    currentRangeStarted = true;\n                }\n                else {\n                    currentRangeStarted = false;\n                }\n            }\n            currentStringIndex += length_1;\n        }\n        if (currentRange) {\n            currentRange[1] = this._terminal.cols;\n        }\n    };\n    CharacterJoinerRegistry._mergeRanges = function (ranges, newRange) {\n        var inRange = false;\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            if (!inRange) {\n                if (newRange[1] <= range[0]) {\n                    ranges.splice(i, 0, newRange);\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    return ranges;\n                }\n                if (newRange[0] < range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    inRange = true;\n                }\n                continue;\n            }\n            else {\n                if (newRange[1] <= range[0]) {\n                    ranges[i - 1][1] = newRange[1];\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    ranges[i - 1][1] = Math.max(newRange[1], range[1]);\n                    ranges.splice(i, 1);\n                    inRange = false;\n                    return ranges;\n                }\n                ranges.splice(i, 1);\n                i--;\n            }\n        }\n        if (inRange) {\n            ranges[ranges.length - 1][1] = newRange[1];\n        }\n        else {\n            ranges.push(newRange);\n        }\n        return ranges;\n    };\n    return CharacterJoinerRegistry;\n}());\nexports.CharacterJoinerRegistry = CharacterJoinerRegistry;\n//# sourceMappingURL=CharacterJoinerRegistry.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction clone(val, depth) {\n    if (depth === void 0) { depth = 5; }\n    if (typeof val !== 'object') {\n        return val;\n    }\n    if (val === null) {\n        return null;\n    }\n    var clonedObject = Array.isArray(val) ? [] : {};\n    for (var key in val) {\n        clonedObject[key] = depth <= 1 ? val[key] : clone(val[key], depth - 1);\n    }\n    return clonedObject;\n}\nexports.clone = clone;\n//# sourceMappingURL=Clone.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2 = (function () {\n    function EventEmitter2() {\n        this._listeners = [];\n    }\n    Object.defineProperty(EventEmitter2.prototype, \"event\", {\n        get: function () {\n            var _this = this;\n            if (!this._event) {\n                this._event = function (listener) {\n                    _this._listeners.push(listener);\n                    var disposable = {\n                        dispose: function () {\n                            for (var i = 0; i < _this._listeners.length; i++) {\n                                if (_this._listeners[i] === listener) {\n                                    _this._listeners.splice(i, 1);\n                                    return;\n                                }\n                            }\n                        }\n                    };\n                    return disposable;\n                };\n            }\n            return this._event;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EventEmitter2.prototype.fire = function (data) {\n        var queue = [];\n        for (var i = 0; i < this._listeners.length; i++) {\n            queue.push(this._listeners[i]);\n        }\n        for (var i = 0; i < queue.length; i++) {\n            queue[i].call(undefined, data);\n        }\n    };\n    return EventEmitter2;\n}());\nexports.EventEmitter2 = EventEmitter2;\n//# sourceMappingURL=EventEmitter2.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"../atlas/Types\");\nvar BufferLine_1 = require(\"../../core/buffer/BufferLine\");\nexports.BOLD_CLASS = 'xterm-bold';\nexports.DIM_CLASS = 'xterm-dim';\nexports.ITALIC_CLASS = 'xterm-italic';\nexports.UNDERLINE_CLASS = 'xterm-underline';\nexports.CURSOR_CLASS = 'xterm-cursor';\nexports.CURSOR_BLINK_CLASS = 'xterm-cursor-blink';\nexports.CURSOR_STYLE_BLOCK_CLASS = 'xterm-cursor-block';\nexports.CURSOR_STYLE_BAR_CLASS = 'xterm-cursor-bar';\nexports.CURSOR_STYLE_UNDERLINE_CLASS = 'xterm-cursor-underline';\nvar DomRendererRowFactory = (function () {\n    function DomRendererRowFactory(_terminalOptions, _document) {\n        this._terminalOptions = _terminalOptions;\n        this._document = _document;\n        this._workCell = new BufferLine_1.CellData();\n    }\n    DomRendererRowFactory.prototype.createRow = function (lineData, isCursorRow, cursorStyle, cursorX, cursorBlink, cellWidth, cols) {\n        var fragment = this._document.createDocumentFragment();\n        var lineLength = 0;\n        for (var x = Math.min(lineData.length, cols) - 1; x >= 0; x--) {\n            if (lineData.loadCell(x, this._workCell).getCode() !== BufferLine_1.NULL_CELL_CODE || (isCursorRow && x === cursorX)) {\n                lineLength = x + 1;\n                break;\n            }\n        }\n        for (var x = 0; x < lineLength; x++) {\n            lineData.loadCell(x, this._workCell);\n            var width = this._workCell.getWidth();\n            if (width === 0) {\n                continue;\n            }\n            var charElement = this._document.createElement('span');\n            if (width > 1) {\n                charElement.style.width = cellWidth * width + \"px\";\n            }\n            if (isCursorRow && x === cursorX) {\n                charElement.classList.add(exports.CURSOR_CLASS);\n                if (cursorBlink) {\n                    charElement.classList.add(exports.CURSOR_BLINK_CLASS);\n                }\n                switch (cursorStyle) {\n                    case 'bar':\n                        charElement.classList.add(exports.CURSOR_STYLE_BAR_CLASS);\n                        break;\n                    case 'underline':\n                        charElement.classList.add(exports.CURSOR_STYLE_UNDERLINE_CLASS);\n                        break;\n                    default:\n                        charElement.classList.add(exports.CURSOR_STYLE_BLOCK_CLASS);\n                        break;\n                }\n            }\n            if (this._workCell.isBold() && this._terminalOptions.enableBold) {\n                charElement.classList.add(exports.BOLD_CLASS);\n            }\n            if (this._workCell.isItalic()) {\n                charElement.classList.add(exports.ITALIC_CLASS);\n            }\n            if (this._workCell.isDim()) {\n                charElement.classList.add(exports.DIM_CLASS);\n            }\n            if (this._workCell.isUnderline()) {\n                charElement.classList.add(exports.UNDERLINE_CLASS);\n            }\n            charElement.textContent = this._workCell.getChars() || BufferLine_1.WHITESPACE_CELL_CHAR;\n            var swapColor = this._workCell.isInverse();\n            if (this._workCell.isFgRGB()) {\n                var style = charElement.getAttribute('style') || '';\n                style += (swapColor ? 'background-' : '') + \"color:rgb(\" + (BufferLine_1.AttributeData.toColorRGB(this._workCell.getFgColor())).join(',') + \");\";\n                charElement.setAttribute('style', style);\n            }\n            else if (this._workCell.isFgPalette()) {\n                var fg = this._workCell.getFgColor();\n                if (this._workCell.isBold() && fg < 8 && !swapColor &&\n                    this._terminalOptions.enableBold && this._terminalOptions.drawBoldTextInBrightColors) {\n                    fg += 8;\n                }\n                charElement.classList.add(\"xterm-\" + (swapColor ? 'b' : 'f') + \"g-\" + fg);\n            }\n            else if (swapColor) {\n                charElement.classList.add(\"xterm-bg-\" + Types_1.INVERTED_DEFAULT_COLOR);\n            }\n            if (this._workCell.isBgRGB()) {\n                var style = charElement.getAttribute('style') || '';\n                style += (swapColor ? '' : 'background-') + \"color:rgb(\" + (BufferLine_1.AttributeData.toColorRGB(this._workCell.getBgColor())).join(',') + \");\";\n                charElement.setAttribute('style', style);\n            }\n            else if (this._workCell.isBgPalette()) {\n                charElement.classList.add(\"xterm-\" + (swapColor ? 'f' : 'b') + \"g-\" + this._workCell.getBgColor());\n            }\n            else if (swapColor) {\n                charElement.classList.add(\"xterm-fg-\" + Types_1.INVERTED_DEFAULT_COLOR);\n            }\n            fragment.appendChild(charElement);\n        }\n        return fragment;\n    };\n    return DomRendererRowFactory;\n}());\nexports.DomRendererRowFactory = DomRendererRowFactory;\n//# sourceMappingURL=DomRendererRowFactory.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"../common/Types\");\nvar Types_2 = require(\"./atlas/Types\");\nvar CharAtlasCache_1 = require(\"./atlas/CharAtlasCache\");\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar BaseRenderLayer = (function () {\n    function BaseRenderLayer(_container, id, zIndex, _alpha, _colors) {\n        this._container = _container;\n        this._alpha = _alpha;\n        this._colors = _colors;\n        this._scaledCharWidth = 0;\n        this._scaledCharHeight = 0;\n        this._scaledCellWidth = 0;\n        this._scaledCellHeight = 0;\n        this._scaledCharLeft = 0;\n        this._scaledCharTop = 0;\n        this._currentGlyphIdentifier = {\n            chars: '',\n            code: 0,\n            bg: 0,\n            fg: 0,\n            bold: false,\n            dim: false,\n            italic: false\n        };\n        this._canvas = document.createElement('canvas');\n        this._canvas.classList.add(\"xterm-\" + id + \"-layer\");\n        this._canvas.style.zIndex = zIndex.toString();\n        this._initCanvas();\n        this._container.appendChild(this._canvas);\n    }\n    BaseRenderLayer.prototype.dispose = function () {\n        this._container.removeChild(this._canvas);\n        if (this._charAtlas) {\n            this._charAtlas.dispose();\n        }\n    };\n    BaseRenderLayer.prototype._initCanvas = function () {\n        this._ctx = this._canvas.getContext('2d', { alpha: this._alpha });\n        if (!this._alpha) {\n            this.clearAll();\n        }\n    };\n    BaseRenderLayer.prototype.onOptionsChanged = function (terminal) { };\n    BaseRenderLayer.prototype.onBlur = function (terminal) { };\n    BaseRenderLayer.prototype.onFocus = function (terminal) { };\n    BaseRenderLayer.prototype.onCursorMove = function (terminal) { };\n    BaseRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) { };\n    BaseRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n    };\n    BaseRenderLayer.prototype.setColors = function (terminal, colorSet) {\n        this._refreshCharAtlas(terminal, colorSet);\n    };\n    BaseRenderLayer.prototype.setTransparency = function (terminal, alpha) {\n        if (alpha === this._alpha) {\n            return;\n        }\n        var oldCanvas = this._canvas;\n        this._alpha = alpha;\n        this._canvas = this._canvas.cloneNode();\n        this._initCanvas();\n        this._container.replaceChild(this._canvas, oldCanvas);\n        this._refreshCharAtlas(terminal, this._colors);\n        this.onGridChanged(terminal, 0, terminal.rows - 1);\n    };\n    BaseRenderLayer.prototype._refreshCharAtlas = function (terminal, colorSet) {\n        if (this._scaledCharWidth <= 0 && this._scaledCharHeight <= 0) {\n            return;\n        }\n        this._charAtlas = CharAtlasCache_1.acquireCharAtlas(terminal, colorSet, this._scaledCharWidth, this._scaledCharHeight);\n        this._charAtlas.warmUp();\n    };\n    BaseRenderLayer.prototype.resize = function (terminal, dim) {\n        this._scaledCellWidth = dim.scaledCellWidth;\n        this._scaledCellHeight = dim.scaledCellHeight;\n        this._scaledCharWidth = dim.scaledCharWidth;\n        this._scaledCharHeight = dim.scaledCharHeight;\n        this._scaledCharLeft = dim.scaledCharLeft;\n        this._scaledCharTop = dim.scaledCharTop;\n        this._canvas.width = dim.scaledCanvasWidth;\n        this._canvas.height = dim.scaledCanvasHeight;\n        this._canvas.style.width = dim.canvasWidth + \"px\";\n        this._canvas.style.height = dim.canvasHeight + \"px\";\n        if (!this._alpha) {\n            this.clearAll();\n        }\n        this._refreshCharAtlas(terminal, this._colors);\n    };\n    BaseRenderLayer.prototype.fillCells = function (x, y, width, height) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.fillBottomLineAtCells = function (x, y, width) {\n        if (width === void 0) { width = 1; }\n        this._ctx.fillRect(x * this._scaledCellWidth, (y + 1) * this._scaledCellHeight - window.devicePixelRatio - 1, width * this._scaledCellWidth, window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.fillLeftLineAtCell = function (x, y) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, window.devicePixelRatio, this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.strokeRectAtCell = function (x, y, width, height) {\n        this._ctx.lineWidth = window.devicePixelRatio;\n        this._ctx.strokeRect(x * this._scaledCellWidth + window.devicePixelRatio / 2, y * this._scaledCellHeight + (window.devicePixelRatio / 2), width * this._scaledCellWidth - window.devicePixelRatio, (height * this._scaledCellHeight) - window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.clearAll = function () {\n        if (this._alpha) {\n            this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n    };\n    BaseRenderLayer.prototype.clearCells = function (x, y, width, height) {\n        if (this._alpha) {\n            this._ctx.clearRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n    };\n    BaseRenderLayer.prototype.fillCharTrueColor = function (terminal, cell, x, y) {\n        this._ctx.font = this._getFont(terminal, false, false);\n        this._ctx.textBaseline = 'middle';\n        this._clipRow(terminal, y);\n        this._ctx.fillText(cell.getChars(), x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight / 2);\n    };\n    BaseRenderLayer.prototype.drawChars = function (terminal, cell, x, y) {\n        if (cell.isFgRGB() || cell.isBgRGB()) {\n            this._drawUncachedChars(terminal, cell, x, y);\n            return;\n        }\n        var fg;\n        var bg;\n        if (cell.isInverse()) {\n            fg = (cell.isBgDefault()) ? Types_2.INVERTED_DEFAULT_COLOR : cell.getBgColor();\n            bg = (cell.isFgDefault()) ? Types_2.INVERTED_DEFAULT_COLOR : cell.getFgColor();\n        }\n        else {\n            bg = (cell.isBgDefault()) ? Types_1.DEFAULT_COLOR : cell.getBgColor();\n            fg = (cell.isFgDefault()) ? Types_1.DEFAULT_COLOR : cell.getFgColor();\n        }\n        var drawInBrightColor = terminal.options.drawBoldTextInBrightColors && cell.isBold() && fg < 8 && fg !== Types_2.INVERTED_DEFAULT_COLOR;\n        fg += drawInBrightColor ? 8 : 0;\n        this._currentGlyphIdentifier.chars = cell.getChars() || BufferLine_1.WHITESPACE_CELL_CHAR;\n        this._currentGlyphIdentifier.code = cell.getCode() || BufferLine_1.WHITESPACE_CELL_CODE;\n        this._currentGlyphIdentifier.bg = bg;\n        this._currentGlyphIdentifier.fg = fg;\n        this._currentGlyphIdentifier.bold = cell.isBold() && terminal.options.enableBold;\n        this._currentGlyphIdentifier.dim = !!cell.isDim();\n        this._currentGlyphIdentifier.italic = !!cell.isItalic();\n        var atlasDidDraw = this._charAtlas && this._charAtlas.draw(this._ctx, this._currentGlyphIdentifier, x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop);\n        if (!atlasDidDraw) {\n            this._drawUncachedChars(terminal, cell, x, y);\n        }\n    };\n    BaseRenderLayer.prototype._drawUncachedChars = function (terminal, cell, x, y) {\n        this._ctx.save();\n        this._ctx.font = this._getFont(terminal, cell.isBold() && terminal.options.enableBold, !!cell.isItalic());\n        this._ctx.textBaseline = 'middle';\n        if (cell.isInverse()) {\n            if (cell.isBgDefault()) {\n                this._ctx.fillStyle = this._colors.background.css;\n            }\n            else if (cell.isBgRGB()) {\n                this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getBgColor()).join(',') + \")\";\n            }\n            else {\n                this._ctx.fillStyle = this._colors.ansi[cell.getBgColor()].css;\n            }\n        }\n        else {\n            if (cell.isFgDefault()) {\n                this._ctx.fillStyle = this._colors.foreground.css;\n            }\n            else if (cell.isFgRGB()) {\n                this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getFgColor()).join(',') + \")\";\n            }\n            else {\n                var fg = cell.getFgColor();\n                if (terminal.options.drawBoldTextInBrightColors && cell.isBold() && fg < 8) {\n                    fg += 8;\n                }\n                this._ctx.fillStyle = this._colors.ansi[fg].css;\n            }\n        }\n        this._clipRow(terminal, y);\n        if (cell.isDim()) {\n            this._ctx.globalAlpha = Types_2.DIM_OPACITY;\n        }\n        this._ctx.fillText(cell.getChars(), x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight / 2);\n        this._ctx.restore();\n    };\n    BaseRenderLayer.prototype._clipRow = function (terminal, y) {\n        this._ctx.beginPath();\n        this._ctx.rect(0, y * this._scaledCellHeight, terminal.cols * this._scaledCellWidth, this._scaledCellHeight);\n        this._ctx.clip();\n    };\n    BaseRenderLayer.prototype._getFont = function (terminal, isBold, isItalic) {\n        var fontWeight = isBold ? terminal.options.fontWeightBold : terminal.options.fontWeight;\n        var fontStyle = isItalic ? 'italic' : '';\n        return fontStyle + \" \" + fontWeight + \" \" + terminal.options.fontSize * window.devicePixelRatio + \"px \" + terminal.options.fontFamily;\n    };\n    return BaseRenderLayer;\n}());\nexports.BaseRenderLayer = BaseRenderLayer;\n//# sourceMappingURL=BaseRenderLayer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction prepareTextForTerminal(text) {\n    return text.replace(/\\r?\\n/g, '\\r');\n}\nexports.prepareTextForTerminal = prepareTextForTerminal;\nfunction bracketTextForPaste(text, bracketedPasteMode) {\n    if (bracketedPasteMode) {\n        return '\\x1b[200~' + text + '\\x1b[201~';\n    }\n    return text;\n}\nexports.bracketTextForPaste = bracketTextForPaste;\nfunction copyHandler(ev, term, selectionManager) {\n    if (term.browser.isMSIE) {\n        window.clipboardData.setData('Text', selectionManager.selectionText);\n    }\n    else {\n        ev.clipboardData.setData('text/plain', selectionManager.selectionText);\n    }\n    ev.preventDefault();\n}\nexports.copyHandler = copyHandler;\nfunction pasteHandler(ev, term) {\n    ev.stopPropagation();\n    var text;\n    var dispatchPaste = function (text) {\n        text = prepareTextForTerminal(text);\n        text = bracketTextForPaste(text, term.bracketedPasteMode);\n        term.handler(text);\n        term.textarea.value = '';\n        term.emit('paste', text);\n        term.cancel(ev);\n    };\n    if (term.browser.isMSIE) {\n        if (window.clipboardData) {\n            text = window.clipboardData.getData('Text');\n            dispatchPaste(text);\n        }\n    }\n    else {\n        if (ev.clipboardData) {\n            text = ev.clipboardData.getData('text/plain');\n            dispatchPaste(text);\n        }\n    }\n}\nexports.pasteHandler = pasteHandler;\nfunction moveTextAreaUnderMouseCursor(ev, term) {\n    var pos = term.screenElement.getBoundingClientRect();\n    var left = ev.clientX - pos.left - 10;\n    var top = ev.clientY - pos.top - 10;\n    term.textarea.style.position = 'absolute';\n    term.textarea.style.width = '20px';\n    term.textarea.style.height = '20px';\n    term.textarea.style.left = left + \"px\";\n    term.textarea.style.top = top + \"px\";\n    term.textarea.style.zIndex = '1000';\n    term.textarea.focus();\n    setTimeout(function () {\n        term.textarea.style.position = null;\n        term.textarea.style.width = null;\n        term.textarea.style.height = null;\n        term.textarea.style.left = null;\n        term.textarea.style.top = null;\n        term.textarea.style.zIndex = null;\n    }, 200);\n}\nexports.moveTextAreaUnderMouseCursor = moveTextAreaUnderMouseCursor;\nfunction rightClickHandler(ev, term, selectionManager, shouldSelectWord) {\n    moveTextAreaUnderMouseCursor(ev, term);\n    if (shouldSelectWord && !selectionManager.isClickInSelection(ev)) {\n        selectionManager.selectWordAtCursor(ev);\n    }\n    term.textarea.value = selectionManager.selectionText;\n    term.textarea.select();\n}\nexports.rightClickHandler = rightClickHandler;\n//# sourceMappingURL=Clipboard.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Strings = require(\"./Strings\");\nvar Platform_1 = require(\"./common/Platform\");\nvar RenderDebouncer_1 = require(\"./ui/RenderDebouncer\");\nvar Lifecycle_1 = require(\"./ui/Lifecycle\");\nvar Lifecycle_2 = require(\"./common/Lifecycle\");\nvar ScreenDprMonitor_1 = require(\"./ui/ScreenDprMonitor\");\nvar MAX_ROWS_TO_READ = 20;\nvar AccessibilityManager = (function (_super) {\n    __extends(AccessibilityManager, _super);\n    function AccessibilityManager(_terminal, _dimensions) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._dimensions = _dimensions;\n        _this._liveRegionLineCount = 0;\n        _this._charsToConsume = [];\n        _this._charsToAnnounce = '';\n        _this._accessibilityTreeRoot = document.createElement('div');\n        _this._accessibilityTreeRoot.classList.add('xterm-accessibility');\n        _this._rowContainer = document.createElement('div');\n        _this._rowContainer.classList.add('xterm-accessibility-tree');\n        _this._rowElements = [];\n        for (var i = 0; i < _this._terminal.rows; i++) {\n            _this._rowElements[i] = _this._createAccessibilityTreeNode();\n            _this._rowContainer.appendChild(_this._rowElements[i]);\n        }\n        _this._topBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 0); };\n        _this._bottomBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 1); };\n        _this._rowElements[0].addEventListener('focus', _this._topBoundaryFocusListener);\n        _this._rowElements[_this._rowElements.length - 1].addEventListener('focus', _this._bottomBoundaryFocusListener);\n        _this._refreshRowsDimensions();\n        _this._accessibilityTreeRoot.appendChild(_this._rowContainer);\n        _this._renderRowsDebouncer = new RenderDebouncer_1.RenderDebouncer(_this._renderRows.bind(_this));\n        _this._refreshRows();\n        _this._liveRegion = document.createElement('div');\n        _this._liveRegion.classList.add('live-region');\n        _this._liveRegion.setAttribute('aria-live', 'assertive');\n        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n        _this._terminal.element.insertAdjacentElement('afterbegin', _this._accessibilityTreeRoot);\n        _this.register(_this._renderRowsDebouncer);\n        _this.register(_this._terminal.onResize(function (e) { return _this._onResize(e.rows); }));\n        _this.register(_this._terminal.onRender(function (e) { return _this._refreshRows(e.start, e.end); }));\n        _this.register(_this._terminal.onScroll(function () { return _this._refreshRows(); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.char', function (char) { return _this._onChar(char); }));\n        _this.register(_this._terminal.onLineFeed(function () { return _this._onChar('\\n'); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.tab', function (spaceCount) { return _this._onTab(spaceCount); }));\n        _this.register(_this._terminal.onKey(function (e) { return _this._onKey(e.key); }));\n        _this.register(_this._terminal.addDisposableListener('blur', function () { return _this._clearLiveRegion(); }));\n        _this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        _this.register(_this._screenDprMonitor);\n        _this._screenDprMonitor.setListener(function () { return _this._refreshRowsDimensions(); });\n        _this.register(Lifecycle_1.addDisposableDomListener(window, 'resize', function () { return _this._refreshRowsDimensions(); }));\n        return _this;\n    }\n    AccessibilityManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal.element.removeChild(this._accessibilityTreeRoot);\n        this._rowElements.length = 0;\n    };\n    AccessibilityManager.prototype._onBoundaryFocus = function (e, position) {\n        var boundaryElement = e.target;\n        var beforeBoundaryElement = this._rowElements[position === 0 ? 1 : this._rowElements.length - 2];\n        var posInSet = boundaryElement.getAttribute('aria-posinset');\n        var lastRowPos = position === 0 ? '1' : \"\" + this._terminal.buffer.lines.length;\n        if (posInSet === lastRowPos) {\n            return;\n        }\n        if (e.relatedTarget !== beforeBoundaryElement) {\n            return;\n        }\n        var topBoundaryElement;\n        var bottomBoundaryElement;\n        if (position === 0) {\n            topBoundaryElement = boundaryElement;\n            bottomBoundaryElement = this._rowElements.pop();\n            this._rowContainer.removeChild(bottomBoundaryElement);\n        }\n        else {\n            topBoundaryElement = this._rowElements.shift();\n            bottomBoundaryElement = boundaryElement;\n            this._rowContainer.removeChild(topBoundaryElement);\n        }\n        topBoundaryElement.removeEventListener('focus', this._topBoundaryFocusListener);\n        bottomBoundaryElement.removeEventListener('focus', this._bottomBoundaryFocusListener);\n        if (position === 0) {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.unshift(newElement);\n            this._rowContainer.insertAdjacentElement('afterbegin', newElement);\n        }\n        else {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.push(newElement);\n            this._rowContainer.appendChild(newElement);\n        }\n        this._rowElements[0].addEventListener('focus', this._topBoundaryFocusListener);\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._terminal.scrollLines(position === 0 ? -1 : 1);\n        this._rowElements[position === 0 ? 1 : this._rowElements.length - 2].focus();\n        e.preventDefault();\n        e.stopImmediatePropagation();\n    };\n    AccessibilityManager.prototype._onResize = function (rows) {\n        this._rowElements[this._rowElements.length - 1].removeEventListener('focus', this._bottomBoundaryFocusListener);\n        for (var i = this._rowContainer.children.length; i < this._terminal.rows; i++) {\n            this._rowElements[i] = this._createAccessibilityTreeNode();\n            this._rowContainer.appendChild(this._rowElements[i]);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._refreshRowsDimensions();\n    };\n    AccessibilityManager.prototype._createAccessibilityTreeNode = function () {\n        var element = document.createElement('div');\n        element.setAttribute('role', 'listitem');\n        element.tabIndex = -1;\n        this._refreshRowDimensions(element);\n        return element;\n    };\n    AccessibilityManager.prototype._onTab = function (spaceCount) {\n        for (var i = 0; i < spaceCount; i++) {\n            this._onChar(' ');\n        }\n    };\n    AccessibilityManager.prototype._onChar = function (char) {\n        var _this = this;\n        if (this._liveRegionLineCount < MAX_ROWS_TO_READ + 1) {\n            if (this._charsToConsume.length > 0) {\n                var shiftedChar = this._charsToConsume.shift();\n                if (shiftedChar !== char) {\n                    this._charsToAnnounce += char;\n                }\n            }\n            else {\n                this._charsToAnnounce += char;\n            }\n            if (char === '\\n') {\n                this._liveRegionLineCount++;\n                if (this._liveRegionLineCount === MAX_ROWS_TO_READ + 1) {\n                    this._liveRegion.textContent += Strings.tooMuchOutput;\n                }\n            }\n            if (Platform_1.isMac) {\n                if (this._liveRegion.textContent && this._liveRegion.textContent.length > 0 && !this._liveRegion.parentNode) {\n                    setTimeout(function () {\n                        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n                    }, 0);\n                }\n            }\n        }\n    };\n    AccessibilityManager.prototype._clearLiveRegion = function () {\n        this._liveRegion.textContent = '';\n        this._liveRegionLineCount = 0;\n        if (Platform_1.isMac) {\n            if (this._liveRegion.parentNode) {\n                this._accessibilityTreeRoot.removeChild(this._liveRegion);\n            }\n        }\n    };\n    AccessibilityManager.prototype._onKey = function (keyChar) {\n        this._clearLiveRegion();\n        this._charsToConsume.push(keyChar);\n    };\n    AccessibilityManager.prototype._refreshRows = function (start, end) {\n        this._renderRowsDebouncer.refresh(start, end, this._terminal.rows);\n    };\n    AccessibilityManager.prototype._renderRows = function (start, end) {\n        var buffer = this._terminal.buffer;\n        var setSize = buffer.lines.length.toString();\n        for (var i = start; i <= end; i++) {\n            var lineData = buffer.translateBufferLineToString(buffer.ydisp + i, true);\n            var posInSet = (buffer.ydisp + i + 1).toString();\n            var element = this._rowElements[i];\n            if (element) {\n                element.textContent = lineData.length === 0 ? Strings.blankLine : lineData;\n                element.setAttribute('aria-posinset', posInSet);\n                element.setAttribute('aria-setsize', setSize);\n            }\n        }\n        this._announceCharacters();\n    };\n    AccessibilityManager.prototype._refreshRowsDimensions = function () {\n        if (!this._dimensions.actualCellHeight) {\n            return;\n        }\n        if (this._rowElements.length !== this._terminal.rows) {\n            this._onResize(this._terminal.rows);\n        }\n        for (var i = 0; i < this._terminal.rows; i++) {\n            this._refreshRowDimensions(this._rowElements[i]);\n        }\n    };\n    AccessibilityManager.prototype.setDimensions = function (dimensions) {\n        this._dimensions = dimensions;\n        this._refreshRowsDimensions();\n    };\n    AccessibilityManager.prototype._refreshRowDimensions = function (element) {\n        element.style.height = this._dimensions.actualCellHeight + \"px\";\n    };\n    AccessibilityManager.prototype._announceCharacters = function () {\n        if (this._charsToAnnounce.length === 0) {\n            return;\n        }\n        this._liveRegion.textContent += this._charsToAnnounce;\n        this._charsToAnnounce = '';\n    };\n    return AccessibilityManager;\n}(Lifecycle_2.Disposable));\nexports.AccessibilityManager = AccessibilityManager;\n//# sourceMappingURL=AccessibilityManager.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar SelectionRenderLayer = (function (_super) {\n    __extends(SelectionRenderLayer, _super);\n    function SelectionRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'selection', zIndex, true, colors) || this;\n        _this._clearState();\n        return _this;\n    }\n    SelectionRenderLayer.prototype._clearState = function () {\n        this._state = {\n            start: null,\n            end: null,\n            columnSelectMode: null,\n            ydisp: null\n        };\n    };\n    SelectionRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._clearState();\n    };\n    SelectionRenderLayer.prototype.reset = function (terminal) {\n        if (this._state.start && this._state.end) {\n            this._clearState();\n            this.clearAll();\n        }\n    };\n    SelectionRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (!this._didStateChange(start, end, columnSelectMode, terminal.buffer.ydisp)) {\n            return;\n        }\n        this.clearAll();\n        if (!start || !end) {\n            this._clearState();\n            return;\n        }\n        var viewportStartRow = start[1] - terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, terminal.rows - 1);\n        if (viewportCappedStartRow >= terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        this._ctx.fillStyle = this._colors.selection.css;\n        if (columnSelectMode) {\n            var startCol = start[0];\n            var width = end[0] - startCol;\n            var height = viewportCappedEndRow - viewportCappedStartRow + 1;\n            this.fillCells(startCol, viewportCappedStartRow, width, height);\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var startRowEndCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : terminal.cols;\n            this.fillCells(startCol, viewportCappedStartRow, startRowEndCol - startCol, 1);\n            var middleRowsCount = Math.max(viewportCappedEndRow - viewportCappedStartRow - 1, 0);\n            this.fillCells(0, viewportCappedStartRow + 1, terminal.cols, middleRowsCount);\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol = viewportEndRow === viewportCappedEndRow ? end[0] : terminal.cols;\n                this.fillCells(0, viewportCappedEndRow, endCol, 1);\n            }\n        }\n        this._state.start = [start[0], start[1]];\n        this._state.end = [end[0], end[1]];\n        this._state.columnSelectMode = columnSelectMode;\n        this._state.ydisp = terminal.buffer.ydisp;\n    };\n    SelectionRenderLayer.prototype._didStateChange = function (start, end, columnSelectMode, ydisp) {\n        return !this._areCoordinatesEqual(start, this._state.start) ||\n            !this._areCoordinatesEqual(end, this._state.end) ||\n            columnSelectMode !== this._state.columnSelectMode ||\n            ydisp !== this._state.ydisp;\n    };\n    SelectionRenderLayer.prototype._areCoordinatesEqual = function (coord1, coord2) {\n        if (!coord1 || !coord2) {\n            return false;\n        }\n        return coord1[0] === coord2[0] && coord1[1] === coord2[1];\n    };\n    return SelectionRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.SelectionRenderLayer = SelectionRenderLayer;\n//# sourceMappingURL=SelectionRenderLayer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_COLOR = 256;\n//# sourceMappingURL=Types.js.map","// Components\nimport VToolbar from './VToolbar'; // Utilities\n\nimport { createSimpleFunctional } from '../../util/helpers';\nconst VToolbarTitle = createSimpleFunctional('v-toolbar__title');\nconst VToolbarItems = createSimpleFunctional('v-toolbar__items');\nexport { VToolbar, VToolbarItems, VToolbarTitle };\nexport default {\n  $_vuetify_subcomponents: {\n    VToolbar,\n    VToolbarItems,\n    VToolbarTitle\n  }\n};\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderDebouncer = (function () {\n    function RenderDebouncer(_renderCallback) {\n        this._renderCallback = _renderCallback;\n    }\n    RenderDebouncer.prototype.dispose = function () {\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = undefined;\n        }\n    };\n    RenderDebouncer.prototype.refresh = function (rowStart, rowEnd, rowCount) {\n        var _this = this;\n        this._rowCount = rowCount;\n        rowStart = rowStart !== undefined ? rowStart : 0;\n        rowEnd = rowEnd !== undefined ? rowEnd : this._rowCount - 1;\n        this._rowStart = this._rowStart !== undefined ? Math.min(this._rowStart, rowStart) : rowStart;\n        this._rowEnd = this._rowEnd !== undefined ? Math.max(this._rowEnd, rowEnd) : rowEnd;\n        if (this._animationFrame) {\n            return;\n        }\n        this._animationFrame = window.requestAnimationFrame(function () { return _this._innerRefresh(); });\n    };\n    RenderDebouncer.prototype._innerRefresh = function () {\n        if (this._rowStart === undefined || this._rowEnd === undefined || this._rowCount === undefined) {\n            return;\n        }\n        this._rowStart = Math.max(this._rowStart, 0);\n        this._rowEnd = Math.min(this._rowEnd, this._rowCount - 1);\n        this._renderCallback(this._rowStart, this._rowEnd);\n        this._rowStart = undefined;\n        this._rowEnd = undefined;\n        this._animationFrame = undefined;\n    };\n    return RenderDebouncer;\n}());\nexports.RenderDebouncer = RenderDebouncer;\n//# sourceMappingURL=RenderDebouncer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DomRendererRowFactory_1 = require(\"./DomRendererRowFactory\");\nvar Types_1 = require(\"../atlas/Types\");\nvar Lifecycle_1 = require(\"../../common/Lifecycle\");\nvar TERMINAL_CLASS_PREFIX = 'xterm-dom-renderer-owner-';\nvar ROW_CONTAINER_CLASS = 'xterm-rows';\nvar FG_CLASS_PREFIX = 'xterm-fg-';\nvar BG_CLASS_PREFIX = 'xterm-bg-';\nvar FOCUS_CLASS = 'xterm-focus';\nvar SELECTION_CLASS = 'xterm-selection';\nvar nextTerminalId = 1;\nvar DomRenderer = (function (_super) {\n    __extends(DomRenderer, _super);\n    function DomRenderer(_terminal, _colors) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._colors = _colors;\n        _this._terminalClass = nextTerminalId++;\n        _this._rowElements = [];\n        _this._rowContainer = document.createElement('div');\n        _this._rowContainer.classList.add(ROW_CONTAINER_CLASS);\n        _this._rowContainer.style.lineHeight = 'normal';\n        _this._rowContainer.setAttribute('aria-hidden', 'true');\n        _this._refreshRowElements(_this._terminal.cols, _this._terminal.rows);\n        _this._selectionContainer = document.createElement('div');\n        _this._selectionContainer.classList.add(SELECTION_CLASS);\n        _this._selectionContainer.setAttribute('aria-hidden', 'true');\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._updateDimensions();\n        _this._injectCss();\n        _this._rowFactory = new DomRendererRowFactory_1.DomRendererRowFactory(_terminal.options, document);\n        _this._terminal.element.classList.add(TERMINAL_CLASS_PREFIX + _this._terminalClass);\n        _this._terminal.screenElement.appendChild(_this._rowContainer);\n        _this._terminal.screenElement.appendChild(_this._selectionContainer);\n        _this._terminal.linkifier.onLinkHover(function (e) { return _this._onLinkHover(e); });\n        _this._terminal.linkifier.onLinkLeave(function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    DomRenderer.prototype.dispose = function () {\n        this._terminal.element.classList.remove(TERMINAL_CLASS_PREFIX + this._terminalClass);\n        this._terminal.screenElement.removeChild(this._rowContainer);\n        this._terminal.screenElement.removeChild(this._selectionContainer);\n        this._terminal.screenElement.removeChild(this._themeStyleElement);\n        this._terminal.screenElement.removeChild(this._dimensionsStyleElement);\n        _super.prototype.dispose.call(this);\n    };\n    DomRenderer.prototype._updateDimensions = function () {\n        var _this = this;\n        this.dimensions.scaledCharWidth = this._terminal.charMeasure.width * window.devicePixelRatio;\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharLeft = 0;\n        this.dimensions.scaledCharTop = 0;\n        this.dimensions.scaledCanvasWidth = this.dimensions.scaledCellWidth * this._terminal.cols;\n        this.dimensions.scaledCanvasHeight = this.dimensions.scaledCellHeight * this._terminal.rows;\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this._rowElements.forEach(function (element) {\n            element.style.width = _this.dimensions.canvasWidth + \"px\";\n            element.style.height = _this.dimensions.actualCellHeight + \"px\";\n            element.style.lineHeight = _this.dimensions.actualCellHeight + \"px\";\n            element.style.overflow = 'hidden';\n        });\n        if (!this._dimensionsStyleElement) {\n            this._dimensionsStyleElement = document.createElement('style');\n            this._terminal.screenElement.appendChild(this._dimensionsStyleElement);\n        }\n        var styles = this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \" span {\" +\n            \" display: inline-block;\" +\n            \" height: 100%;\" +\n            \" vertical-align: top;\" +\n            (\" width: \" + this.dimensions.actualCellWidth + \"px\") +\n            \"}\";\n        this._dimensionsStyleElement.innerHTML = styles;\n        this._selectionContainer.style.height = this._terminal._viewportElement.style.height;\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n    };\n    DomRenderer.prototype.setColors = function (colors) {\n        this._colors = colors;\n        this._injectCss();\n    };\n    DomRenderer.prototype._injectCss = function () {\n        var _this = this;\n        if (!this._themeStyleElement) {\n            this._themeStyleElement = document.createElement('style');\n            this._terminal.screenElement.appendChild(this._themeStyleElement);\n        }\n        var styles = this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \" {\" +\n            (\" color: \" + this._colors.foreground.css + \";\") +\n            (\" background-color: \" + this._colors.background.css + \";\") +\n            (\" font-family: \" + this._terminal.options.fontFamily + \";\") +\n            (\" font-size: \" + this._terminal.options.fontSize + \"px;\") +\n            \"}\";\n        styles +=\n            this._terminalSelector + \" span:not(.\" + DomRendererRowFactory_1.BOLD_CLASS + \") {\" +\n                (\" font-weight: \" + this._terminal.options.fontWeight + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" span.\" + DomRendererRowFactory_1.BOLD_CLASS + \" {\") +\n                (\" font-weight: \" + this._terminal.options.fontWeightBold + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" span.\" + DomRendererRowFactory_1.ITALIC_CLASS + \" {\") +\n                \" font-style: italic;\" +\n                \"}\";\n        styles +=\n            \"@keyframes blink {\" +\n                \" 0% { opacity: 1.0; }\" +\n                \" 50% { opacity: 0.0; }\" +\n                \" 100% { opacity: 1.0; }\" +\n                \"}\";\n        styles +=\n            this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \":not(.\" + FOCUS_CLASS + \") .\" + DomRendererRowFactory_1.CURSOR_CLASS + \" {\" +\n                (\" outline: 1px solid \" + this._colors.cursor.css + \";\") +\n                \" outline-offset: -1px;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_BLINK_CLASS + \" {\") +\n                \" animation: blink 1s step-end infinite;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_BLOCK_CLASS + \" {\") +\n                (\" background-color: \" + this._colors.cursor.css + \";\") +\n                (\" color: \" + this._colors.cursorAccent.css + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_BAR_CLASS + \" {\") +\n                (\" box-shadow: 1px 0 0 \" + this._colors.cursor.css + \" inset;\") +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_UNDERLINE_CLASS + \" {\") +\n                (\" box-shadow: 0 -1px 0 \" + this._colors.cursor.css + \" inset;\") +\n                \"}\";\n        styles +=\n            this._terminalSelector + \" .\" + SELECTION_CLASS + \" {\" +\n                \" position: absolute;\" +\n                \" top: 0;\" +\n                \" left: 0;\" +\n                \" z-index: 1;\" +\n                \" pointer-events: none;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + SELECTION_CLASS + \" div {\") +\n                \" position: absolute;\" +\n                (\" background-color: \" + this._colors.selection.css + \";\") +\n                \"}\";\n        this._colors.ansi.forEach(function (c, i) {\n            styles +=\n                _this._terminalSelector + \" .\" + FG_CLASS_PREFIX + i + \" { color: \" + c.css + \"; }\" +\n                    (_this._terminalSelector + \" .\" + BG_CLASS_PREFIX + i + \" { background-color: \" + c.css + \"; }\");\n        });\n        styles +=\n            this._terminalSelector + \" .\" + FG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + \" { color: \" + this._colors.background.css + \"; }\" +\n                (this._terminalSelector + \" .\" + BG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + \" { background-color: \" + this._colors.foreground.css + \"; }\");\n        this._themeStyleElement.innerHTML = styles;\n    };\n    DomRenderer.prototype.onDevicePixelRatioChange = function () {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype._refreshRowElements = function (cols, rows) {\n        for (var i = this._rowElements.length; i <= rows; i++) {\n            var row = document.createElement('div');\n            this._rowContainer.appendChild(row);\n            this._rowElements.push(row);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n    };\n    DomRenderer.prototype.onResize = function (cols, rows) {\n        this._refreshRowElements(cols, rows);\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onCharSizeChanged = function () {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onBlur = function () {\n        this._rowContainer.classList.remove(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onFocus = function () {\n        this._rowContainer.classList.add(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        while (this._selectionContainer.children.length) {\n            this._selectionContainer.removeChild(this._selectionContainer.children[0]);\n        }\n        if (!start || !end) {\n            return;\n        }\n        var viewportStartRow = start[1] - this._terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - this._terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, this._terminal.rows - 1);\n        if (viewportCappedStartRow >= this._terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        var documentFragment = document.createDocumentFragment();\n        if (columnSelectMode) {\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, start[0], end[0], viewportCappedEndRow - viewportCappedStartRow + 1));\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var endCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, startCol, endCol));\n            var middleRowsCount = viewportCappedEndRow - viewportCappedStartRow - 1;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow + 1, 0, this._terminal.cols, middleRowsCount));\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol_1 = viewportEndRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n                documentFragment.appendChild(this._createSelectionElement(viewportCappedEndRow, 0, endCol_1));\n            }\n        }\n        this._selectionContainer.appendChild(documentFragment);\n    };\n    DomRenderer.prototype._createSelectionElement = function (row, colStart, colEnd, rowCount) {\n        if (rowCount === void 0) { rowCount = 1; }\n        var element = document.createElement('div');\n        element.style.height = rowCount * this.dimensions.actualCellHeight + \"px\";\n        element.style.top = row * this.dimensions.actualCellHeight + \"px\";\n        element.style.left = colStart * this.dimensions.actualCellWidth + \"px\";\n        element.style.width = this.dimensions.actualCellWidth * (colEnd - colStart) + \"px\";\n        return element;\n    };\n    DomRenderer.prototype.onCursorMove = function () {\n    };\n    DomRenderer.prototype.onOptionsChanged = function () {\n        this._updateDimensions();\n        this._injectCss();\n        this._terminal.refresh(0, this._terminal.rows - 1);\n    };\n    DomRenderer.prototype.clear = function () {\n        this._rowElements.forEach(function (e) { return e.innerHTML = ''; });\n    };\n    DomRenderer.prototype.renderRows = function (start, end) {\n        var terminal = this._terminal;\n        var cursorAbsoluteY = terminal.buffer.ybase + terminal.buffer.y;\n        var cursorX = this._terminal.buffer.x;\n        var cursorBlink = this._terminal.options.cursorBlink;\n        for (var y = start; y <= end; y++) {\n            var rowElement = this._rowElements[y];\n            rowElement.innerHTML = '';\n            var row = y + terminal.buffer.ydisp;\n            var lineData = terminal.buffer.lines.get(row);\n            var cursorStyle = terminal.options.cursorStyle;\n            rowElement.appendChild(this._rowFactory.createRow(lineData, row === cursorAbsoluteY, cursorStyle, cursorX, cursorBlink, this.dimensions.actualCellWidth, terminal.cols));\n        }\n    };\n    Object.defineProperty(DomRenderer.prototype, \"_terminalSelector\", {\n        get: function () {\n            return \".\" + TERMINAL_CLASS_PREFIX + this._terminalClass;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DomRenderer.prototype.registerCharacterJoiner = function (handler) { return -1; };\n    DomRenderer.prototype.deregisterCharacterJoiner = function (joinerId) { return false; };\n    DomRenderer.prototype._onLinkHover = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, true);\n    };\n    DomRenderer.prototype._onLinkLeave = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, false);\n    };\n    DomRenderer.prototype._setCellUnderline = function (x, x2, y, y2, cols, enabled) {\n        while (x !== x2 || y !== y2) {\n            var row = this._rowElements[y];\n            if (!row) {\n                return;\n            }\n            var span = row.children[x];\n            if (span) {\n                span.style.textDecoration = enabled ? 'underline' : 'none';\n            }\n            if (++x >= cols) {\n                x = 0;\n                y++;\n            }\n        }\n    };\n    return DomRenderer;\n}(Lifecycle_1.Disposable));\nexports.DomRenderer = DomRenderer;\n//# sourceMappingURL=DomRenderer.js.map","import VMenu from './VMenu';\nexport { VMenu };\nexport default VMenu;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CircularList_1 = require(\"./common/CircularList\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar BufferReflow_1 = require(\"./core/buffer/BufferReflow\");\nvar Marker_1 = require(\"./core/buffer/Marker\");\nexports.MAX_BUFFER_SIZE = 4294967295;\nvar Buffer = (function () {\n    function Buffer(_terminal, _hasScrollback) {\n        this._terminal = _terminal;\n        this._hasScrollback = _hasScrollback;\n        this.savedCurAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n        this.markers = [];\n        this._nullCell = BufferLine_1.CellData.fromCharData([0, BufferLine_1.NULL_CELL_CHAR, BufferLine_1.NULL_CELL_WIDTH, BufferLine_1.NULL_CELL_CODE]);\n        this._whitespaceCell = BufferLine_1.CellData.fromCharData([0, BufferLine_1.WHITESPACE_CELL_CHAR, BufferLine_1.WHITESPACE_CELL_WIDTH, BufferLine_1.WHITESPACE_CELL_CODE]);\n        this._cols = this._terminal.cols;\n        this._rows = this._terminal.rows;\n        this.clear();\n    }\n    Buffer.prototype.getNullCell = function (attr) {\n        if (attr) {\n            this._nullCell.fg = attr.fg;\n            this._nullCell.bg = attr.bg;\n        }\n        else {\n            this._nullCell.fg = 0;\n            this._nullCell.bg = 0;\n        }\n        return this._nullCell;\n    };\n    Buffer.prototype.getWhitespaceCell = function (attr) {\n        if (attr) {\n            this._whitespaceCell.fg = attr.fg;\n            this._whitespaceCell.bg = attr.bg;\n        }\n        else {\n            this._whitespaceCell.fg = 0;\n            this._whitespaceCell.bg = 0;\n        }\n        return this._whitespaceCell;\n    };\n    Buffer.prototype.getBlankLine = function (attr, isWrapped) {\n        return new BufferLine_1.BufferLine(this._terminal.cols, this.getNullCell(attr), isWrapped);\n    };\n    Object.defineProperty(Buffer.prototype, \"hasScrollback\", {\n        get: function () {\n            return this._hasScrollback && this.lines.maxLength > this._rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Buffer.prototype, \"isCursorInViewport\", {\n        get: function () {\n            var absoluteY = this.ybase + this.y;\n            var relativeY = absoluteY - this.ydisp;\n            return (relativeY >= 0 && relativeY < this._rows);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Buffer.prototype._getCorrectBufferLength = function (rows) {\n        if (!this._hasScrollback) {\n            return rows;\n        }\n        var correctBufferLength = rows + this._terminal.options.scrollback;\n        return correctBufferLength > exports.MAX_BUFFER_SIZE ? exports.MAX_BUFFER_SIZE : correctBufferLength;\n    };\n    Buffer.prototype.fillViewportRows = function (fillAttr) {\n        if (this.lines.length === 0) {\n            if (fillAttr === undefined) {\n                fillAttr = BufferLine_1.DEFAULT_ATTR_DATA;\n            }\n            var i = this._rows;\n            while (i--) {\n                this.lines.push(this.getBlankLine(fillAttr));\n            }\n        }\n    };\n    Buffer.prototype.clear = function () {\n        this.ydisp = 0;\n        this.ybase = 0;\n        this.y = 0;\n        this.x = 0;\n        this.lines = new CircularList_1.CircularList(this._getCorrectBufferLength(this._rows));\n        this.scrollTop = 0;\n        this.scrollBottom = this._rows - 1;\n        this.setupTabStops();\n    };\n    Buffer.prototype.resize = function (newCols, newRows) {\n        var nullCell = this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA);\n        var newMaxLength = this._getCorrectBufferLength(newRows);\n        if (newMaxLength > this.lines.maxLength) {\n            this.lines.maxLength = newMaxLength;\n        }\n        if (this.lines.length > 0) {\n            if (this._cols < newCols) {\n                for (var i = 0; i < this.lines.length; i++) {\n                    this.lines.get(i).resize(newCols, nullCell);\n                }\n            }\n            var addToY = 0;\n            if (this._rows < newRows) {\n                for (var y = this._rows; y < newRows; y++) {\n                    if (this.lines.length < newRows + this.ybase) {\n                        if (this.ybase > 0 && this.lines.length <= this.ybase + this.y + addToY + 1) {\n                            this.ybase--;\n                            addToY++;\n                            if (this.ydisp > 0) {\n                                this.ydisp--;\n                            }\n                        }\n                        else {\n                            this.lines.push(new BufferLine_1.BufferLine(newCols, nullCell));\n                        }\n                    }\n                }\n            }\n            else {\n                for (var y = this._rows; y > newRows; y--) {\n                    if (this.lines.length > newRows + this.ybase) {\n                        if (this.lines.length > this.ybase + this.y + 1) {\n                            this.lines.pop();\n                        }\n                        else {\n                            this.ybase++;\n                            this.ydisp++;\n                        }\n                    }\n                }\n            }\n            if (newMaxLength < this.lines.maxLength) {\n                var amountToTrim = this.lines.length - newMaxLength;\n                if (amountToTrim > 0) {\n                    this.lines.trimStart(amountToTrim);\n                    this.ybase = Math.max(this.ybase - amountToTrim, 0);\n                    this.ydisp = Math.max(this.ydisp - amountToTrim, 0);\n                }\n                this.lines.maxLength = newMaxLength;\n            }\n            this.x = Math.min(this.x, newCols - 1);\n            this.y = Math.min(this.y, newRows - 1);\n            if (addToY) {\n                this.y += addToY;\n            }\n            this.savedY = Math.min(this.savedY, newRows - 1);\n            this.savedX = Math.min(this.savedX, newCols - 1);\n            this.scrollTop = 0;\n        }\n        this.scrollBottom = newRows - 1;\n        if (this._isReflowEnabled) {\n            this._reflow(newCols, newRows);\n            if (this._cols > newCols) {\n                for (var i = 0; i < this.lines.length; i++) {\n                    this.lines.get(i).resize(newCols, nullCell);\n                }\n            }\n        }\n        this._cols = newCols;\n        this._rows = newRows;\n    };\n    Object.defineProperty(Buffer.prototype, \"_isReflowEnabled\", {\n        get: function () {\n            return this._hasScrollback && !this._terminal.options.windowsMode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Buffer.prototype._reflow = function (newCols, newRows) {\n        if (this._cols === newCols) {\n            return;\n        }\n        if (newCols > this._cols) {\n            this._reflowLarger(newCols, newRows);\n        }\n        else {\n            this._reflowSmaller(newCols, newRows);\n        }\n    };\n    Buffer.prototype._reflowLarger = function (newCols, newRows) {\n        var toRemove = BufferReflow_1.reflowLargerGetLinesToRemove(this.lines, this._cols, newCols, this.ybase + this.y, this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA));\n        if (toRemove.length > 0) {\n            var newLayoutResult = BufferReflow_1.reflowLargerCreateNewLayout(this.lines, toRemove);\n            BufferReflow_1.reflowLargerApplyNewLayout(this.lines, newLayoutResult.layout);\n            this._reflowLargerAdjustViewport(newCols, newRows, newLayoutResult.countRemoved);\n        }\n    };\n    Buffer.prototype._reflowLargerAdjustViewport = function (newCols, newRows, countRemoved) {\n        var nullCell = this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA);\n        var viewportAdjustments = countRemoved;\n        while (viewportAdjustments-- > 0) {\n            if (this.ybase === 0) {\n                if (this.y > 0) {\n                    this.y--;\n                }\n                if (this.lines.length < newRows) {\n                    this.lines.push(new BufferLine_1.BufferLine(newCols, nullCell));\n                }\n            }\n            else {\n                if (this.ydisp === this.ybase) {\n                    this.ydisp--;\n                }\n                this.ybase--;\n            }\n        }\n    };\n    Buffer.prototype._reflowSmaller = function (newCols, newRows) {\n        var nullCell = this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA);\n        var toInsert = [];\n        var countToInsert = 0;\n        for (var y = this.lines.length - 1; y >= 0; y--) {\n            var nextLine = this.lines.get(y);\n            if (!nextLine || !nextLine.isWrapped && nextLine.getTrimmedLength() <= newCols) {\n                continue;\n            }\n            var wrappedLines = [nextLine];\n            while (nextLine.isWrapped && y > 0) {\n                nextLine = this.lines.get(--y);\n                wrappedLines.unshift(nextLine);\n            }\n            var absoluteY = this.ybase + this.y;\n            if (absoluteY >= y && absoluteY < y + wrappedLines.length) {\n                continue;\n            }\n            var lastLineLength = wrappedLines[wrappedLines.length - 1].getTrimmedLength();\n            var destLineLengths = BufferReflow_1.reflowSmallerGetNewLineLengths(wrappedLines, this._cols, newCols);\n            var linesToAdd = destLineLengths.length - wrappedLines.length;\n            var trimmedLines = void 0;\n            if (this.ybase === 0 && this.y !== this.lines.length - 1) {\n                trimmedLines = Math.max(0, this.y - this.lines.maxLength + linesToAdd);\n            }\n            else {\n                trimmedLines = Math.max(0, this.lines.length - this.lines.maxLength + linesToAdd);\n            }\n            var newLines = [];\n            for (var i = 0; i < linesToAdd; i++) {\n                var newLine = this.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA, true);\n                newLines.push(newLine);\n            }\n            if (newLines.length > 0) {\n                toInsert.push({\n                    start: y + wrappedLines.length + countToInsert,\n                    newLines: newLines\n                });\n                countToInsert += newLines.length;\n            }\n            wrappedLines.push.apply(wrappedLines, newLines);\n            var destLineIndex = destLineLengths.length - 1;\n            var destCol = destLineLengths[destLineIndex];\n            if (destCol === 0) {\n                destLineIndex--;\n                destCol = destLineLengths[destLineIndex];\n            }\n            var srcLineIndex = wrappedLines.length - linesToAdd - 1;\n            var srcCol = lastLineLength;\n            while (srcLineIndex >= 0) {\n                var cellsToCopy = Math.min(srcCol, destCol);\n                wrappedLines[destLineIndex].copyCellsFrom(wrappedLines[srcLineIndex], srcCol - cellsToCopy, destCol - cellsToCopy, cellsToCopy, true);\n                destCol -= cellsToCopy;\n                if (destCol === 0) {\n                    destLineIndex--;\n                    destCol = destLineLengths[destLineIndex];\n                }\n                srcCol -= cellsToCopy;\n                if (srcCol === 0) {\n                    srcLineIndex--;\n                    var wrappedLinesIndex = Math.max(srcLineIndex, 0);\n                    srcCol = BufferReflow_1.getWrappedLineTrimmedLength(wrappedLines, wrappedLinesIndex, this._cols);\n                }\n            }\n            for (var i = 0; i < wrappedLines.length; i++) {\n                if (destLineLengths[i] < newCols) {\n                    wrappedLines[i].setCell(destLineLengths[i], nullCell);\n                }\n            }\n            var viewportAdjustments = linesToAdd - trimmedLines;\n            while (viewportAdjustments-- > 0) {\n                if (this.ybase === 0) {\n                    if (this.y < newRows - 1) {\n                        this.y++;\n                        this.lines.pop();\n                    }\n                    else {\n                        this.ybase++;\n                        this.ydisp++;\n                    }\n                }\n                else {\n                    if (this.ybase < Math.min(this.lines.maxLength, this.lines.length + countToInsert) - newRows) {\n                        if (this.ybase === this.ydisp) {\n                            this.ydisp++;\n                        }\n                        this.ybase++;\n                    }\n                }\n            }\n        }\n        if (toInsert.length > 0) {\n            var insertEvents = [];\n            var originalLines = [];\n            for (var i = 0; i < this.lines.length; i++) {\n                originalLines.push(this.lines.get(i));\n            }\n            var originalLinesLength = this.lines.length;\n            var originalLineIndex = originalLinesLength - 1;\n            var nextToInsertIndex = 0;\n            var nextToInsert = toInsert[nextToInsertIndex];\n            this.lines.length = Math.min(this.lines.maxLength, this.lines.length + countToInsert);\n            var countInsertedSoFar = 0;\n            for (var i = Math.min(this.lines.maxLength - 1, originalLinesLength + countToInsert - 1); i >= 0; i--) {\n                if (nextToInsert && nextToInsert.start > originalLineIndex + countInsertedSoFar) {\n                    for (var nextI = nextToInsert.newLines.length - 1; nextI >= 0; nextI--) {\n                        this.lines.set(i--, nextToInsert.newLines[nextI]);\n                    }\n                    i++;\n                    insertEvents.push({\n                        index: originalLineIndex + 1,\n                        amount: nextToInsert.newLines.length\n                    });\n                    countInsertedSoFar += nextToInsert.newLines.length;\n                    nextToInsert = toInsert[++nextToInsertIndex];\n                }\n                else {\n                    this.lines.set(i, originalLines[originalLineIndex--]);\n                }\n            }\n            var insertCountEmitted = 0;\n            for (var i = insertEvents.length - 1; i >= 0; i--) {\n                insertEvents[i].index += insertCountEmitted;\n                this.lines.onInsertEmitter.fire(insertEvents[i]);\n                insertCountEmitted += insertEvents[i].amount;\n            }\n            var amountToTrim = Math.max(0, originalLinesLength + countToInsert - this.lines.maxLength);\n            if (amountToTrim > 0) {\n                this.lines.onTrimEmitter.fire(amountToTrim);\n            }\n        }\n    };\n    Buffer.prototype.stringIndexToBufferIndex = function (lineIndex, stringIndex, trimRight) {\n        if (trimRight === void 0) { trimRight = false; }\n        while (stringIndex) {\n            var line = this.lines.get(lineIndex);\n            if (!line) {\n                return [-1, -1];\n            }\n            var length_1 = (trimRight) ? line.getTrimmedLength() : line.length;\n            for (var i = 0; i < length_1; ++i) {\n                if (line.get(i)[BufferLine_1.CHAR_DATA_WIDTH_INDEX]) {\n                    stringIndex -= line.get(i)[BufferLine_1.CHAR_DATA_CHAR_INDEX].length || 1;\n                }\n                if (stringIndex < 0) {\n                    return [lineIndex, i];\n                }\n            }\n            lineIndex++;\n        }\n        return [lineIndex, 0];\n    };\n    Buffer.prototype.translateBufferLineToString = function (lineIndex, trimRight, startCol, endCol) {\n        if (startCol === void 0) { startCol = 0; }\n        var line = this.lines.get(lineIndex);\n        if (!line) {\n            return '';\n        }\n        return line.translateToString(trimRight, startCol, endCol);\n    };\n    Buffer.prototype.getWrappedRangeForLine = function (y) {\n        var first = y;\n        var last = y;\n        while (first > 0 && this.lines.get(first).isWrapped) {\n            first--;\n        }\n        while (last + 1 < this.lines.length && this.lines.get(last + 1).isWrapped) {\n            last++;\n        }\n        return { first: first, last: last };\n    };\n    Buffer.prototype.setupTabStops = function (i) {\n        if (i !== null && i !== undefined) {\n            if (!this.tabs[i]) {\n                i = this.prevStop(i);\n            }\n        }\n        else {\n            this.tabs = {};\n            i = 0;\n        }\n        for (; i < this._cols; i += this._terminal.options.tabStopWidth) {\n            this.tabs[i] = true;\n        }\n    };\n    Buffer.prototype.prevStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[--x] && x > 0)\n            ;\n        return x >= this._cols ? this._cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.nextStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[++x] && x < this._cols)\n            ;\n        return x >= this._cols ? this._cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.addMarker = function (y) {\n        var _this = this;\n        var marker = new Marker_1.Marker(y);\n        this.markers.push(marker);\n        marker.register(this.lines.onTrim(function (amount) {\n            marker.line -= amount;\n            if (marker.line < 0) {\n                marker.dispose();\n            }\n        }));\n        marker.register(this.lines.onInsert(function (event) {\n            if (marker.line >= event.index) {\n                marker.line += event.amount;\n            }\n        }));\n        marker.register(this.lines.onDelete(function (event) {\n            if (marker.line >= event.index && marker.line < event.index + event.amount) {\n                marker.dispose();\n            }\n            if (marker.line > event.index) {\n                marker.line -= event.amount;\n            }\n        }));\n        marker.register(marker.onDispose(function () { return _this._removeMarker(marker); }));\n        return marker;\n    };\n    Buffer.prototype._removeMarker = function (marker) {\n        this.markers.splice(this.markers.indexOf(marker), 1);\n    };\n    Buffer.prototype.iterator = function (trimRight, startIndex, endIndex, startOverscan, endOverscan) {\n        return new BufferStringIterator(this, trimRight, startIndex, endIndex, startOverscan, endOverscan);\n    };\n    return Buffer;\n}());\nexports.Buffer = Buffer;\nvar BufferStringIterator = (function () {\n    function BufferStringIterator(_buffer, _trimRight, _startIndex, _endIndex, _startOverscan, _endOverscan) {\n        if (_startIndex === void 0) { _startIndex = 0; }\n        if (_endIndex === void 0) { _endIndex = _buffer.lines.length; }\n        if (_startOverscan === void 0) { _startOverscan = 0; }\n        if (_endOverscan === void 0) { _endOverscan = 0; }\n        this._buffer = _buffer;\n        this._trimRight = _trimRight;\n        this._startIndex = _startIndex;\n        this._endIndex = _endIndex;\n        this._startOverscan = _startOverscan;\n        this._endOverscan = _endOverscan;\n        if (this._startIndex < 0) {\n            this._startIndex = 0;\n        }\n        if (this._endIndex > this._buffer.lines.length) {\n            this._endIndex = this._buffer.lines.length;\n        }\n        this._current = this._startIndex;\n    }\n    BufferStringIterator.prototype.hasNext = function () {\n        return this._current < this._endIndex;\n    };\n    BufferStringIterator.prototype.next = function () {\n        var range = this._buffer.getWrappedRangeForLine(this._current);\n        if (range.first < this._startIndex - this._startOverscan) {\n            range.first = this._startIndex - this._startOverscan;\n        }\n        if (range.last > this._endIndex + this._endOverscan) {\n            range.last = this._endIndex + this._endOverscan;\n        }\n        range.first = Math.max(range.first, 0);\n        range.last = Math.min(range.last, this._buffer.lines.length);\n        var result = '';\n        for (var i = range.first; i <= range.last; ++i) {\n            result += this._buffer.translateBufferLineToString(i, this._trimRight);\n        }\n        this._current = range.last + 1;\n        return { range: range, content: result };\n    };\n    return BufferStringIterator;\n}());\nexports.BufferStringIterator = BufferStringIterator;\n//# sourceMappingURL=Buffer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction addDisposableDomListener(node, type, handler, useCapture) {\n    node.addEventListener(type, handler, useCapture);\n    return {\n        dispose: function () {\n            if (!handler) {\n                return;\n            }\n            node.removeEventListener(type, handler, useCapture);\n        }\n    };\n}\nexports.addDisposableDomListener = addDisposableDomListener;\n//# sourceMappingURL=Lifecycle.js.map","import \"../../../src/components/VTooltip/VTooltip.sass\"; // Mixins\n\nimport Activatable from '../../mixins/activatable';\nimport Colorable from '../../mixins/colorable';\nimport Delayable from '../../mixins/delayable';\nimport Dependent from '../../mixins/dependent';\nimport Detachable from '../../mixins/detachable';\nimport Menuable from '../../mixins/menuable';\nimport Toggleable from '../../mixins/toggleable'; // Helpers\n\nimport { convertToUnit, keyCodes, getSlotType } from '../../util/helpers';\nimport { consoleError } from '../../util/console';\nimport mixins from '../../util/mixins';\n/* @vue/component */\n\nexport default mixins(Colorable, Delayable, Dependent, Detachable, Menuable, Toggleable).extend({\n  name: 'v-tooltip',\n  props: {\n    closeDelay: {\n      type: [Number, String],\n      default: 0\n    },\n    disabled: Boolean,\n    fixed: {\n      type: Boolean,\n      default: true\n    },\n    openDelay: {\n      type: [Number, String],\n      default: 0\n    },\n    openOnHover: {\n      type: Boolean,\n      default: true\n    },\n    tag: {\n      type: String,\n      default: 'span'\n    },\n    transition: String,\n    zIndex: {\n      default: null\n    }\n  },\n  data: () => ({\n    calculatedMinWidth: 0,\n    closeDependents: false\n  }),\n  computed: {\n    calculatedLeft() {\n      const {\n        activator,\n        content\n      } = this.dimensions;\n      const unknown = !this.bottom && !this.left && !this.top && !this.right;\n      const activatorLeft = this.attach !== false ? activator.offsetLeft : activator.left;\n      let left = 0;\n\n      if (this.top || this.bottom || unknown) {\n        left = activatorLeft + activator.width / 2 - content.width / 2;\n      } else if (this.left || this.right) {\n        left = activatorLeft + (this.right ? activator.width : -content.width) + (this.right ? 10 : -10);\n      }\n\n      if (this.nudgeLeft) left -= parseInt(this.nudgeLeft);\n      if (this.nudgeRight) left += parseInt(this.nudgeRight);\n      return `${this.calcXOverflow(left, this.dimensions.content.width)}px`;\n    },\n\n    calculatedTop() {\n      const {\n        activator,\n        content\n      } = this.dimensions;\n      const activatorTop = this.attach !== false ? activator.offsetTop : activator.top;\n      let top = 0;\n\n      if (this.top || this.bottom) {\n        top = activatorTop + (this.bottom ? activator.height : -content.height) + (this.bottom ? 10 : -10);\n      } else if (this.left || this.right) {\n        top = activatorTop + activator.height / 2 - content.height / 2;\n      }\n\n      if (this.nudgeTop) top -= parseInt(this.nudgeTop);\n      if (this.nudgeBottom) top += parseInt(this.nudgeBottom);\n      return `${this.calcYOverflow(top + this.pageYOffset)}px`;\n    },\n\n    classes() {\n      return {\n        'v-tooltip--top': this.top,\n        'v-tooltip--right': this.right,\n        'v-tooltip--bottom': this.bottom,\n        'v-tooltip--left': this.left,\n        'v-tooltip--attached': this.attach === '' || this.attach === true || this.attach === 'attach'\n      };\n    },\n\n    computedTransition() {\n      if (this.transition) return this.transition;\n      return this.isActive ? 'scale-transition' : 'fade-transition';\n    },\n\n    offsetY() {\n      return this.top || this.bottom;\n    },\n\n    offsetX() {\n      return this.left || this.right;\n    },\n\n    styles() {\n      return {\n        left: this.calculatedLeft,\n        maxWidth: convertToUnit(this.maxWidth),\n        minWidth: convertToUnit(this.minWidth),\n        opacity: this.isActive ? 0.9 : 0,\n        top: this.calculatedTop,\n        zIndex: this.zIndex || this.activeZIndex\n      };\n    }\n\n  },\n\n  beforeMount() {\n    this.$nextTick(() => {\n      this.value && this.callActivate();\n    });\n  },\n\n  mounted() {\n    if (getSlotType(this, 'activator', true) === 'v-slot') {\n      consoleError(`v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'`, this);\n    }\n  },\n\n  methods: {\n    activate() {\n      // Update coordinates and dimensions of menu\n      // and its activator\n      this.updateDimensions(); // Start the transition\n\n      requestAnimationFrame(this.startTransition);\n    },\n\n    deactivate() {\n      this.runDelay('close');\n    },\n\n    genActivatorListeners() {\n      const listeners = Activatable.options.methods.genActivatorListeners.call(this);\n\n      listeners.focus = e => {\n        this.getActivator(e);\n        this.runDelay('open');\n      };\n\n      listeners.blur = e => {\n        this.getActivator(e);\n        this.runDelay('close');\n      };\n\n      listeners.keydown = e => {\n        if (e.keyCode === keyCodes.esc) {\n          this.getActivator(e);\n          this.runDelay('close');\n        }\n      };\n\n      return listeners;\n    },\n\n    genTransition() {\n      const content = this.genContent();\n      if (!this.computedTransition) return content;\n      return this.$createElement('transition', {\n        props: {\n          name: this.computedTransition\n        }\n      }, [content]);\n    },\n\n    genContent() {\n      return this.$createElement('div', this.setBackgroundColor(this.color, {\n        staticClass: 'v-tooltip__content',\n        class: {\n          [this.contentClass]: true,\n          menuable__content__active: this.isActive,\n          'v-tooltip__content--fixed': this.activatorFixed\n        },\n        style: this.styles,\n        attrs: this.getScopeIdAttrs(),\n        directives: [{\n          name: 'show',\n          value: this.isContentActive\n        }],\n        ref: 'content'\n      }), this.getContentSlot());\n    }\n\n  },\n\n  render(h) {\n    return h(this.tag, {\n      staticClass: 'v-tooltip',\n      class: this.classes\n    }, [this.showLazyContent(() => [this.genTransition()]), this.genActivator()]);\n  }\n\n});\n//# sourceMappingURL=VTooltip.js.map","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextRenderLayer_1 = require(\"./TextRenderLayer\");\nvar SelectionRenderLayer_1 = require(\"./SelectionRenderLayer\");\nvar CursorRenderLayer_1 = require(\"./CursorRenderLayer\");\nvar LinkRenderLayer_1 = require(\"./LinkRenderLayer\");\nvar CharacterJoinerRegistry_1 = require(\"../renderer/CharacterJoinerRegistry\");\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar Renderer = (function (_super) {\n    __extends(Renderer, _super);\n    function Renderer(_terminal, _colors) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._colors = _colors;\n        var allowTransparency = _this._terminal.options.allowTransparency;\n        _this._characterJoinerRegistry = new CharacterJoinerRegistry_1.CharacterJoinerRegistry(_terminal);\n        _this._renderLayers = [\n            new TextRenderLayer_1.TextRenderLayer(_this._terminal.screenElement, 0, _this._colors, _this._characterJoinerRegistry, allowTransparency),\n            new SelectionRenderLayer_1.SelectionRenderLayer(_this._terminal.screenElement, 1, _this._colors),\n            new LinkRenderLayer_1.LinkRenderLayer(_this._terminal.screenElement, 2, _this._colors, _this._terminal),\n            new CursorRenderLayer_1.CursorRenderLayer(_this._terminal.screenElement, 3, _this._colors)\n        ];\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._devicePixelRatio = window.devicePixelRatio;\n        _this._updateDimensions();\n        _this.onOptionsChanged();\n        return _this;\n    }\n    Renderer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._renderLayers.forEach(function (l) { return l.dispose(); });\n    };\n    Renderer.prototype.onDevicePixelRatioChange = function () {\n        if (this._devicePixelRatio !== window.devicePixelRatio) {\n            this._devicePixelRatio = window.devicePixelRatio;\n            this.onResize(this._terminal.cols, this._terminal.rows);\n        }\n    };\n    Renderer.prototype.setColors = function (colors) {\n        var _this = this;\n        this._colors = colors;\n        this._renderLayers.forEach(function (l) {\n            l.setColors(_this._terminal, _this._colors);\n            l.reset(_this._terminal);\n        });\n    };\n    Renderer.prototype.onResize = function (cols, rows) {\n        var _this = this;\n        this._updateDimensions();\n        this._renderLayers.forEach(function (l) { return l.resize(_this._terminal, _this.dimensions); });\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n    };\n    Renderer.prototype.onCharSizeChanged = function () {\n        this.onResize(this._terminal.cols, this._terminal.rows);\n    };\n    Renderer.prototype.onBlur = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onBlur(_this._terminal); });\n    };\n    Renderer.prototype.onFocus = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onFocus(_this._terminal); });\n    };\n    Renderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        var _this = this;\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n        this._runOperation(function (l) { return l.onSelectionChanged(_this._terminal, start, end, columnSelectMode); });\n    };\n    Renderer.prototype.onCursorMove = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onCursorMove(_this._terminal); });\n    };\n    Renderer.prototype.onOptionsChanged = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onOptionsChanged(_this._terminal); });\n    };\n    Renderer.prototype.clear = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.reset(_this._terminal); });\n    };\n    Renderer.prototype._runOperation = function (operation) {\n        this._renderLayers.forEach(function (l) { return operation(l); });\n    };\n    Renderer.prototype.renderRows = function (start, end) {\n        var _this = this;\n        this._renderLayers.forEach(function (l) { return l.onGridChanged(_this._terminal, start, end); });\n    };\n    Renderer.prototype._updateDimensions = function () {\n        if (!this._terminal.charMeasure.width || !this._terminal.charMeasure.height) {\n            return;\n        }\n        this.dimensions.scaledCharWidth = Math.floor(this._terminal.charMeasure.width * window.devicePixelRatio);\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharTop = this._terminal.options.lineHeight === 1 ? 0 : Math.round((this.dimensions.scaledCellHeight - this.dimensions.scaledCharHeight) / 2);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCharLeft = Math.floor(this._terminal.options.letterSpacing / 2);\n        this.dimensions.scaledCanvasHeight = this._terminal.rows * this.dimensions.scaledCellHeight;\n        this.dimensions.scaledCanvasWidth = this._terminal.cols * this.dimensions.scaledCellWidth;\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n    };\n    Renderer.prototype.registerCharacterJoiner = function (handler) {\n        return this._characterJoinerRegistry.registerCharacterJoiner(handler);\n    };\n    Renderer.prototype.deregisterCharacterJoiner = function (joinerId) {\n        return this._characterJoinerRegistry.deregisterCharacterJoiner(joinerId);\n    };\n    return Renderer;\n}(Lifecycle_1.Disposable));\nexports.Renderer = Renderer;\n//# sourceMappingURL=Renderer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"../../common/data/EscapeSequences\");\nvar KEYCODE_KEY_MAPPINGS = {\n    48: ['0', ')'],\n    49: ['1', '!'],\n    50: ['2', '@'],\n    51: ['3', '#'],\n    52: ['4', '$'],\n    53: ['5', '%'],\n    54: ['6', '^'],\n    55: ['7', '&'],\n    56: ['8', '*'],\n    57: ['9', '('],\n    186: [';', ':'],\n    187: ['=', '+'],\n    188: [',', '<'],\n    189: ['-', '_'],\n    190: ['.', '>'],\n    191: ['/', '?'],\n    192: ['`', '~'],\n    219: ['[', '{'],\n    220: ['\\\\', '|'],\n    221: [']', '}'],\n    222: ['\\'', '\"']\n};\nfunction evaluateKeyboardEvent(ev, applicationCursorMode, isMac, macOptionIsMeta) {\n    var result = {\n        type: 0,\n        cancel: false,\n        key: undefined\n    };\n    var modifiers = (ev.shiftKey ? 1 : 0) | (ev.altKey ? 2 : 0) | (ev.ctrlKey ? 4 : 0) | (ev.metaKey ? 8 : 0);\n    switch (ev.keyCode) {\n        case 0:\n            if (ev.key === 'UIKeyInputUpArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OA';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[A';\n                }\n            }\n            else if (ev.key === 'UIKeyInputLeftArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OD';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[D';\n                }\n            }\n            else if (ev.key === 'UIKeyInputRightArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OC';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[C';\n                }\n            }\n            else if (ev.key === 'UIKeyInputDownArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OB';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[B';\n                }\n            }\n            break;\n        case 8:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.BS;\n                break;\n            }\n            else if (ev.altKey) {\n                result.key = EscapeSequences_1.C0.ESC + EscapeSequences_1.C0.DEL;\n                break;\n            }\n            result.key = EscapeSequences_1.C0.DEL;\n            break;\n        case 9:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[Z';\n                break;\n            }\n            result.key = EscapeSequences_1.C0.HT;\n            result.cancel = true;\n            break;\n        case 13:\n            result.key = EscapeSequences_1.C0.CR;\n            result.cancel = true;\n            break;\n        case 27:\n            result.key = EscapeSequences_1.C0.ESC;\n            result.cancel = true;\n            break;\n        case 37:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'D';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3D') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'b' : EscapeSequences_1.C0.ESC + '[1;5D';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OD';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[D';\n            }\n            break;\n        case 39:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'C';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3C') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'f' : EscapeSequences_1.C0.ESC + '[1;5C';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OC';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[C';\n            }\n            break;\n        case 38:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'A';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3A') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5A';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OA';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[A';\n            }\n            break;\n        case 40:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'B';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3B') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5B';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OB';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[B';\n            }\n            break;\n        case 45:\n            if (!ev.shiftKey && !ev.ctrlKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[2~';\n            }\n            break;\n        case 46:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[3;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[3~';\n            }\n            break;\n        case 36:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'H';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OH';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[H';\n            }\n            break;\n        case 35:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'F';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OF';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[F';\n            }\n            break;\n        case 33:\n            if (ev.shiftKey) {\n                result.type = 2;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[5~';\n            }\n            break;\n        case 34:\n            if (ev.shiftKey) {\n                result.type = 3;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[6~';\n            }\n            break;\n        case 112:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'P';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OP';\n            }\n            break;\n        case 113:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'Q';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OQ';\n            }\n            break;\n        case 114:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'R';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OR';\n            }\n            break;\n        case 115:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'S';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OS';\n            }\n            break;\n        case 116:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[15;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[15~';\n            }\n            break;\n        case 117:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[17;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[17~';\n            }\n            break;\n        case 118:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[18;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[18~';\n            }\n            break;\n        case 119:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[19;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[19~';\n            }\n            break;\n        case 120:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[20;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[20~';\n            }\n            break;\n        case 121:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[21;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[21~';\n            }\n            break;\n        case 122:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[23;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[23~';\n            }\n            break;\n        case 123:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[24;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[24~';\n            }\n            break;\n        default:\n            if (ev.ctrlKey && !ev.shiftKey && !ev.altKey && !ev.metaKey) {\n                if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    result.key = String.fromCharCode(ev.keyCode - 64);\n                }\n                else if (ev.keyCode === 32) {\n                    result.key = String.fromCharCode(0);\n                }\n                else if (ev.keyCode >= 51 && ev.keyCode <= 55) {\n                    result.key = String.fromCharCode(ev.keyCode - 51 + 27);\n                }\n                else if (ev.keyCode === 56) {\n                    result.key = String.fromCharCode(127);\n                }\n                else if (ev.keyCode === 219) {\n                    result.key = String.fromCharCode(27);\n                }\n                else if (ev.keyCode === 220) {\n                    result.key = String.fromCharCode(28);\n                }\n                else if (ev.keyCode === 221) {\n                    result.key = String.fromCharCode(29);\n                }\n            }\n            else if ((!isMac || macOptionIsMeta) && ev.altKey && !ev.metaKey) {\n                var keyMapping = KEYCODE_KEY_MAPPINGS[ev.keyCode];\n                var key = keyMapping && keyMapping[!ev.shiftKey ? 0 : 1];\n                if (key) {\n                    result.key = EscapeSequences_1.C0.ESC + key;\n                }\n                else if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    var keyCode = ev.ctrlKey ? ev.keyCode - 64 : ev.keyCode + 32;\n                    result.key = EscapeSequences_1.C0.ESC + String.fromCharCode(keyCode);\n                }\n            }\n            else if (isMac && !ev.altKey && !ev.ctrlKey && ev.metaKey) {\n                if (ev.keyCode === 65) {\n                    result.type = 1;\n                }\n            }\n            else if (ev.key && !ev.ctrlKey && !ev.altKey && !ev.metaKey && ev.keyCode >= 48 && ev.key.length === 1) {\n                result.key = ev.key;\n            }\n            else if (ev.key && ev.ctrlKey) {\n                if (ev.key === '_') {\n                    result.key = EscapeSequences_1.C0.US;\n                }\n            }\n            break;\n    }\n    return result;\n}\nexports.evaluateKeyboardEvent = evaluateKeyboardEvent;\n//# sourceMappingURL=Keyboard.js.map","// Mixins\nimport mixins from '../../util/mixins';\nimport BindsAttrs from '../../mixins/binds-attrs';\nimport { provide as RegistrableProvide } from '../../mixins/registrable';\n/* @vue/component */\n\nexport default mixins(BindsAttrs, RegistrableProvide('form')\n/* @vue/component */\n).extend({\n  name: 'v-form',\n  inheritAttrs: false,\n  props: {\n    lazyValidation: Boolean,\n    value: Boolean\n  },\n  data: () => ({\n    inputs: [],\n    watchers: [],\n    errorBag: {}\n  }),\n  watch: {\n    errorBag: {\n      handler(val) {\n        const errors = Object.values(val).includes(true);\n        this.$emit('input', !errors);\n      },\n\n      deep: true,\n      immediate: true\n    }\n  },\n  methods: {\n    watchInput(input) {\n      const watcher = input => {\n        return input.$watch('hasError', val => {\n          this.$set(this.errorBag, input._uid, val);\n        }, {\n          immediate: true\n        });\n      };\n\n      const watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {}\n      };\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', val => {\n          if (!val) return; // Only watch if we're not already doing it\n\n          if (this.errorBag.hasOwnProperty(input._uid)) return;\n          watchers.valid = watcher(input);\n        });\n      } else {\n        watchers.valid = watcher(input);\n      }\n\n      return watchers;\n    },\n\n    /** @public */\n    validate() {\n      return this.inputs.filter(input => !input.validate(true)).length === 0;\n    },\n\n    /** @public */\n    reset() {\n      this.inputs.forEach(input => input.reset());\n      this.resetErrorBag();\n    },\n\n    resetErrorBag() {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {};\n        }, 0);\n      }\n    },\n\n    /** @public */\n    resetValidation() {\n      this.inputs.forEach(input => input.resetValidation());\n      this.resetErrorBag();\n    },\n\n    register(input) {\n      this.inputs.push(input);\n      this.watchers.push(this.watchInput(input));\n    },\n\n    unregister(input) {\n      const found = this.inputs.find(i => i._uid === input._uid);\n      if (!found) return;\n      const unwatch = this.watchers.find(i => i._uid === found._uid);\n\n      if (unwatch) {\n        unwatch.valid();\n        unwatch.shouldValidate();\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid);\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid);\n      this.$delete(this.errorBag, found._uid);\n    }\n\n  },\n\n  render(h) {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$\n      },\n      on: {\n        submit: e => this.$emit('submit', e)\n      }\n    }, this.$slots.default);\n  }\n\n});\n//# sourceMappingURL=VForm.js.map","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CharAtlasUtils_1 = require(\"./CharAtlasUtils\");\nvar DynamicCharAtlas_1 = require(\"./DynamicCharAtlas\");\nvar NoneCharAtlas_1 = require(\"./NoneCharAtlas\");\nvar StaticCharAtlas_1 = require(\"./StaticCharAtlas\");\nvar charAtlasImplementations = {\n    'none': NoneCharAtlas_1.default,\n    'static': StaticCharAtlas_1.default,\n    'dynamic': DynamicCharAtlas_1.default\n};\nvar charAtlasCache = [];\nfunction acquireCharAtlas(terminal, colors, scaledCharWidth, scaledCharHeight) {\n    var newConfig = CharAtlasUtils_1.generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors);\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        var ownedByIndex = entry.ownedBy.indexOf(terminal);\n        if (ownedByIndex >= 0) {\n            if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n                return entry.atlas;\n            }\n            if (entry.ownedBy.length === 1) {\n                entry.atlas.dispose();\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                entry.ownedBy.splice(ownedByIndex, 1);\n            }\n            break;\n        }\n    }\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n            entry.ownedBy.push(terminal);\n            return entry.atlas;\n        }\n    }\n    var newEntry = {\n        atlas: new charAtlasImplementations[terminal.options.experimentalCharAtlas](document, newConfig),\n        config: newConfig,\n        ownedBy: [terminal]\n    };\n    charAtlasCache.push(newEntry);\n    return newEntry.atlas;\n}\nexports.acquireCharAtlas = acquireCharAtlas;\nfunction removeTerminalFromCache(terminal) {\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var index = charAtlasCache[i].ownedBy.indexOf(terminal);\n        if (index !== -1) {\n            if (charAtlasCache[i].ownedBy.length === 1) {\n                charAtlasCache[i].atlas.dispose();\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                charAtlasCache[i].ownedBy.splice(index, 1);\n            }\n            break;\n        }\n    }\n}\nexports.removeTerminalFromCache = removeTerminalFromCache;\n//# sourceMappingURL=CharAtlasCache.js.map","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.github.io/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BELL_SOUND = 'data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg==';\nvar SoundManager = (function () {\n    function SoundManager(_terminal) {\n        this._terminal = _terminal;\n    }\n    Object.defineProperty(SoundManager, \"audioContext\", {\n        get: function () {\n            if (!SoundManager._audioContext) {\n                var audioContextCtor = window.AudioContext || window.webkitAudioContext;\n                if (!audioContextCtor) {\n                    console.warn('Web Audio API is not supported by this browser. Consider upgrading to the latest version');\n                    return null;\n                }\n                SoundManager._audioContext = new audioContextCtor();\n            }\n            return SoundManager._audioContext;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SoundManager.prototype.playBellSound = function () {\n        var ctx = SoundManager.audioContext;\n        if (!ctx) {\n            return;\n        }\n        var bellAudioSource = ctx.createBufferSource();\n        ctx.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._terminal.options.bellSound)), function (buffer) {\n            bellAudioSource.buffer = buffer;\n            bellAudioSource.connect(ctx.destination);\n            bellAudioSource.start(0);\n        });\n    };\n    SoundManager.prototype._base64ToArrayBuffer = function (base64) {\n        var binaryString = window.atob(base64);\n        var len = binaryString.length;\n        var bytes = new Uint8Array(len);\n        for (var i = 0; i < len; i++) {\n            bytes[i] = binaryString.charCodeAt(i);\n        }\n        return bytes.buffer;\n    };\n    SoundManager.prototype._removeMimeType = function (dataURI) {\n        var splitUri = dataURI.split(',');\n        return splitUri[1];\n    };\n    return SoundManager;\n}());\nexports.SoundManager = SoundManager;\n//# sourceMappingURL=SoundManager.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./Types\");\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar ColorManager_1 = require(\"../../ui/ColorManager\");\nvar CharAtlasGenerator_1 = require(\"./CharAtlasGenerator\");\nvar LRUMap_1 = require(\"./LRUMap\");\nvar Platform_1 = require(\"../../common/Platform\");\nvar TEXTURE_WIDTH = 1024;\nvar TEXTURE_HEIGHT = 1024;\nvar TRANSPARENT_COLOR = {\n    css: 'rgba(0, 0, 0, 0)',\n    rgba: 0\n};\nvar FRAME_CACHE_DRAW_LIMIT = 100;\nvar GLYPH_BITMAP_COMMIT_DELAY = 100;\nfunction getGlyphCacheKey(glyph) {\n    return glyph.code << 21 | glyph.bg << 12 | glyph.fg << 3 | (glyph.bold ? 0 : 4) + (glyph.dim ? 0 : 2) + (glyph.italic ? 0 : 1);\n}\nexports.getGlyphCacheKey = getGlyphCacheKey;\nvar DynamicCharAtlas = (function (_super) {\n    __extends(DynamicCharAtlas, _super);\n    function DynamicCharAtlas(document, _config) {\n        var _this = _super.call(this) || this;\n        _this._config = _config;\n        _this._drawToCacheCount = 0;\n        _this._glyphsWaitingOnBitmap = [];\n        _this._bitmapCommitTimeout = null;\n        _this._bitmap = null;\n        _this._cacheCanvas = document.createElement('canvas');\n        _this._cacheCanvas.width = TEXTURE_WIDTH;\n        _this._cacheCanvas.height = TEXTURE_HEIGHT;\n        _this._cacheCtx = _this._cacheCanvas.getContext('2d', { alpha: true });\n        var tmpCanvas = document.createElement('canvas');\n        tmpCanvas.width = _this._config.scaledCharWidth;\n        tmpCanvas.height = _this._config.scaledCharHeight;\n        _this._tmpCtx = tmpCanvas.getContext('2d', { alpha: _this._config.allowTransparency });\n        _this._width = Math.floor(TEXTURE_WIDTH / _this._config.scaledCharWidth);\n        _this._height = Math.floor(TEXTURE_HEIGHT / _this._config.scaledCharHeight);\n        var capacity = _this._width * _this._height;\n        _this._cacheMap = new LRUMap_1.default(capacity);\n        _this._cacheMap.prealloc(capacity);\n        return _this;\n    }\n    DynamicCharAtlas.prototype.dispose = function () {\n        if (this._bitmapCommitTimeout !== null) {\n            window.clearTimeout(this._bitmapCommitTimeout);\n            this._bitmapCommitTimeout = null;\n        }\n    };\n    DynamicCharAtlas.prototype.beginFrame = function () {\n        this._drawToCacheCount = 0;\n    };\n    DynamicCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (glyph.code === 32) {\n            return true;\n        }\n        if (!this._canCache(glyph)) {\n            return false;\n        }\n        var glyphKey = getGlyphCacheKey(glyph);\n        var cacheValue = this._cacheMap.get(glyphKey);\n        if (cacheValue !== null && cacheValue !== undefined) {\n            this._drawFromCache(ctx, cacheValue, x, y);\n            return true;\n        }\n        else if (this._drawToCacheCount < FRAME_CACHE_DRAW_LIMIT) {\n            var index = void 0;\n            if (this._cacheMap.size < this._cacheMap.capacity) {\n                index = this._cacheMap.size;\n            }\n            else {\n                index = this._cacheMap.peek().index;\n            }\n            var cacheValue_1 = this._drawToCache(glyph, index);\n            this._cacheMap.set(glyphKey, cacheValue_1);\n            this._drawFromCache(ctx, cacheValue_1, x, y);\n            return true;\n        }\n        return false;\n    };\n    DynamicCharAtlas.prototype._canCache = function (glyph) {\n        return glyph.code < 256;\n    };\n    DynamicCharAtlas.prototype._toCoordinateX = function (index) {\n        return (index % this._width) * this._config.scaledCharWidth;\n    };\n    DynamicCharAtlas.prototype._toCoordinateY = function (index) {\n        return Math.floor(index / this._width) * this._config.scaledCharHeight;\n    };\n    DynamicCharAtlas.prototype._drawFromCache = function (ctx, cacheValue, x, y) {\n        if (cacheValue.isEmpty) {\n            return;\n        }\n        var cacheX = this._toCoordinateX(cacheValue.index);\n        var cacheY = this._toCoordinateY(cacheValue.index);\n        ctx.drawImage(cacheValue.inBitmap ? this._bitmap : this._cacheCanvas, cacheX, cacheY, this._config.scaledCharWidth, this._config.scaledCharHeight, x, y, this._config.scaledCharWidth, this._config.scaledCharHeight);\n    };\n    DynamicCharAtlas.prototype._getColorFromAnsiIndex = function (idx) {\n        if (idx < this._config.colors.ansi.length) {\n            return this._config.colors.ansi[idx];\n        }\n        return ColorManager_1.DEFAULT_ANSI_COLORS[idx];\n    };\n    DynamicCharAtlas.prototype._getBackgroundColor = function (glyph) {\n        if (this._config.allowTransparency) {\n            return TRANSPARENT_COLOR;\n        }\n        else if (glyph.bg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.foreground;\n        }\n        else if (glyph.bg < 256) {\n            return this._getColorFromAnsiIndex(glyph.bg);\n        }\n        return this._config.colors.background;\n    };\n    DynamicCharAtlas.prototype._getForegroundColor = function (glyph) {\n        if (glyph.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.background;\n        }\n        else if (glyph.fg < 256) {\n            return this._getColorFromAnsiIndex(glyph.fg);\n        }\n        return this._config.colors.foreground;\n    };\n    DynamicCharAtlas.prototype._drawToCache = function (glyph, index) {\n        this._drawToCacheCount++;\n        this._tmpCtx.save();\n        var backgroundColor = this._getBackgroundColor(glyph);\n        this._tmpCtx.globalCompositeOperation = 'copy';\n        this._tmpCtx.fillStyle = backgroundColor.css;\n        this._tmpCtx.fillRect(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        this._tmpCtx.globalCompositeOperation = 'source-over';\n        var fontWeight = glyph.bold ? this._config.fontWeightBold : this._config.fontWeight;\n        var fontStyle = glyph.italic ? 'italic' : '';\n        this._tmpCtx.font =\n            fontStyle + \" \" + fontWeight + \" \" + this._config.fontSize * this._config.devicePixelRatio + \"px \" + this._config.fontFamily;\n        this._tmpCtx.textBaseline = 'middle';\n        this._tmpCtx.fillStyle = this._getForegroundColor(glyph).css;\n        if (glyph.dim) {\n            this._tmpCtx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        this._tmpCtx.fillText(glyph.chars, 0, this._config.scaledCharHeight / 2);\n        this._tmpCtx.restore();\n        var imageData = this._tmpCtx.getImageData(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        var isEmpty = false;\n        if (!this._config.allowTransparency) {\n            isEmpty = CharAtlasGenerator_1.clearColor(imageData, backgroundColor);\n        }\n        var x = this._toCoordinateX(index);\n        var y = this._toCoordinateY(index);\n        this._cacheCtx.putImageData(imageData, x, y);\n        var cacheValue = {\n            index: index,\n            isEmpty: isEmpty,\n            inBitmap: false\n        };\n        this._addGlyphToBitmap(cacheValue);\n        return cacheValue;\n    };\n    DynamicCharAtlas.prototype._addGlyphToBitmap = function (cacheValue) {\n        var _this = this;\n        if (!('createImageBitmap' in window) || Platform_1.isFirefox || Platform_1.isSafari) {\n            return;\n        }\n        this._glyphsWaitingOnBitmap.push(cacheValue);\n        if (this._bitmapCommitTimeout !== null) {\n            return;\n        }\n        this._bitmapCommitTimeout = window.setTimeout(function () { return _this._generateBitmap(); }, GLYPH_BITMAP_COMMIT_DELAY);\n    };\n    DynamicCharAtlas.prototype._generateBitmap = function () {\n        var _this = this;\n        var glyphsMovingToBitmap = this._glyphsWaitingOnBitmap;\n        this._glyphsWaitingOnBitmap = [];\n        window.createImageBitmap(this._cacheCanvas).then(function (bitmap) {\n            _this._bitmap = bitmap;\n            for (var i = 0; i < glyphsMovingToBitmap.length; i++) {\n                var value = glyphsMovingToBitmap[i];\n                value.inBitmap = true;\n            }\n        });\n        this._bitmapCommitTimeout = null;\n    };\n    return DynamicCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = DynamicCharAtlas;\n//# sourceMappingURL=DynamicCharAtlas.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Terminal_1 = require(\"../Terminal\");\nvar Strings = require(\"../Strings\");\nvar AddonManager_1 = require(\"./AddonManager\");\nvar Terminal = (function () {\n    function Terminal(options) {\n        this._core = new Terminal_1.Terminal(options);\n        this._addonManager = new AddonManager_1.AddonManager();\n    }\n    Object.defineProperty(Terminal.prototype, \"onCursorMove\", {\n        get: function () { return this._core.onCursorMove; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onLineFeed\", {\n        get: function () { return this._core.onLineFeed; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onSelectionChange\", {\n        get: function () { return this._core.onSelectionChange; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onData\", {\n        get: function () { return this._core.onData; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onTitleChange\", {\n        get: function () { return this._core.onTitleChange; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onScroll\", {\n        get: function () { return this._core.onScroll; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onKey\", {\n        get: function () { return this._core.onKey; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onRender\", {\n        get: function () { return this._core.onRender; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onResize\", {\n        get: function () { return this._core.onResize; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"element\", {\n        get: function () { return this._core.element; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"textarea\", {\n        get: function () { return this._core.textarea; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"rows\", {\n        get: function () { return this._core.rows; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"cols\", {\n        get: function () { return this._core.cols; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"buffer\", {\n        get: function () { return new BufferApiView(this._core.buffer); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"markers\", {\n        get: function () { return this._core.markers; },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.blur = function () {\n        this._core.blur();\n    };\n    Terminal.prototype.focus = function () {\n        this._core.focus();\n    };\n    Terminal.prototype.on = function (type, listener) {\n        this._core.on(type, listener);\n    };\n    Terminal.prototype.off = function (type, listener) {\n        this._core.off(type, listener);\n    };\n    Terminal.prototype.emit = function (type, data) {\n        this._core.emit(type, data);\n    };\n    Terminal.prototype.addDisposableListener = function (type, handler) {\n        return this._core.addDisposableListener(type, handler);\n    };\n    Terminal.prototype.resize = function (columns, rows) {\n        this._core.resize(columns, rows);\n    };\n    Terminal.prototype.writeln = function (data) {\n        this._core.writeln(data);\n    };\n    Terminal.prototype.open = function (parent) {\n        this._core.open(parent);\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._core.attachCustomKeyEventHandler(customKeyEventHandler);\n    };\n    Terminal.prototype.addCsiHandler = function (flag, callback) {\n        return this._core.addCsiHandler(flag, callback);\n    };\n    Terminal.prototype.addOscHandler = function (ident, callback) {\n        return this._core.addOscHandler(ident, callback);\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        return this._core.registerLinkMatcher(regex, handler, options);\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        this._core.deregisterLinkMatcher(matcherId);\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        return this._core.registerCharacterJoiner(handler);\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        this._core.deregisterCharacterJoiner(joinerId);\n    };\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        return this._core.addMarker(cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this._core.hasSelection();\n    };\n    Terminal.prototype.select = function (column, row, length) {\n        this._core.select(column, row, length);\n    };\n    Terminal.prototype.getSelection = function () {\n        return this._core.getSelection();\n    };\n    Terminal.prototype.getSelectionPosition = function () {\n        return this._core.getSelectionPosition();\n    };\n    Terminal.prototype.clearSelection = function () {\n        this._core.clearSelection();\n    };\n    Terminal.prototype.selectAll = function () {\n        this._core.selectAll();\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        this._core.selectLines(start, end);\n    };\n    Terminal.prototype.dispose = function () {\n        this._addonManager.dispose();\n        this._core.dispose();\n    };\n    Terminal.prototype.destroy = function () {\n        this._core.destroy();\n    };\n    Terminal.prototype.scrollLines = function (amount) {\n        this._core.scrollLines(amount);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this._core.scrollPages(pageCount);\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this._core.scrollToTop();\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this._core.scrollToBottom();\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        this._core.scrollToLine(line);\n    };\n    Terminal.prototype.clear = function () {\n        this._core.clear();\n    };\n    Terminal.prototype.write = function (data) {\n        this._core.write(data);\n    };\n    Terminal.prototype.writeUtf8 = function (data) {\n        this._core.writeUtf8(data);\n    };\n    Terminal.prototype.getOption = function (key) {\n        return this._core.getOption(key);\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        this._core.setOption(key, value);\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        this._core.refresh(start, end);\n    };\n    Terminal.prototype.reset = function () {\n        this._core.reset();\n    };\n    Terminal.applyAddon = function (addon) {\n        addon.apply(Terminal);\n    };\n    Terminal.prototype.loadAddon = function (addon) {\n        return this._addonManager.loadAddon(this, addon);\n    };\n    Object.defineProperty(Terminal, \"strings\", {\n        get: function () {\n            return Strings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Terminal;\n}());\nexports.Terminal = Terminal;\nvar BufferApiView = (function () {\n    function BufferApiView(_buffer) {\n        this._buffer = _buffer;\n    }\n    Object.defineProperty(BufferApiView.prototype, \"cursorY\", {\n        get: function () { return this._buffer.y; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"cursorX\", {\n        get: function () { return this._buffer.x; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"viewportY\", {\n        get: function () { return this._buffer.ydisp; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"baseY\", {\n        get: function () { return this._buffer.ybase; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"length\", {\n        get: function () { return this._buffer.lines.length; },\n        enumerable: true,\n        configurable: true\n    });\n    BufferApiView.prototype.getLine = function (y) {\n        var line = this._buffer.lines.get(y);\n        if (!line) {\n            return undefined;\n        }\n        return new BufferLineApiView(line);\n    };\n    return BufferApiView;\n}());\nvar BufferLineApiView = (function () {\n    function BufferLineApiView(_line) {\n        this._line = _line;\n    }\n    Object.defineProperty(BufferLineApiView.prototype, \"isWrapped\", {\n        get: function () { return this._line.isWrapped; },\n        enumerable: true,\n        configurable: true\n    });\n    BufferLineApiView.prototype.getCell = function (x) {\n        if (x < 0 || x >= this._line.length) {\n            return undefined;\n        }\n        return new BufferCellApiView(this._line, x);\n    };\n    BufferLineApiView.prototype.translateToString = function (trimRight, startColumn, endColumn) {\n        return this._line.translateToString(trimRight, startColumn, endColumn);\n    };\n    return BufferLineApiView;\n}());\nvar BufferCellApiView = (function () {\n    function BufferCellApiView(_line, _x) {\n        this._line = _line;\n        this._x = _x;\n    }\n    Object.defineProperty(BufferCellApiView.prototype, \"char\", {\n        get: function () { return this._line.getString(this._x); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferCellApiView.prototype, \"width\", {\n        get: function () { return this._line.getWidth(this._x); },\n        enumerable: true,\n        configurable: true\n    });\n    return BufferCellApiView;\n}());\n//# sourceMappingURL=Terminal.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextDecoder_1 = require(\"../input/TextDecoder\");\nvar Types_1 = require(\"../../common/Types\");\nexports.DEFAULT_ATTR = (0 << 18) | (Types_1.DEFAULT_COLOR << 9) | (256 << 0);\nexports.CHAR_DATA_ATTR_INDEX = 0;\nexports.CHAR_DATA_CHAR_INDEX = 1;\nexports.CHAR_DATA_WIDTH_INDEX = 2;\nexports.CHAR_DATA_CODE_INDEX = 3;\nexports.NULL_CELL_CHAR = '';\nexports.NULL_CELL_WIDTH = 1;\nexports.NULL_CELL_CODE = 0;\nexports.WHITESPACE_CELL_CHAR = ' ';\nexports.WHITESPACE_CELL_WIDTH = 1;\nexports.WHITESPACE_CELL_CODE = 32;\nvar CELL_SIZE = 3;\nvar AttributeData = (function () {\n    function AttributeData() {\n        this.fg = 0;\n        this.bg = 0;\n    }\n    AttributeData.toColorRGB = function (value) {\n        return [\n            value >>> 16 & 255,\n            value >>> 8 & 255,\n            value & 255\n        ];\n    };\n    AttributeData.fromColorRGB = function (value) {\n        return (value[0] & 255) << 16 | (value[1] & 255) << 8 | value[2] & 255;\n    };\n    AttributeData.prototype.clone = function () {\n        var newObj = new AttributeData();\n        newObj.fg = this.fg;\n        newObj.bg = this.bg;\n        return newObj;\n    };\n    AttributeData.prototype.isInverse = function () { return this.fg & 67108864; };\n    AttributeData.prototype.isBold = function () { return this.fg & 134217728; };\n    AttributeData.prototype.isUnderline = function () { return this.fg & 268435456; };\n    AttributeData.prototype.isBlink = function () { return this.fg & 536870912; };\n    AttributeData.prototype.isInvisible = function () { return this.fg & 1073741824; };\n    AttributeData.prototype.isItalic = function () { return this.bg & 67108864; };\n    AttributeData.prototype.isDim = function () { return this.bg & 134217728; };\n    AttributeData.prototype.getFgColorMode = function () { return this.fg & 50331648; };\n    AttributeData.prototype.getBgColorMode = function () { return this.bg & 50331648; };\n    AttributeData.prototype.isFgRGB = function () { return (this.fg & 50331648) === 50331648; };\n    AttributeData.prototype.isBgRGB = function () { return (this.bg & 50331648) === 50331648; };\n    AttributeData.prototype.isFgPalette = function () { return (this.fg & 50331648) === 16777216 || (this.fg & 50331648) === 33554432; };\n    AttributeData.prototype.isBgPalette = function () { return (this.bg & 50331648) === 16777216 || (this.bg & 50331648) === 33554432; };\n    AttributeData.prototype.isFgDefault = function () { return (this.fg & 50331648) === 0; };\n    AttributeData.prototype.isBgDefault = function () { return (this.bg & 50331648) === 0; };\n    AttributeData.prototype.getFgColor = function () {\n        switch (this.fg & 50331648) {\n            case 16777216:\n            case 33554432: return this.fg & 255;\n            case 50331648: return this.fg & 16777215;\n            default: return -1;\n        }\n    };\n    AttributeData.prototype.getBgColor = function () {\n        switch (this.bg & 50331648) {\n            case 16777216:\n            case 33554432: return this.bg & 255;\n            case 50331648: return this.bg & 16777215;\n            default: return -1;\n        }\n    };\n    return AttributeData;\n}());\nexports.AttributeData = AttributeData;\nexports.DEFAULT_ATTR_DATA = Object.freeze(new AttributeData());\nvar CellData = (function (_super) {\n    __extends(CellData, _super);\n    function CellData() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.content = 0;\n        _this.fg = 0;\n        _this.bg = 0;\n        _this.combinedData = '';\n        return _this;\n    }\n    CellData.fromCharData = function (value) {\n        var obj = new CellData();\n        obj.setFromCharData(value);\n        return obj;\n    };\n    CellData.prototype.isCombined = function () {\n        return this.content & 2097152;\n    };\n    CellData.prototype.getWidth = function () {\n        return this.content >> 22;\n    };\n    CellData.prototype.getChars = function () {\n        if (this.content & 2097152) {\n            return this.combinedData;\n        }\n        if (this.content & 2097151) {\n            return TextDecoder_1.stringFromCodePoint(this.content & 2097151);\n        }\n        return '';\n    };\n    CellData.prototype.getCode = function () {\n        return (this.isCombined())\n            ? this.combinedData.charCodeAt(this.combinedData.length - 1)\n            : this.content & 2097151;\n    };\n    CellData.prototype.setFromCharData = function (value) {\n        this.fg = value[exports.CHAR_DATA_ATTR_INDEX];\n        this.bg = 0;\n        var combined = false;\n        if (value[exports.CHAR_DATA_CHAR_INDEX].length > 2) {\n            combined = true;\n        }\n        else if (value[exports.CHAR_DATA_CHAR_INDEX].length === 2) {\n            var code = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(0);\n            if (0xD800 <= code && code <= 0xDBFF) {\n                var second = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(1);\n                if (0xDC00 <= second && second <= 0xDFFF) {\n                    this.content = ((code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000) | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n                }\n                else {\n                    combined = true;\n                }\n            }\n            else {\n                combined = true;\n            }\n        }\n        else {\n            this.content = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n        if (combined) {\n            this.combinedData = value[exports.CHAR_DATA_CHAR_INDEX];\n            this.content = 2097152 | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n    };\n    CellData.prototype.getAsCharData = function () {\n        return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n    };\n    return CellData;\n}(AttributeData));\nexports.CellData = CellData;\nvar BufferLine = (function () {\n    function BufferLine(cols, fillCellData, isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        this.isWrapped = isWrapped;\n        this._combined = {};\n        this._data = new Uint32Array(cols * CELL_SIZE);\n        var cell = fillCellData || CellData.fromCharData([0, exports.NULL_CELL_CHAR, exports.NULL_CELL_WIDTH, exports.NULL_CELL_CODE]);\n        for (var i = 0; i < cols; ++i) {\n            this.setCell(i, cell);\n        }\n        this.length = cols;\n    }\n    BufferLine.prototype.get = function (index) {\n        var content = this._data[index * CELL_SIZE + 0];\n        var cp = content & 2097151;\n        return [\n            this._data[index * CELL_SIZE + 1],\n            (content & 2097152)\n                ? this._combined[index]\n                : (cp) ? TextDecoder_1.stringFromCodePoint(cp) : '',\n            content >> 22,\n            (content & 2097152)\n                ? this._combined[index].charCodeAt(this._combined[index].length - 1)\n                : cp\n        ];\n    };\n    BufferLine.prototype.set = function (index, value) {\n        this._data[index * CELL_SIZE + 1] = value[exports.CHAR_DATA_ATTR_INDEX];\n        if (value[exports.CHAR_DATA_CHAR_INDEX].length > 1) {\n            this._combined[index] = value[1];\n            this._data[index * CELL_SIZE + 0] = index | 2097152 | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n        else {\n            this._data[index * CELL_SIZE + 0] = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n    };\n    BufferLine.prototype.getWidth = function (index) {\n        return this._data[index * CELL_SIZE + 0] >> 22;\n    };\n    BufferLine.prototype.hasWidth = function (index) {\n        return this._data[index * CELL_SIZE + 0] & 12582912;\n    };\n    BufferLine.prototype.getFg = function (index) {\n        return this._data[index * CELL_SIZE + 1];\n    };\n    BufferLine.prototype.getBg = function (index) {\n        return this._data[index * CELL_SIZE + 2];\n    };\n    BufferLine.prototype.hasContent = function (index) {\n        return this._data[index * CELL_SIZE + 0] & 4194303;\n    };\n    BufferLine.prototype.getCodePoint = function (index) {\n        var content = this._data[index * CELL_SIZE + 0];\n        if (content & 2097152) {\n            return this._combined[index].charCodeAt(this._combined[index].length - 1);\n        }\n        return content & 2097151;\n    };\n    BufferLine.prototype.isCombined = function (index) {\n        return this._data[index * CELL_SIZE + 0] & 2097152;\n    };\n    BufferLine.prototype.getString = function (index) {\n        var content = this._data[index * CELL_SIZE + 0];\n        if (content & 2097152) {\n            return this._combined[index];\n        }\n        if (content & 2097151) {\n            return TextDecoder_1.stringFromCodePoint(content & 2097151);\n        }\n        return '';\n    };\n    BufferLine.prototype.loadCell = function (index, cell) {\n        var startIndex = index * CELL_SIZE;\n        cell.content = this._data[startIndex + 0];\n        cell.fg = this._data[startIndex + 1];\n        cell.bg = this._data[startIndex + 2];\n        if (cell.content & 2097152) {\n            cell.combinedData = this._combined[index];\n        }\n        return cell;\n    };\n    BufferLine.prototype.setCell = function (index, cell) {\n        if (cell.content & 2097152) {\n            this._combined[index] = cell.combinedData;\n        }\n        this._data[index * CELL_SIZE + 0] = cell.content;\n        this._data[index * CELL_SIZE + 1] = cell.fg;\n        this._data[index * CELL_SIZE + 2] = cell.bg;\n    };\n    BufferLine.prototype.setCellFromCodePoint = function (index, codePoint, width, fg, bg) {\n        this._data[index * CELL_SIZE + 0] = codePoint | (width << 22);\n        this._data[index * CELL_SIZE + 1] = fg;\n        this._data[index * CELL_SIZE + 2] = bg;\n    };\n    BufferLine.prototype.addCodepointToCell = function (index, codePoint) {\n        var content = this._data[index * CELL_SIZE + 0];\n        if (content & 2097152) {\n            this._combined[index] += TextDecoder_1.stringFromCodePoint(codePoint);\n        }\n        else {\n            if (content & 2097151) {\n                this._combined[index] = TextDecoder_1.stringFromCodePoint(content & 2097151) + TextDecoder_1.stringFromCodePoint(codePoint);\n                content &= ~2097151;\n                content |= 2097152;\n            }\n            else {\n                content = codePoint | (1 << 22);\n            }\n            this._data[index * CELL_SIZE + 0] = content;\n        }\n    };\n    BufferLine.prototype.insertCells = function (pos, n, fillCellData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            var cell = new CellData();\n            for (var i = this.length - pos - n - 1; i >= 0; --i) {\n                this.setCell(pos + n + i, this.loadCell(pos + i, cell));\n            }\n            for (var i = 0; i < n; ++i) {\n                this.setCell(pos + i, fillCellData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n    };\n    BufferLine.prototype.deleteCells = function (pos, n, fillCellData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            var cell = new CellData();\n            for (var i = 0; i < this.length - pos - n; ++i) {\n                this.setCell(pos + i, this.loadCell(pos + n + i, cell));\n            }\n            for (var i = this.length - n; i < this.length; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n    };\n    BufferLine.prototype.replaceCells = function (start, end, fillCellData) {\n        while (start < end && start < this.length) {\n            this.setCell(start++, fillCellData);\n        }\n    };\n    BufferLine.prototype.resize = function (cols, fillCellData) {\n        if (cols === this.length) {\n            return;\n        }\n        if (cols > this.length) {\n            var data = new Uint32Array(cols * CELL_SIZE);\n            if (this.length) {\n                if (cols * CELL_SIZE < this._data.length) {\n                    data.set(this._data.subarray(0, cols * CELL_SIZE));\n                }\n                else {\n                    data.set(this._data);\n                }\n            }\n            this._data = data;\n            for (var i = this.length; i < cols; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n        else {\n            if (cols) {\n                var data = new Uint32Array(cols * CELL_SIZE);\n                data.set(this._data.subarray(0, cols * CELL_SIZE));\n                this._data = data;\n                var keys = Object.keys(this._combined);\n                for (var i = 0; i < keys.length; i++) {\n                    var key = parseInt(keys[i], 10);\n                    if (key >= cols) {\n                        delete this._combined[key];\n                    }\n                }\n            }\n            else {\n                this._data = new Uint32Array(0);\n                this._combined = {};\n            }\n        }\n        this.length = cols;\n    };\n    BufferLine.prototype.fill = function (fillCellData) {\n        this._combined = {};\n        for (var i = 0; i < this.length; ++i) {\n            this.setCell(i, fillCellData);\n        }\n    };\n    BufferLine.prototype.copyFrom = function (line) {\n        if (this.length !== line.length) {\n            this._data = new Uint32Array(line._data);\n        }\n        else {\n            this._data.set(line._data);\n        }\n        this.length = line.length;\n        this._combined = {};\n        for (var el in line._combined) {\n            this._combined[el] = line._combined[el];\n        }\n        this.isWrapped = line.isWrapped;\n    };\n    BufferLine.prototype.clone = function () {\n        var newLine = new BufferLine(0);\n        newLine._data = new Uint32Array(this._data);\n        newLine.length = this.length;\n        for (var el in this._combined) {\n            newLine._combined[el] = this._combined[el];\n        }\n        newLine.isWrapped = this.isWrapped;\n        return newLine;\n    };\n    BufferLine.prototype.getTrimmedLength = function () {\n        for (var i = this.length - 1; i >= 0; --i) {\n            if ((this._data[i * CELL_SIZE + 0] & 4194303)) {\n                return i + (this._data[i * CELL_SIZE + 0] >> 22);\n            }\n        }\n        return 0;\n    };\n    BufferLine.prototype.copyCellsFrom = function (src, srcCol, destCol, length, applyInReverse) {\n        var srcData = src._data;\n        if (applyInReverse) {\n            for (var cell = length - 1; cell >= 0; cell--) {\n                for (var i = 0; i < CELL_SIZE; i++) {\n                    this._data[(destCol + cell) * CELL_SIZE + i] = srcData[(srcCol + cell) * CELL_SIZE + i];\n                }\n            }\n        }\n        else {\n            for (var cell = 0; cell < length; cell++) {\n                for (var i = 0; i < CELL_SIZE; i++) {\n                    this._data[(destCol + cell) * CELL_SIZE + i] = srcData[(srcCol + cell) * CELL_SIZE + i];\n                }\n            }\n        }\n        var srcCombinedKeys = Object.keys(src._combined);\n        for (var i = 0; i < srcCombinedKeys.length; i++) {\n            var key = parseInt(srcCombinedKeys[i], 10);\n            if (key >= srcCol) {\n                this._combined[key - srcCol + destCol] = src._combined[key];\n            }\n        }\n    };\n    BufferLine.prototype.translateToString = function (trimRight, startCol, endCol) {\n        if (trimRight === void 0) { trimRight = false; }\n        if (startCol === void 0) { startCol = 0; }\n        if (endCol === void 0) { endCol = this.length; }\n        if (trimRight) {\n            endCol = Math.min(endCol, this.getTrimmedLength());\n        }\n        var result = '';\n        while (startCol < endCol) {\n            var content = this._data[startCol * CELL_SIZE + 0];\n            var cp = content & 2097151;\n            result += (content & 2097152) ? this._combined[startCol] : (cp) ? TextDecoder_1.stringFromCodePoint(cp) : exports.WHITESPACE_CELL_CHAR;\n            startCol += (content >> 22) || 1;\n        }\n        return result;\n    };\n    return BufferLine;\n}());\nexports.BufferLine = BufferLine;\n//# sourceMappingURL=BufferLine.js.map","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction reflowLargerGetLinesToRemove(lines, oldCols, newCols, bufferAbsoluteY, nullCell) {\n    var toRemove = [];\n    for (var y = 0; y < lines.length - 1; y++) {\n        var i = y;\n        var nextLine = lines.get(++i);\n        if (!nextLine.isWrapped) {\n            continue;\n        }\n        var wrappedLines = [lines.get(y)];\n        while (i < lines.length && nextLine.isWrapped) {\n            wrappedLines.push(nextLine);\n            nextLine = lines.get(++i);\n        }\n        if (bufferAbsoluteY >= y && bufferAbsoluteY < i) {\n            y += wrappedLines.length - 1;\n            continue;\n        }\n        var destLineIndex = 0;\n        var destCol = getWrappedLineTrimmedLength(wrappedLines, destLineIndex, oldCols);\n        var srcLineIndex = 1;\n        var srcCol = 0;\n        while (srcLineIndex < wrappedLines.length) {\n            var srcTrimmedTineLength = getWrappedLineTrimmedLength(wrappedLines, srcLineIndex, oldCols);\n            var srcRemainingCells = srcTrimmedTineLength - srcCol;\n            var destRemainingCells = newCols - destCol;\n            var cellsToCopy = Math.min(srcRemainingCells, destRemainingCells);\n            wrappedLines[destLineIndex].copyCellsFrom(wrappedLines[srcLineIndex], srcCol, destCol, cellsToCopy, false);\n            destCol += cellsToCopy;\n            if (destCol === newCols) {\n                destLineIndex++;\n                destCol = 0;\n            }\n            srcCol += cellsToCopy;\n            if (srcCol === srcTrimmedTineLength) {\n                srcLineIndex++;\n                srcCol = 0;\n            }\n            if (destCol === 0 && destLineIndex !== 0) {\n                if (wrappedLines[destLineIndex - 1].getWidth(newCols - 1) === 2) {\n                    wrappedLines[destLineIndex].copyCellsFrom(wrappedLines[destLineIndex - 1], newCols - 1, destCol++, 1, false);\n                    wrappedLines[destLineIndex - 1].setCell(newCols - 1, nullCell);\n                }\n            }\n        }\n        wrappedLines[destLineIndex].replaceCells(destCol, newCols, nullCell);\n        var countToRemove = 0;\n        for (var i_1 = wrappedLines.length - 1; i_1 > 0; i_1--) {\n            if (i_1 > destLineIndex || wrappedLines[i_1].getTrimmedLength() === 0) {\n                countToRemove++;\n            }\n            else {\n                break;\n            }\n        }\n        if (countToRemove > 0) {\n            toRemove.push(y + wrappedLines.length - countToRemove);\n            toRemove.push(countToRemove);\n        }\n        y += wrappedLines.length - 1;\n    }\n    return toRemove;\n}\nexports.reflowLargerGetLinesToRemove = reflowLargerGetLinesToRemove;\nfunction reflowLargerCreateNewLayout(lines, toRemove) {\n    var layout = [];\n    var nextToRemoveIndex = 0;\n    var nextToRemoveStart = toRemove[nextToRemoveIndex];\n    var countRemovedSoFar = 0;\n    for (var i = 0; i < lines.length; i++) {\n        if (nextToRemoveStart === i) {\n            var countToRemove = toRemove[++nextToRemoveIndex];\n            lines.onDeleteEmitter.fire({\n                index: i - countRemovedSoFar,\n                amount: countToRemove\n            });\n            i += countToRemove - 1;\n            countRemovedSoFar += countToRemove;\n            nextToRemoveStart = toRemove[++nextToRemoveIndex];\n        }\n        else {\n            layout.push(i);\n        }\n    }\n    return {\n        layout: layout,\n        countRemoved: countRemovedSoFar\n    };\n}\nexports.reflowLargerCreateNewLayout = reflowLargerCreateNewLayout;\nfunction reflowLargerApplyNewLayout(lines, newLayout) {\n    var newLayoutLines = [];\n    for (var i = 0; i < newLayout.length; i++) {\n        newLayoutLines.push(lines.get(newLayout[i]));\n    }\n    for (var i = 0; i < newLayoutLines.length; i++) {\n        lines.set(i, newLayoutLines[i]);\n    }\n    lines.length = newLayout.length;\n}\nexports.reflowLargerApplyNewLayout = reflowLargerApplyNewLayout;\nfunction reflowSmallerGetNewLineLengths(wrappedLines, oldCols, newCols) {\n    var newLineLengths = [];\n    var cellsNeeded = wrappedLines.map(function (l, i) { return getWrappedLineTrimmedLength(wrappedLines, i, oldCols); }).reduce(function (p, c) { return p + c; });\n    var srcCol = 0;\n    var srcLine = 0;\n    var cellsAvailable = 0;\n    while (cellsAvailable < cellsNeeded) {\n        if (cellsNeeded - cellsAvailable < newCols) {\n            newLineLengths.push(cellsNeeded - cellsAvailable);\n            break;\n        }\n        srcCol += newCols;\n        var oldTrimmedLength = getWrappedLineTrimmedLength(wrappedLines, srcLine, oldCols);\n        if (srcCol > oldTrimmedLength) {\n            srcCol -= oldTrimmedLength;\n            srcLine++;\n        }\n        var endsWithWide = wrappedLines[srcLine].getWidth(srcCol - 1) === 2;\n        if (endsWithWide) {\n            srcCol--;\n        }\n        var lineLength = endsWithWide ? newCols - 1 : newCols;\n        newLineLengths.push(lineLength);\n        cellsAvailable += lineLength;\n    }\n    return newLineLengths;\n}\nexports.reflowSmallerGetNewLineLengths = reflowSmallerGetNewLineLengths;\nfunction getWrappedLineTrimmedLength(lines, i, cols) {\n    if (i === lines.length - 1) {\n        return lines[i].getTrimmedLength();\n    }\n    var endsInNull = !(lines[i].hasContent(cols - 1)) && lines[i].getWidth(cols - 1) === 1;\n    var followingLineStartsWithWide = lines[i + 1].getWidth(0) === 2;\n    if (endsInNull && followingLineStartsWithWide) {\n        return cols - 1;\n    }\n    return cols;\n}\nexports.getWrappedLineTrimmedLength = getWrappedLineTrimmedLength;\n//# sourceMappingURL=BufferReflow.js.map","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction fill(array, value, start, end) {\n    if (array.fill) {\n        return array.fill(value, start, end);\n    }\n    return fillFallback(array, value, start, end);\n}\nexports.fill = fill;\nfunction fillFallback(array, value, start, end) {\n    if (start === void 0) { start = 0; }\n    if (end === void 0) { end = array.length; }\n    if (start >= array.length) {\n        return array;\n    }\n    start = (array.length + start) % array.length;\n    if (end >= array.length) {\n        end = array.length;\n    }\n    else {\n        end = (array.length + end) % array.length;\n    }\n    for (var i = start; i < end; ++i) {\n        array[i] = value;\n    }\n    return array;\n}\nexports.fillFallback = fillFallback;\nfunction concat(a, b) {\n    var result = new a.constructor(a.length + b.length);\n    result.set(a);\n    result.set(b, a.length);\n    return result;\n}\nexports.concat = concat;\n//# sourceMappingURL=TypedArrayUtils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar C0;\n(function (C0) {\n    C0.NUL = '\\x00';\n    C0.SOH = '\\x01';\n    C0.STX = '\\x02';\n    C0.ETX = '\\x03';\n    C0.EOT = '\\x04';\n    C0.ENQ = '\\x05';\n    C0.ACK = '\\x06';\n    C0.BEL = '\\x07';\n    C0.BS = '\\x08';\n    C0.HT = '\\x09';\n    C0.LF = '\\x0a';\n    C0.VT = '\\x0b';\n    C0.FF = '\\x0c';\n    C0.CR = '\\x0d';\n    C0.SO = '\\x0e';\n    C0.SI = '\\x0f';\n    C0.DLE = '\\x10';\n    C0.DC1 = '\\x11';\n    C0.DC2 = '\\x12';\n    C0.DC3 = '\\x13';\n    C0.DC4 = '\\x14';\n    C0.NAK = '\\x15';\n    C0.SYN = '\\x16';\n    C0.ETB = '\\x17';\n    C0.CAN = '\\x18';\n    C0.EM = '\\x19';\n    C0.SUB = '\\x1a';\n    C0.ESC = '\\x1b';\n    C0.FS = '\\x1c';\n    C0.GS = '\\x1d';\n    C0.RS = '\\x1e';\n    C0.US = '\\x1f';\n    C0.SP = '\\x20';\n    C0.DEL = '\\x7f';\n})(C0 = exports.C0 || (exports.C0 = {}));\nvar C1;\n(function (C1) {\n    C1.PAD = '\\x80';\n    C1.HOP = '\\x81';\n    C1.BPH = '\\x82';\n    C1.NBH = '\\x83';\n    C1.IND = '\\x84';\n    C1.NEL = '\\x85';\n    C1.SSA = '\\x86';\n    C1.ESA = '\\x87';\n    C1.HTS = '\\x88';\n    C1.HTJ = '\\x89';\n    C1.VTS = '\\x8a';\n    C1.PLD = '\\x8b';\n    C1.PLU = '\\x8c';\n    C1.RI = '\\x8d';\n    C1.SS2 = '\\x8e';\n    C1.SS3 = '\\x8f';\n    C1.DCS = '\\x90';\n    C1.PU1 = '\\x91';\n    C1.PU2 = '\\x92';\n    C1.STS = '\\x93';\n    C1.CCH = '\\x94';\n    C1.MW = '\\x95';\n    C1.SPA = '\\x96';\n    C1.EPA = '\\x97';\n    C1.SOS = '\\x98';\n    C1.SGCI = '\\x99';\n    C1.SCI = '\\x9a';\n    C1.CSI = '\\x9b';\n    C1.ST = '\\x9c';\n    C1.OSC = '\\x9d';\n    C1.PM = '\\x9e';\n    C1.APC = '\\x9f';\n})(C1 = exports.C1 || (exports.C1 = {}));\n//# sourceMappingURL=EscapeSequences.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction stringFromCodePoint(codePoint) {\n    if (codePoint > 0xFFFF) {\n        codePoint -= 0x10000;\n        return String.fromCharCode((codePoint >> 10) + 0xD800) + String.fromCharCode((codePoint % 0x400) + 0xDC00);\n    }\n    return String.fromCharCode(codePoint);\n}\nexports.stringFromCodePoint = stringFromCodePoint;\nfunction utf32ToString(data, start, end) {\n    if (start === void 0) { start = 0; }\n    if (end === void 0) { end = data.length; }\n    var result = '';\n    for (var i = start; i < end; ++i) {\n        var codepoint = data[i];\n        if (codepoint > 0xFFFF) {\n            codepoint -= 0x10000;\n            result += String.fromCharCode((codepoint >> 10) + 0xD800) + String.fromCharCode((codepoint % 0x400) + 0xDC00);\n        }\n        else {\n            result += String.fromCharCode(codepoint);\n        }\n    }\n    return result;\n}\nexports.utf32ToString = utf32ToString;\nvar StringToUtf32 = (function () {\n    function StringToUtf32() {\n        this._interim = 0;\n    }\n    StringToUtf32.prototype.clear = function () {\n        this._interim = 0;\n    };\n    StringToUtf32.prototype.decode = function (input, target) {\n        var length = input.length;\n        if (!length) {\n            return 0;\n        }\n        var size = 0;\n        var startPos = 0;\n        if (this._interim) {\n            var second = input.charCodeAt(startPos++);\n            if (0xDC00 <= second && second <= 0xDFFF) {\n                target[size++] = (this._interim - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n            }\n            else {\n                target[size++] = this._interim;\n                target[size++] = second;\n            }\n            this._interim = 0;\n        }\n        for (var i = startPos; i < length; ++i) {\n            var code = input.charCodeAt(i);\n            if (0xD800 <= code && code <= 0xDBFF) {\n                if (++i >= length) {\n                    this._interim = code;\n                    return size;\n                }\n                var second = input.charCodeAt(i);\n                if (0xDC00 <= second && second <= 0xDFFF) {\n                    target[size++] = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n                }\n                else {\n                    target[size++] = code;\n                    target[size++] = second;\n                }\n                continue;\n            }\n            target[size++] = code;\n        }\n        return size;\n    };\n    return StringToUtf32;\n}());\nexports.StringToUtf32 = StringToUtf32;\nvar Utf8ToUtf32 = (function () {\n    function Utf8ToUtf32() {\n        this.interim = new Uint8Array(3);\n    }\n    Utf8ToUtf32.prototype.clear = function () {\n        this.interim.fill(0);\n    };\n    Utf8ToUtf32.prototype.decode = function (input, target) {\n        var length = input.length;\n        if (!length) {\n            return 0;\n        }\n        var size = 0;\n        var byte1;\n        var byte2;\n        var byte3;\n        var byte4;\n        var codepoint = 0;\n        var startPos = 0;\n        if (this.interim[0]) {\n            var discardInterim = false;\n            var cp = this.interim[0];\n            cp &= ((((cp & 0xE0) === 0xC0)) ? 0x1F : (((cp & 0xF0) === 0xE0)) ? 0x0F : 0x07);\n            var pos = 0;\n            var tmp = void 0;\n            while ((tmp = this.interim[++pos] & 0x3F) && pos < 4) {\n                cp <<= 6;\n                cp |= tmp;\n            }\n            var type = (((this.interim[0] & 0xE0) === 0xC0)) ? 2 : (((this.interim[0] & 0xF0) === 0xE0)) ? 3 : 4;\n            var missing = type - pos;\n            while (startPos < missing) {\n                if (startPos >= length) {\n                    return 0;\n                }\n                tmp = input[startPos++];\n                if ((tmp & 0xC0) !== 0x80) {\n                    startPos--;\n                    discardInterim = true;\n                    break;\n                }\n                else {\n                    this.interim[pos++] = tmp;\n                    cp <<= 6;\n                    cp |= tmp & 0x3F;\n                }\n            }\n            if (!discardInterim) {\n                if (type === 2) {\n                    if (cp < 0x80) {\n                        startPos--;\n                    }\n                    else {\n                        target[size++] = cp;\n                    }\n                }\n                else if (type === 3) {\n                    if (cp < 0x0800 || (cp >= 0xD800 && cp <= 0xDFFF)) {\n                    }\n                    else {\n                        target[size++] = cp;\n                    }\n                }\n                else {\n                    if (codepoint < 0x010000 || codepoint > 0x10FFFF) {\n                    }\n                    else {\n                        target[size++] = cp;\n                    }\n                }\n            }\n            this.interim.fill(0);\n        }\n        var fourStop = length - 4;\n        var i = startPos;\n        while (i < length) {\n            while (i < fourStop\n                && !((byte1 = input[i]) & 0x80)\n                && !((byte2 = input[i + 1]) & 0x80)\n                && !((byte3 = input[i + 2]) & 0x80)\n                && !((byte4 = input[i + 3]) & 0x80)) {\n                target[size++] = byte1;\n                target[size++] = byte2;\n                target[size++] = byte3;\n                target[size++] = byte4;\n                i += 4;\n            }\n            byte1 = input[i++];\n            if (byte1 < 0x80) {\n                target[size++] = byte1;\n            }\n            else if ((byte1 & 0xE0) === 0xC0) {\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    return size;\n                }\n                byte2 = input[i++];\n                if ((byte2 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                codepoint = (byte1 & 0x1F) << 6 | (byte2 & 0x3F);\n                if (codepoint < 0x80) {\n                    i--;\n                    continue;\n                }\n                target[size++] = codepoint;\n            }\n            else if ((byte1 & 0xF0) === 0xE0) {\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    return size;\n                }\n                byte2 = input[i++];\n                if ((byte2 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    this.interim[1] = byte2;\n                    return size;\n                }\n                byte3 = input[i++];\n                if ((byte3 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                codepoint = (byte1 & 0x0F) << 12 | (byte2 & 0x3F) << 6 | (byte3 & 0x3F);\n                if (codepoint < 0x0800 || (codepoint >= 0xD800 && codepoint <= 0xDFFF)) {\n                    continue;\n                }\n                target[size++] = codepoint;\n            }\n            else if ((byte1 & 0xF8) === 0xF0) {\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    return size;\n                }\n                byte2 = input[i++];\n                if ((byte2 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    this.interim[1] = byte2;\n                    return size;\n                }\n                byte3 = input[i++];\n                if ((byte3 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    this.interim[1] = byte2;\n                    this.interim[2] = byte3;\n                    return size;\n                }\n                byte4 = input[i++];\n                if ((byte4 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                codepoint = (byte1 & 0x07) << 18 | (byte2 & 0x3F) << 12 | (byte3 & 0x3F) << 6 | (byte4 & 0x3F);\n                if (codepoint < 0x010000 || codepoint > 0x10FFFF) {\n                    continue;\n                }\n                target[size++] = codepoint;\n            }\n            else {\n            }\n        }\n        return size;\n    };\n    return Utf8ToUtf32;\n}());\nexports.Utf8ToUtf32 = Utf8ToUtf32;\n//# sourceMappingURL=TextDecoder.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar NoneCharAtlas = (function (_super) {\n    __extends(NoneCharAtlas, _super);\n    function NoneCharAtlas(document, config) {\n        return _super.call(this) || this;\n    }\n    NoneCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        return false;\n    };\n    return NoneCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = NoneCharAtlas;\n//# sourceMappingURL=NoneCharAtlas.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseCharAtlas = (function () {\n    function BaseCharAtlas() {\n        this._didWarmUp = false;\n    }\n    BaseCharAtlas.prototype.dispose = function () { };\n    BaseCharAtlas.prototype.warmUp = function () {\n        if (!this._didWarmUp) {\n            this._doWarmUp();\n            this._didWarmUp = true;\n        }\n    };\n    BaseCharAtlas.prototype._doWarmUp = function () { };\n    BaseCharAtlas.prototype.beginFrame = function () { };\n    return BaseCharAtlas;\n}());\nexports.default = BaseCharAtlas;\n//# sourceMappingURL=BaseCharAtlas.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.blankLine = 'Blank line';\nexports.promptLabel = 'Terminal input';\nexports.tooMuchOutput = 'Too much output to announce, navigate to rows manually to read';\n//# sourceMappingURL=Strings.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./Lifecycle\");\nvar EventEmitter = (function (_super) {\n    __extends(EventEmitter, _super);\n    function EventEmitter() {\n        var _this = _super.call(this) || this;\n        _this._events = _this._events || {};\n        return _this;\n    }\n    EventEmitter.prototype.on = function (type, listener) {\n        this._events[type] = this._events[type] || [];\n        this._events[type].push(listener);\n    };\n    EventEmitter.prototype.addDisposableListener = function (type, handler) {\n        var _this = this;\n        this.on(type, handler);\n        var disposed = false;\n        return {\n            dispose: function () {\n                if (disposed) {\n                    return;\n                }\n                _this.off(type, handler);\n                disposed = true;\n            }\n        };\n    };\n    EventEmitter.prototype.off = function (type, listener) {\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        var i = obj.length;\n        while (i--) {\n            if (obj[i] === listener) {\n                obj.splice(i, 1);\n                return;\n            }\n        }\n    };\n    EventEmitter.prototype.removeAllListeners = function (type) {\n        if (this._events[type]) {\n            delete this._events[type];\n        }\n    };\n    EventEmitter.prototype.emit = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        for (var i = 0; i < obj.length; i++) {\n            obj[i].apply(this, args);\n        }\n    };\n    EventEmitter.prototype.emitMayRemoveListeners = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        var length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            obj[i].apply(this, args);\n            i -= length - obj.length;\n            length = obj.length;\n        }\n    };\n    EventEmitter.prototype.listeners = function (type) {\n        return this._events[type] || [];\n    };\n    EventEmitter.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._events = {};\n    };\n    return EventEmitter;\n}(Lifecycle_1.Disposable));\nexports.EventEmitter = EventEmitter;\n//# sourceMappingURL=EventEmitter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseHelper_1 = require(\"./MouseHelper\");\nvar Browser = require(\"./common/Platform\");\nvar SelectionModel_1 = require(\"./SelectionModel\");\nvar AltClickHandler_1 = require(\"./handlers/AltClickHandler\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar DRAG_SCROLL_MAX_THRESHOLD = 50;\nvar DRAG_SCROLL_MAX_SPEED = 15;\nvar DRAG_SCROLL_INTERVAL = 50;\nvar ALT_CLICK_MOVE_CURSOR_TIME = 500;\nvar WORD_SEPARATORS = ' ()[]{}\\'\"';\nvar NON_BREAKING_SPACE_CHAR = String.fromCharCode(160);\nvar ALL_NON_BREAKING_SPACE_REGEX = new RegExp(NON_BREAKING_SPACE_CHAR, 'g');\nvar SelectionManager = (function () {\n    function SelectionManager(_terminal, _charMeasure) {\n        this._terminal = _terminal;\n        this._charMeasure = _charMeasure;\n        this._enabled = true;\n        this._workCell = new BufferLine_1.CellData();\n        this._onLinuxMouseSelection = new EventEmitter2_1.EventEmitter2();\n        this._onRedrawRequest = new EventEmitter2_1.EventEmitter2();\n        this._onSelectionChange = new EventEmitter2_1.EventEmitter2();\n        this._initListeners();\n        this.enable();\n        this._model = new SelectionModel_1.SelectionModel(_terminal);\n        this._activeSelectionMode = 0;\n    }\n    Object.defineProperty(SelectionManager.prototype, \"onLinuxMouseSelection\", {\n        get: function () { return this._onLinuxMouseSelection.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"onRedrawRequest\", {\n        get: function () { return this._onRedrawRequest.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"onSelectionChange\", {\n        get: function () { return this._onSelectionChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype.dispose = function () {\n        this._removeMouseDownListeners();\n    };\n    Object.defineProperty(SelectionManager.prototype, \"_buffer\", {\n        get: function () {\n            return this._terminal.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype._initListeners = function () {\n        var _this = this;\n        this._mouseMoveListener = function (event) { return _this._onMouseMove(event); };\n        this._mouseUpListener = function (event) { return _this._onMouseUp(event); };\n        this.initBuffersListeners();\n    };\n    SelectionManager.prototype.initBuffersListeners = function () {\n        var _this = this;\n        this._trimListener = this._terminal.buffer.lines.onTrim(function (amount) { return _this._onTrim(amount); });\n        this._terminal.buffers.onBufferActivate(function (e) { return _this._onBufferActivate(e); });\n    };\n    SelectionManager.prototype.disable = function () {\n        this.clearSelection();\n        this._enabled = false;\n    };\n    SelectionManager.prototype.enable = function () {\n        this._enabled = true;\n    };\n    Object.defineProperty(SelectionManager.prototype, \"selectionStart\", {\n        get: function () { return this._model.finalSelectionStart; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionEnd\", {\n        get: function () { return this._model.finalSelectionEnd; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"hasSelection\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return false;\n            }\n            return start[0] !== end[0] || start[1] !== end[1];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionText\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return '';\n            }\n            var result = [];\n            if (this._activeSelectionMode === 3) {\n                if (start[0] === end[0]) {\n                    return '';\n                }\n                for (var i = start[1]; i <= end[1]; i++) {\n                    var lineText = this._buffer.translateBufferLineToString(i, true, start[0], end[0]);\n                    result.push(lineText);\n                }\n            }\n            else {\n                var startRowEndCol = start[1] === end[1] ? end[0] : undefined;\n                result.push(this._buffer.translateBufferLineToString(start[1], true, start[0], startRowEndCol));\n                for (var i = start[1] + 1; i <= end[1] - 1; i++) {\n                    var bufferLine = this._buffer.lines.get(i);\n                    var lineText = this._buffer.translateBufferLineToString(i, true);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n                if (start[1] !== end[1]) {\n                    var bufferLine = this._buffer.lines.get(end[1]);\n                    var lineText = this._buffer.translateBufferLineToString(end[1], true, 0, end[0]);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n            }\n            var formattedResult = result.map(function (line) {\n                return line.replace(ALL_NON_BREAKING_SPACE_REGEX, ' ');\n            }).join(Browser.isMSWindows ? '\\r\\n' : '\\n');\n            return formattedResult;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype.clearSelection = function () {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this.refresh();\n        this._onSelectionChange.fire();\n    };\n    SelectionManager.prototype.refresh = function (isLinuxMouseSelection) {\n        var _this = this;\n        if (!this._refreshAnimationFrame) {\n            this._refreshAnimationFrame = window.requestAnimationFrame(function () { return _this._refresh(); });\n        }\n        if (Browser.isLinux && isLinuxMouseSelection) {\n            var selectionText = this.selectionText;\n            if (selectionText.length) {\n                this._onLinuxMouseSelection.fire(this.selectionText);\n            }\n        }\n    };\n    SelectionManager.prototype._refresh = function () {\n        this._refreshAnimationFrame = null;\n        this._onRedrawRequest.fire({\n            start: this._model.finalSelectionStart,\n            end: this._model.finalSelectionEnd,\n            columnSelectMode: this._activeSelectionMode === 3\n        });\n    };\n    SelectionManager.prototype.isClickInSelection = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        var start = this._model.finalSelectionStart;\n        var end = this._model.finalSelectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return this._areCoordsInSelection(coords, start, end);\n    };\n    SelectionManager.prototype._areCoordsInSelection = function (coords, start, end) {\n        return (coords[1] > start[1] && coords[1] < end[1]) ||\n            (start[1] === end[1] && coords[1] === start[1] && coords[0] >= start[0] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === end[1] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === start[1] && coords[0] >= start[0]);\n    };\n    SelectionManager.prototype.selectWordAtCursor = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._selectWordAt(coords, false);\n            this._model.selectionEnd = null;\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype.selectAll = function () {\n        this._model.isSelectAllActive = true;\n        this.refresh();\n        this._onSelectionChange.fire();\n    };\n    SelectionManager.prototype.selectLines = function (start, end) {\n        this._model.clearSelection();\n        start = Math.max(start, 0);\n        end = Math.min(end, this._terminal.buffer.lines.length - 1);\n        this._model.selectionStart = [0, start];\n        this._model.selectionEnd = [this._terminal.cols, end];\n        this.refresh();\n        this._onSelectionChange.fire();\n    };\n    SelectionManager.prototype._onTrim = function (amount) {\n        var needsRefresh = this._model.onTrim(amount);\n        if (needsRefresh) {\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._getMouseBufferCoords = function (event) {\n        var coords = this._terminal.mouseHelper.getCoords(event, this._terminal.screenElement, this._charMeasure, this._terminal.cols, this._terminal.rows, true);\n        if (!coords) {\n            return null;\n        }\n        coords[0]--;\n        coords[1]--;\n        coords[1] += this._terminal.buffer.ydisp;\n        return coords;\n    };\n    SelectionManager.prototype._getMouseEventScrollAmount = function (event) {\n        var offset = MouseHelper_1.MouseHelper.getCoordsRelativeToElement(event, this._terminal.screenElement)[1];\n        var terminalHeight = this._terminal.rows * Math.ceil(this._charMeasure.height * this._terminal.options.lineHeight);\n        if (offset >= 0 && offset <= terminalHeight) {\n            return 0;\n        }\n        if (offset > terminalHeight) {\n            offset -= terminalHeight;\n        }\n        offset = Math.min(Math.max(offset, -DRAG_SCROLL_MAX_THRESHOLD), DRAG_SCROLL_MAX_THRESHOLD);\n        offset /= DRAG_SCROLL_MAX_THRESHOLD;\n        return (offset / Math.abs(offset)) + Math.round(offset * (DRAG_SCROLL_MAX_SPEED - 1));\n    };\n    SelectionManager.prototype.shouldForceSelection = function (event) {\n        if (Browser.isMac) {\n            return event.altKey && this._terminal.options.macOptionClickForcesSelection;\n        }\n        return event.shiftKey;\n    };\n    SelectionManager.prototype.onMouseDown = function (event) {\n        this._mouseDownTimeStamp = event.timeStamp;\n        if (event.button === 2 && this.hasSelection) {\n            return;\n        }\n        if (event.button !== 0) {\n            return;\n        }\n        if (!this._enabled) {\n            if (!this.shouldForceSelection(event)) {\n                return;\n            }\n            event.stopPropagation();\n        }\n        event.preventDefault();\n        this._dragScrollAmount = 0;\n        if (this._enabled && event.shiftKey) {\n            this._onIncrementalClick(event);\n        }\n        else {\n            if (event.detail === 1) {\n                this._onSingleClick(event);\n            }\n            else if (event.detail === 2) {\n                this._onDoubleClick(event);\n            }\n            else if (event.detail === 3) {\n                this._onTripleClick(event);\n            }\n        }\n        this._addMouseDownListeners();\n        this.refresh(true);\n    };\n    SelectionManager.prototype._addMouseDownListeners = function () {\n        var _this = this;\n        this._terminal.element.ownerDocument.addEventListener('mousemove', this._mouseMoveListener);\n        this._terminal.element.ownerDocument.addEventListener('mouseup', this._mouseUpListener);\n        this._dragScrollIntervalTimer = setInterval(function () { return _this._dragScroll(); }, DRAG_SCROLL_INTERVAL);\n    };\n    SelectionManager.prototype._removeMouseDownListeners = function () {\n        if (this._terminal.element.ownerDocument) {\n            this._terminal.element.ownerDocument.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.ownerDocument.removeEventListener('mouseup', this._mouseUpListener);\n        }\n        clearInterval(this._dragScrollIntervalTimer);\n        this._dragScrollIntervalTimer = null;\n    };\n    SelectionManager.prototype._onIncrementalClick = function (event) {\n        if (this._model.selectionStart) {\n            this._model.selectionEnd = this._getMouseBufferCoords(event);\n        }\n    };\n    SelectionManager.prototype._onSingleClick = function (event) {\n        this._model.selectionStartLength = 0;\n        this._model.isSelectAllActive = false;\n        this._activeSelectionMode = this.shouldColumnSelect(event) ? 3 : 0;\n        this._model.selectionStart = this._getMouseBufferCoords(event);\n        if (!this._model.selectionStart) {\n            return;\n        }\n        this._model.selectionEnd = null;\n        var line = this._buffer.lines.get(this._model.selectionStart[1]);\n        if (!line) {\n            return;\n        }\n        if (line.length >= this._model.selectionStart[0]) {\n            return;\n        }\n        if (line.hasWidth(this._model.selectionStart[0]) === 0) {\n            this._model.selectionStart[0]++;\n        }\n    };\n    SelectionManager.prototype._onDoubleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 1;\n            this._selectWordAt(coords, true);\n        }\n    };\n    SelectionManager.prototype._onTripleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 2;\n            this._selectLineAt(coords[1]);\n        }\n    };\n    SelectionManager.prototype.shouldColumnSelect = function (event) {\n        return event.altKey && !(Browser.isMac && this._terminal.options.macOptionClickForcesSelection);\n    };\n    SelectionManager.prototype._onMouseMove = function (event) {\n        event.stopImmediatePropagation();\n        var previousSelectionEnd = this._model.selectionEnd ? [this._model.selectionEnd[0], this._model.selectionEnd[1]] : null;\n        this._model.selectionEnd = this._getMouseBufferCoords(event);\n        if (!this._model.selectionEnd) {\n            this.refresh(true);\n            return;\n        }\n        if (this._activeSelectionMode === 2) {\n            if (this._model.selectionEnd[1] < this._model.selectionStart[1]) {\n                this._model.selectionEnd[0] = 0;\n            }\n            else {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n        }\n        else if (this._activeSelectionMode === 1) {\n            this._selectToWordAt(this._model.selectionEnd);\n        }\n        this._dragScrollAmount = this._getMouseEventScrollAmount(event);\n        if (this._activeSelectionMode !== 3) {\n            if (this._dragScrollAmount > 0) {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n            else if (this._dragScrollAmount < 0) {\n                this._model.selectionEnd[0] = 0;\n            }\n        }\n        if (this._model.selectionEnd[1] < this._buffer.lines.length) {\n            if (this._buffer.lines.get(this._model.selectionEnd[1]).hasWidth(this._model.selectionEnd[0]) === 0) {\n                this._model.selectionEnd[0]++;\n            }\n        }\n        if (!previousSelectionEnd ||\n            previousSelectionEnd[0] !== this._model.selectionEnd[0] ||\n            previousSelectionEnd[1] !== this._model.selectionEnd[1]) {\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype._dragScroll = function () {\n        if (this._dragScrollAmount) {\n            this._terminal.scrollLines(this._dragScrollAmount, false);\n            if (this._dragScrollAmount > 0) {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = this._terminal.cols;\n                }\n                this._model.selectionEnd[1] = Math.min(this._terminal.buffer.ydisp + this._terminal.rows, this._terminal.buffer.lines.length - 1);\n            }\n            else {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = 0;\n                }\n                this._model.selectionEnd[1] = this._terminal.buffer.ydisp;\n            }\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._onMouseUp = function (event) {\n        var timeElapsed = event.timeStamp - this._mouseDownTimeStamp;\n        this._removeMouseDownListeners();\n        if (this.selectionText.length <= 1 && timeElapsed < ALT_CLICK_MOVE_CURSOR_TIME) {\n            (new AltClickHandler_1.AltClickHandler(event, this._terminal)).move();\n        }\n        else if (this.hasSelection) {\n            this._onSelectionChange.fire();\n        }\n    };\n    SelectionManager.prototype._onBufferActivate = function (e) {\n        var _this = this;\n        this.clearSelection();\n        if (this._trimListener) {\n            this._trimListener.dispose();\n        }\n        this._trimListener = e.activeBuffer.lines.onTrim(function (amount) { return _this._onTrim(amount); });\n    };\n    SelectionManager.prototype._convertViewportColToCharacterIndex = function (bufferLine, coords) {\n        var charIndex = coords[0];\n        for (var i = 0; coords[0] >= i; i++) {\n            var length_1 = bufferLine.loadCell(i, this._workCell).getChars().length;\n            if (this._workCell.getWidth() === 0) {\n                charIndex--;\n            }\n            else if (length_1 > 1 && coords[0] !== i) {\n                charIndex += length_1 - 1;\n            }\n        }\n        return charIndex;\n    };\n    SelectionManager.prototype.setSelection = function (col, row, length) {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this._model.selectionStart = [col, row];\n        this._model.selectionStartLength = length;\n        this.refresh();\n    };\n    SelectionManager.prototype._getWordAt = function (coords, allowWhitespaceOnlySelection, followWrappedLinesAbove, followWrappedLinesBelow) {\n        if (followWrappedLinesAbove === void 0) { followWrappedLinesAbove = true; }\n        if (followWrappedLinesBelow === void 0) { followWrappedLinesBelow = true; }\n        if (coords[0] >= this._terminal.cols) {\n            return null;\n        }\n        var bufferLine = this._buffer.lines.get(coords[1]);\n        if (!bufferLine) {\n            return null;\n        }\n        var line = this._buffer.translateBufferLineToString(coords[1], false);\n        var startIndex = this._convertViewportColToCharacterIndex(bufferLine, coords);\n        var endIndex = startIndex;\n        var charOffset = coords[0] - startIndex;\n        var leftWideCharCount = 0;\n        var rightWideCharCount = 0;\n        var leftLongCharOffset = 0;\n        var rightLongCharOffset = 0;\n        if (line.charAt(startIndex) === ' ') {\n            while (startIndex > 0 && line.charAt(startIndex - 1) === ' ') {\n                startIndex--;\n            }\n            while (endIndex < line.length && line.charAt(endIndex + 1) === ' ') {\n                endIndex++;\n            }\n        }\n        else {\n            var startCol = coords[0];\n            var endCol = coords[0];\n            if (bufferLine.getWidth(startCol) === 0) {\n                leftWideCharCount++;\n                startCol--;\n            }\n            if (bufferLine.getWidth(endCol) === 2) {\n                rightWideCharCount++;\n                endCol++;\n            }\n            var length_2 = bufferLine.getString(endCol).length;\n            if (length_2 > 1) {\n                rightLongCharOffset += length_2 - 1;\n                endIndex += length_2 - 1;\n            }\n            while (startCol > 0 && startIndex > 0 && !this._isCharWordSeparator(bufferLine.loadCell(startCol - 1, this._workCell))) {\n                bufferLine.loadCell(startCol - 1, this._workCell);\n                var length_3 = this._workCell.getChars().length;\n                if (this._workCell.getWidth() === 0) {\n                    leftWideCharCount++;\n                    startCol--;\n                }\n                else if (length_3 > 1) {\n                    leftLongCharOffset += length_3 - 1;\n                    startIndex -= length_3 - 1;\n                }\n                startIndex--;\n                startCol--;\n            }\n            while (endCol < bufferLine.length && endIndex + 1 < line.length && !this._isCharWordSeparator(bufferLine.loadCell(endCol + 1, this._workCell))) {\n                bufferLine.loadCell(endCol + 1, this._workCell);\n                var length_4 = this._workCell.getChars().length;\n                if (this._workCell.getWidth() === 2) {\n                    rightWideCharCount++;\n                    endCol++;\n                }\n                else if (length_4 > 1) {\n                    rightLongCharOffset += length_4 - 1;\n                    endIndex += length_4 - 1;\n                }\n                endIndex++;\n                endCol++;\n            }\n        }\n        endIndex++;\n        var start = startIndex\n            + charOffset\n            - leftWideCharCount\n            + leftLongCharOffset;\n        var length = Math.min(this._terminal.cols, endIndex\n            - startIndex\n            + leftWideCharCount\n            + rightWideCharCount\n            - leftLongCharOffset\n            - rightLongCharOffset);\n        if (!allowWhitespaceOnlySelection && line.slice(startIndex, endIndex).trim() === '') {\n            return null;\n        }\n        if (followWrappedLinesAbove) {\n            if (start === 0 && bufferLine.getCodePoint(0) !== 32) {\n                var previousBufferLine = this._buffer.lines.get(coords[1] - 1);\n                if (previousBufferLine && bufferLine.isWrapped && previousBufferLine.getCodePoint(this._terminal.cols - 1) !== 32) {\n                    var previousLineWordPosition = this._getWordAt([this._terminal.cols - 1, coords[1] - 1], false, true, false);\n                    if (previousLineWordPosition) {\n                        var offset = this._terminal.cols - previousLineWordPosition.start;\n                        start -= offset;\n                        length += offset;\n                    }\n                }\n            }\n        }\n        if (followWrappedLinesBelow) {\n            if (start + length === this._terminal.cols && bufferLine.getCodePoint(this._terminal.cols - 1) !== 32) {\n                var nextBufferLine = this._buffer.lines.get(coords[1] + 1);\n                if (nextBufferLine && nextBufferLine.isWrapped && nextBufferLine.getCodePoint(0) !== 32) {\n                    var nextLineWordPosition = this._getWordAt([0, coords[1] + 1], false, false, true);\n                    if (nextLineWordPosition) {\n                        length += nextLineWordPosition.length;\n                    }\n                }\n            }\n        }\n        return { start: start, length: length };\n    };\n    SelectionManager.prototype._selectWordAt = function (coords, allowWhitespaceOnlySelection) {\n        var wordPosition = this._getWordAt(coords, allowWhitespaceOnlySelection);\n        if (wordPosition) {\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                coords[1]--;\n            }\n            this._model.selectionStart = [wordPosition.start, coords[1]];\n            this._model.selectionStartLength = wordPosition.length;\n        }\n    };\n    SelectionManager.prototype._selectToWordAt = function (coords) {\n        var wordPosition = this._getWordAt(coords, true);\n        if (wordPosition) {\n            var endRow = coords[1];\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                endRow--;\n            }\n            if (!this._model.areSelectionValuesReversed()) {\n                while (wordPosition.start + wordPosition.length > this._terminal.cols) {\n                    wordPosition.length -= this._terminal.cols;\n                    endRow++;\n                }\n            }\n            this._model.selectionEnd = [this._model.areSelectionValuesReversed() ? wordPosition.start : wordPosition.start + wordPosition.length, endRow];\n        }\n    };\n    SelectionManager.prototype._isCharWordSeparator = function (cell) {\n        if (cell.getWidth() === 0) {\n            return false;\n        }\n        return WORD_SEPARATORS.indexOf(cell.getChars()) >= 0;\n    };\n    SelectionManager.prototype._selectLineAt = function (line) {\n        var wrappedRange = this._buffer.getWrappedRangeForLine(line);\n        this._model.selectionStart = [0, wrappedRange.first];\n        this._model.selectionEnd = [this._terminal.cols, wrappedRange.last];\n        this._model.selectionStartLength = 0;\n    };\n    return SelectionManager;\n}());\nexports.SelectionManager = SelectionManager;\n//# sourceMappingURL=SelectionManager.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderDebouncer_1 = require(\"../ui/RenderDebouncer\");\nvar EventEmitter2_1 = require(\"../common/EventEmitter2\");\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar ScreenDprMonitor_1 = require(\"../ui/ScreenDprMonitor\");\nvar Lifecycle_2 = require(\"../ui/Lifecycle\");\nvar RenderCoordinator = (function (_super) {\n    __extends(RenderCoordinator, _super);\n    function RenderCoordinator(_renderer, _rowCount, screenElement) {\n        var _this = _super.call(this) || this;\n        _this._renderer = _renderer;\n        _this._rowCount = _rowCount;\n        _this._isPaused = false;\n        _this._needsFullRefresh = false;\n        _this._canvasWidth = 0;\n        _this._canvasHeight = 0;\n        _this._onDimensionsChange = new EventEmitter2_1.EventEmitter2();\n        _this._onRender = new EventEmitter2_1.EventEmitter2();\n        _this._onRefreshRequest = new EventEmitter2_1.EventEmitter2();\n        _this._renderDebouncer = new RenderDebouncer_1.RenderDebouncer(function (start, end) { return _this._renderRows(start, end); });\n        _this.register(_this._renderDebouncer);\n        _this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        _this._screenDprMonitor.setListener(function () { return _this._renderer.onDevicePixelRatioChange(); });\n        _this.register(_this._screenDprMonitor);\n        _this.register(Lifecycle_2.addDisposableDomListener(window, 'resize', function () { return _this._renderer.onDevicePixelRatioChange(); }));\n        if ('IntersectionObserver' in window) {\n            var observer_1 = new IntersectionObserver(function (e) { return _this._onIntersectionChange(e[e.length - 1]); }, { threshold: 0 });\n            observer_1.observe(screenElement);\n            _this.register({ dispose: function () { return observer_1.disconnect(); } });\n        }\n        return _this;\n    }\n    Object.defineProperty(RenderCoordinator.prototype, \"onDimensionsChange\", {\n        get: function () { return this._onDimensionsChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RenderCoordinator.prototype, \"onRender\", {\n        get: function () { return this._onRender.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RenderCoordinator.prototype, \"onRefreshRequest\", {\n        get: function () { return this._onRefreshRequest.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RenderCoordinator.prototype, \"dimensions\", {\n        get: function () { return this._renderer.dimensions; },\n        enumerable: true,\n        configurable: true\n    });\n    RenderCoordinator.prototype._onIntersectionChange = function (entry) {\n        this._isPaused = entry.intersectionRatio === 0;\n        if (!this._isPaused && this._needsFullRefresh) {\n            this.refreshRows(0, this._rowCount - 1);\n            this._needsFullRefresh = false;\n        }\n    };\n    RenderCoordinator.prototype.refreshRows = function (start, end) {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n            return;\n        }\n        this._renderDebouncer.refresh(start, end, this._rowCount);\n    };\n    RenderCoordinator.prototype._renderRows = function (start, end) {\n        this._renderer.renderRows(start, end);\n        this._onRender.fire({ start: start, end: end });\n    };\n    RenderCoordinator.prototype.resize = function (cols, rows) {\n        this._rowCount = rows;\n        this._fireOnCanvasResize();\n    };\n    RenderCoordinator.prototype.changeOptions = function () {\n        this._renderer.onOptionsChanged();\n        this._fireOnCanvasResize();\n    };\n    RenderCoordinator.prototype._fireOnCanvasResize = function () {\n        if (this._renderer.dimensions.canvasWidth === this._canvasWidth && this._renderer.dimensions.canvasHeight === this._canvasHeight) {\n            return;\n        }\n        this._onDimensionsChange.fire(this._renderer.dimensions);\n    };\n    RenderCoordinator.prototype.setRenderer = function (renderer) {\n        this._renderer.dispose();\n        this._renderer = renderer;\n    };\n    RenderCoordinator.prototype._fullRefresh = function () {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n        }\n        else {\n            this.refreshRows(0, this._rowCount);\n        }\n    };\n    RenderCoordinator.prototype.setColors = function (colors) {\n        this._renderer.setColors(colors);\n        this._fullRefresh();\n    };\n    RenderCoordinator.prototype.onDevicePixelRatioChange = function () {\n        this._renderer.onDevicePixelRatioChange();\n    };\n    RenderCoordinator.prototype.onResize = function (cols, rows) {\n        this._renderer.onResize(cols, rows);\n        this._fullRefresh();\n    };\n    RenderCoordinator.prototype.onCharSizeChanged = function () {\n        this._renderer.onCharSizeChanged();\n    };\n    RenderCoordinator.prototype.onBlur = function () {\n        this._renderer.onBlur();\n    };\n    RenderCoordinator.prototype.onFocus = function () {\n        this._renderer.onFocus();\n    };\n    RenderCoordinator.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        this._renderer.onSelectionChanged(start, end, columnSelectMode);\n    };\n    RenderCoordinator.prototype.onCursorMove = function () {\n        this._renderer.onCursorMove();\n    };\n    RenderCoordinator.prototype.onOptionsChanged = function () {\n        this._renderer.onOptionsChanged();\n    };\n    RenderCoordinator.prototype.clear = function () {\n        this._renderer.clear();\n    };\n    RenderCoordinator.prototype.registerCharacterJoiner = function (handler) {\n        return this._renderer.registerCharacterJoiner(handler);\n    };\n    RenderCoordinator.prototype.deregisterCharacterJoiner = function (joinerId) {\n        return this._renderer.deregisterCharacterJoiner(joinerId);\n    };\n    return RenderCoordinator;\n}(Lifecycle_1.Disposable));\nexports.RenderCoordinator = RenderCoordinator;\n//# sourceMappingURL=RenderCoordinator.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./Types\");\nvar CharAtlasGenerator_1 = require(\"./CharAtlasGenerator\");\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar CharAtlasUtils_1 = require(\"./CharAtlasUtils\");\nvar Types_2 = require(\"../../common/Types\");\nvar StaticCharAtlas = (function (_super) {\n    __extends(StaticCharAtlas, _super);\n    function StaticCharAtlas(_document, _config) {\n        var _this = _super.call(this) || this;\n        _this._document = _document;\n        _this._config = _config;\n        _this._canvasFactory = function (width, height) {\n            var canvas = _this._document.createElement('canvas');\n            canvas.width = width;\n            canvas.height = height;\n            return canvas;\n        };\n        return _this;\n    }\n    StaticCharAtlas.prototype._doWarmUp = function () {\n        var _this = this;\n        var result = CharAtlasGenerator_1.generateStaticCharAtlasTexture(window, this._canvasFactory, this._config);\n        if (result instanceof HTMLCanvasElement) {\n            this._texture = result;\n        }\n        else {\n            result.then(function (texture) {\n                _this._texture = texture;\n            });\n        }\n    };\n    StaticCharAtlas.prototype._isCached = function (glyph, colorIndex) {\n        var isAscii = glyph.code < 256;\n        var isBasicColor = glyph.fg < 16;\n        var isDefaultColor = glyph.fg === Types_2.DEFAULT_COLOR;\n        var isDefaultBackground = glyph.bg === Types_2.DEFAULT_COLOR;\n        return isAscii && (isBasicColor || isDefaultColor) && isDefaultBackground && !glyph.italic;\n    };\n    StaticCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (this._texture === null || this._texture === undefined) {\n            return false;\n        }\n        var colorIndex = 0;\n        if (CharAtlasUtils_1.is256Color(glyph.fg)) {\n            colorIndex = 2 + glyph.fg + (glyph.bold ? 16 : 0);\n        }\n        else if (glyph.fg === Types_2.DEFAULT_COLOR) {\n            if (glyph.bold) {\n                colorIndex = 1;\n            }\n        }\n        if (!this._isCached(glyph, colorIndex)) {\n            return false;\n        }\n        ctx.save();\n        var charAtlasCellWidth = this._config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n        var charAtlasCellHeight = this._config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n        if (glyph.dim) {\n            ctx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        ctx.drawImage(this._texture, glyph.code * charAtlasCellWidth, colorIndex * charAtlasCellHeight, charAtlasCellWidth, this._config.scaledCharHeight, x, y, charAtlasCellWidth, this._config.scaledCharHeight);\n        ctx.restore();\n        return true;\n    };\n    return StaticCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = StaticCharAtlas;\n//# sourceMappingURL=StaticCharAtlas.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GridCache_1 = require(\"./GridCache\");\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar CharacterJoinerRegistry_1 = require(\"./CharacterJoinerRegistry\");\nvar TextRenderLayer = (function (_super) {\n    __extends(TextRenderLayer, _super);\n    function TextRenderLayer(container, zIndex, colors, characterJoinerRegistry, alpha) {\n        var _this = _super.call(this, container, 'text', zIndex, alpha, colors) || this;\n        _this._characterOverlapCache = {};\n        _this._workCell = new BufferLine_1.CellData();\n        _this._state = new GridCache_1.GridCache();\n        _this._characterJoinerRegistry = characterJoinerRegistry;\n        return _this;\n    }\n    TextRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        var terminalFont = this._getFont(terminal, false, false);\n        if (this._characterWidth !== dim.scaledCharWidth || this._characterFont !== terminalFont) {\n            this._characterWidth = dim.scaledCharWidth;\n            this._characterFont = terminalFont;\n            this._characterOverlapCache = {};\n        }\n        this._state.clear();\n        this._state.resize(terminal.cols, terminal.rows);\n    };\n    TextRenderLayer.prototype.reset = function (terminal) {\n        this._state.clear();\n        this.clearAll();\n    };\n    TextRenderLayer.prototype._forEachCell = function (terminal, firstRow, lastRow, joinerRegistry, callback) {\n        for (var y = firstRow; y <= lastRow; y++) {\n            var row = y + terminal.buffer.ydisp;\n            var line = terminal.buffer.lines.get(row);\n            var joinedRanges = joinerRegistry ? joinerRegistry.getJoinedCharacters(row) : [];\n            for (var x = 0; x < terminal.cols; x++) {\n                line.loadCell(x, this._workCell);\n                var cell = this._workCell;\n                var isJoined = false;\n                var lastCharX = x;\n                if (cell.getWidth() === 0) {\n                    continue;\n                }\n                if (joinedRanges.length > 0 && x === joinedRanges[0][0]) {\n                    isJoined = true;\n                    var range = joinedRanges.shift();\n                    cell = new CharacterJoinerRegistry_1.JoinedCellData(this._workCell, line.translateToString(true, range[0], range[1]), range[1] - range[0]);\n                    lastCharX = range[1] - 1;\n                }\n                if (!isJoined && this._isOverlapping(cell)) {\n                    if (lastCharX < line.length - 1 && line.getCodePoint(lastCharX + 1) === BufferLine_1.NULL_CELL_CODE) {\n                        cell.content &= ~12582912;\n                        cell.content |= 2 << 22;\n                    }\n                }\n                callback(cell, x, y);\n                x = lastCharX;\n            }\n        }\n    };\n    TextRenderLayer.prototype._drawBackground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        var ctx = this._ctx;\n        var cols = terminal.cols;\n        var startX = 0;\n        var startY = 0;\n        var prevFillStyle = null;\n        ctx.save();\n        this._forEachCell(terminal, firstRow, lastRow, null, function (cell, x, y) {\n            var nextFillStyle = null;\n            if (cell.isInverse()) {\n                if (cell.isFgDefault()) {\n                    nextFillStyle = _this._colors.foreground.css;\n                }\n                else if (cell.isFgRGB()) {\n                    nextFillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getFgColor()).join(',') + \")\";\n                }\n                else {\n                    nextFillStyle = _this._colors.ansi[cell.getFgColor()].css;\n                }\n            }\n            else if (cell.isBgRGB()) {\n                nextFillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getBgColor()).join(',') + \")\";\n            }\n            else if (cell.isBgPalette()) {\n                nextFillStyle = _this._colors.ansi[cell.getBgColor()].css;\n            }\n            if (prevFillStyle === null) {\n                startX = x;\n                startY = y;\n            }\n            if (y !== startY) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, cols - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            else if (prevFillStyle !== nextFillStyle) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, x - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            prevFillStyle = nextFillStyle;\n        });\n        if (prevFillStyle !== null) {\n            ctx.fillStyle = prevFillStyle;\n            this.fillCells(startX, startY, cols - startX, 1);\n        }\n        ctx.restore();\n    };\n    TextRenderLayer.prototype._drawForeground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        this._forEachCell(terminal, firstRow, lastRow, this._characterJoinerRegistry, function (cell, x, y) {\n            if (cell.isInvisible()) {\n                return;\n            }\n            _this.drawChars(terminal, cell, x, y);\n            if (cell.isUnderline()) {\n                _this._ctx.save();\n                if (cell.isInverse()) {\n                    if (cell.isBgDefault()) {\n                        _this._ctx.fillStyle = _this._colors.background.css;\n                    }\n                    else if (cell.isBgRGB()) {\n                        _this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getBgColor()).join(',') + \")\";\n                    }\n                    else {\n                        _this._ctx.fillStyle = _this._colors.ansi[cell.getBgColor()].css;\n                    }\n                }\n                else {\n                    if (cell.isFgDefault()) {\n                        _this._ctx.fillStyle = _this._colors.foreground.css;\n                    }\n                    else if (cell.isFgRGB()) {\n                        _this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getFgColor()).join(',') + \")\";\n                    }\n                    else {\n                        var fg = cell.getFgColor();\n                        if (terminal.options.drawBoldTextInBrightColors && cell.isBold() && fg < 8) {\n                            fg += 8;\n                        }\n                        _this._ctx.fillStyle = _this._colors.ansi[fg].css;\n                    }\n                }\n                _this.fillBottomLineAtCells(x, y, cell.getWidth());\n                _this._ctx.restore();\n            }\n        });\n    };\n    TextRenderLayer.prototype.onGridChanged = function (terminal, firstRow, lastRow) {\n        if (this._state.cache.length === 0) {\n            return;\n        }\n        if (this._charAtlas) {\n            this._charAtlas.beginFrame();\n        }\n        this.clearCells(0, firstRow, terminal.cols, lastRow - firstRow + 1);\n        this._drawBackground(terminal, firstRow, lastRow);\n        this._drawForeground(terminal, firstRow, lastRow);\n    };\n    TextRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        this.setTransparency(terminal, terminal.options.allowTransparency);\n    };\n    TextRenderLayer.prototype._isOverlapping = function (cell) {\n        if (cell.getWidth() !== 1) {\n            return false;\n        }\n        if (cell.getCode() < 256) {\n            return false;\n        }\n        var chars = cell.getChars();\n        if (this._characterOverlapCache.hasOwnProperty(chars)) {\n            return this._characterOverlapCache[chars];\n        }\n        this._ctx.save();\n        this._ctx.font = this._characterFont;\n        var overlaps = Math.floor(this._ctx.measureText(chars).width) > this._characterWidth;\n        this._ctx.restore();\n        this._characterOverlapCache[chars] = overlaps;\n        return overlaps;\n    };\n    return TextRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.TextRenderLayer = TextRenderLayer;\n//# sourceMappingURL=TextRenderLayer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"../../common/Types\");\nfunction generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors) {\n    var clonedColors = {\n        foreground: colors.foreground,\n        background: colors.background,\n        cursor: null,\n        cursorAccent: null,\n        selection: null,\n        ansi: colors.ansi.slice(0, 16)\n    };\n    return {\n        type: terminal.options.experimentalCharAtlas,\n        devicePixelRatio: window.devicePixelRatio,\n        scaledCharWidth: scaledCharWidth,\n        scaledCharHeight: scaledCharHeight,\n        fontFamily: terminal.options.fontFamily,\n        fontSize: terminal.options.fontSize,\n        fontWeight: terminal.options.fontWeight,\n        fontWeightBold: terminal.options.fontWeightBold,\n        allowTransparency: terminal.options.allowTransparency,\n        colors: clonedColors\n    };\n}\nexports.generateConfig = generateConfig;\nfunction configEquals(a, b) {\n    for (var i = 0; i < a.colors.ansi.length; i++) {\n        if (a.colors.ansi[i].rgba !== b.colors.ansi[i].rgba) {\n            return false;\n        }\n    }\n    return a.type === b.type &&\n        a.devicePixelRatio === b.devicePixelRatio &&\n        a.fontFamily === b.fontFamily &&\n        a.fontSize === b.fontSize &&\n        a.fontWeight === b.fontWeight &&\n        a.fontWeightBold === b.fontWeightBold &&\n        a.allowTransparency === b.allowTransparency &&\n        a.scaledCharWidth === b.scaledCharWidth &&\n        a.scaledCharHeight === b.scaledCharHeight &&\n        a.colors.foreground === b.colors.foreground &&\n        a.colors.background === b.colors.background;\n}\nexports.configEquals = configEquals;\nfunction is256Color(colorCode) {\n    return colorCode < Types_1.DEFAULT_COLOR;\n}\nexports.is256Color = is256Color;\n//# sourceMappingURL=CharAtlasUtils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DEFAULT_FOREGROUND = fromHex('#ffffff');\nvar DEFAULT_BACKGROUND = fromHex('#000000');\nvar DEFAULT_CURSOR = fromHex('#ffffff');\nvar DEFAULT_CURSOR_ACCENT = fromHex('#000000');\nvar DEFAULT_SELECTION = {\n    css: 'rgba(255, 255, 255, 0.3)',\n    rgba: 0xFFFFFF77\n};\nexports.DEFAULT_ANSI_COLORS = (function () {\n    var colors = [\n        fromHex('#2e3436'),\n        fromHex('#cc0000'),\n        fromHex('#4e9a06'),\n        fromHex('#c4a000'),\n        fromHex('#3465a4'),\n        fromHex('#75507b'),\n        fromHex('#06989a'),\n        fromHex('#d3d7cf'),\n        fromHex('#555753'),\n        fromHex('#ef2929'),\n        fromHex('#8ae234'),\n        fromHex('#fce94f'),\n        fromHex('#729fcf'),\n        fromHex('#ad7fa8'),\n        fromHex('#34e2e2'),\n        fromHex('#eeeeec')\n    ];\n    var v = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff];\n    for (var i = 0; i < 216; i++) {\n        var r = v[(i / 36) % 6 | 0];\n        var g = v[(i / 6) % 6 | 0];\n        var b = v[i % 6];\n        colors.push({\n            css: \"#\" + toPaddedHex(r) + toPaddedHex(g) + toPaddedHex(b),\n            rgba: ((r << 24) | (g << 16) | (b << 8) | 0xFF) >>> 0\n        });\n    }\n    for (var i = 0; i < 24; i++) {\n        var c = 8 + i * 10;\n        var ch = toPaddedHex(c);\n        colors.push({\n            css: \"#\" + ch + ch + ch,\n            rgba: ((c << 24) | (c << 16) | (c << 8) | 0xFF) >>> 0\n        });\n    }\n    return colors;\n})();\nfunction fromHex(css) {\n    return {\n        css: css,\n        rgba: parseInt(css.slice(1), 16) << 8 | 0xFF\n    };\n}\nfunction toPaddedHex(c) {\n    var s = c.toString(16);\n    return s.length < 2 ? '0' + s : s;\n}\nvar ColorManager = (function () {\n    function ColorManager(document, allowTransparency) {\n        this.allowTransparency = allowTransparency;\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        var ctx = canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('Could not get rendering context');\n        }\n        this._ctx = ctx;\n        this._ctx.globalCompositeOperation = 'copy';\n        this._litmusColor = this._ctx.createLinearGradient(0, 0, 1, 1);\n        this.colors = {\n            foreground: DEFAULT_FOREGROUND,\n            background: DEFAULT_BACKGROUND,\n            cursor: DEFAULT_CURSOR,\n            cursorAccent: DEFAULT_CURSOR_ACCENT,\n            selection: DEFAULT_SELECTION,\n            ansi: exports.DEFAULT_ANSI_COLORS.slice()\n        };\n    }\n    ColorManager.prototype.setTheme = function (theme) {\n        if (theme === void 0) { theme = {}; }\n        this.colors.foreground = this._parseColor(theme.foreground, DEFAULT_FOREGROUND);\n        this.colors.background = this._parseColor(theme.background, DEFAULT_BACKGROUND);\n        this.colors.cursor = this._parseColor(theme.cursor, DEFAULT_CURSOR, true);\n        this.colors.cursorAccent = this._parseColor(theme.cursorAccent, DEFAULT_CURSOR_ACCENT, true);\n        this.colors.selection = this._parseColor(theme.selection, DEFAULT_SELECTION, true);\n        this.colors.ansi[0] = this._parseColor(theme.black, exports.DEFAULT_ANSI_COLORS[0]);\n        this.colors.ansi[1] = this._parseColor(theme.red, exports.DEFAULT_ANSI_COLORS[1]);\n        this.colors.ansi[2] = this._parseColor(theme.green, exports.DEFAULT_ANSI_COLORS[2]);\n        this.colors.ansi[3] = this._parseColor(theme.yellow, exports.DEFAULT_ANSI_COLORS[3]);\n        this.colors.ansi[4] = this._parseColor(theme.blue, exports.DEFAULT_ANSI_COLORS[4]);\n        this.colors.ansi[5] = this._parseColor(theme.magenta, exports.DEFAULT_ANSI_COLORS[5]);\n        this.colors.ansi[6] = this._parseColor(theme.cyan, exports.DEFAULT_ANSI_COLORS[6]);\n        this.colors.ansi[7] = this._parseColor(theme.white, exports.DEFAULT_ANSI_COLORS[7]);\n        this.colors.ansi[8] = this._parseColor(theme.brightBlack, exports.DEFAULT_ANSI_COLORS[8]);\n        this.colors.ansi[9] = this._parseColor(theme.brightRed, exports.DEFAULT_ANSI_COLORS[9]);\n        this.colors.ansi[10] = this._parseColor(theme.brightGreen, exports.DEFAULT_ANSI_COLORS[10]);\n        this.colors.ansi[11] = this._parseColor(theme.brightYellow, exports.DEFAULT_ANSI_COLORS[11]);\n        this.colors.ansi[12] = this._parseColor(theme.brightBlue, exports.DEFAULT_ANSI_COLORS[12]);\n        this.colors.ansi[13] = this._parseColor(theme.brightMagenta, exports.DEFAULT_ANSI_COLORS[13]);\n        this.colors.ansi[14] = this._parseColor(theme.brightCyan, exports.DEFAULT_ANSI_COLORS[14]);\n        this.colors.ansi[15] = this._parseColor(theme.brightWhite, exports.DEFAULT_ANSI_COLORS[15]);\n    };\n    ColorManager.prototype._parseColor = function (css, fallback, allowTransparency) {\n        if (allowTransparency === void 0) { allowTransparency = this.allowTransparency; }\n        if (css === undefined) {\n            return fallback;\n        }\n        this._ctx.fillStyle = this._litmusColor;\n        this._ctx.fillStyle = css;\n        if (typeof this._ctx.fillStyle !== 'string') {\n            console.warn(\"Color: \" + css + \" is invalid using fallback \" + fallback.css);\n            return fallback;\n        }\n        this._ctx.fillRect(0, 0, 1, 1);\n        var data = this._ctx.getImageData(0, 0, 1, 1).data;\n        if (!allowTransparency && data[3] !== 0xFF) {\n            console.warn(\"Color: \" + css + \" is using transparency, but allowTransparency is false. \" +\n                (\"Using fallback \" + fallback.css + \".\"));\n            return fallback;\n        }\n        return {\n            css: css,\n            rgba: (data[0] << 24 | data[1] << 16 | data[2] << 8 | data[3]) >>> 0\n        };\n    };\n    return ColorManager;\n}());\nexports.ColorManager = ColorManager;\n//# sourceMappingURL=ColorManager.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar BLINK_INTERVAL = 600;\nvar CursorRenderLayer = (function (_super) {\n    __extends(CursorRenderLayer, _super);\n    function CursorRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'cursor', zIndex, true, colors) || this;\n        _this._cell = new BufferLine_1.CellData();\n        _this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n        _this._cursorRenderers = {\n            'bar': _this._renderBarCursor.bind(_this),\n            'block': _this._renderBlockCursor.bind(_this),\n            'underline': _this._renderUnderlineCursor.bind(_this)\n        };\n        return _this;\n    }\n    CursorRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n    };\n    CursorRenderLayer.prototype.reset = function (terminal) {\n        this._clearCursor();\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.dispose();\n            this._cursorBlinkStateManager = null;\n            this.onOptionsChanged(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onBlur = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.pause();\n        }\n        terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n    };\n    CursorRenderLayer.prototype.onFocus = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.resume(terminal);\n        }\n        else {\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        var _this = this;\n        if (terminal.options.cursorBlink) {\n            if (!this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager = new CursorBlinkStateManager(terminal, function () {\n                    _this._render(terminal, true);\n                });\n            }\n        }\n        else {\n            if (this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager.dispose();\n                this._cursorBlinkStateManager = null;\n            }\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onCursorMove = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) {\n        if (!this._cursorBlinkStateManager || this._cursorBlinkStateManager.isPaused) {\n            this._render(terminal, false);\n        }\n        else {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype._render = function (terminal, triggeredByAnimationFrame) {\n        if (!terminal.cursorState || terminal.cursorHidden) {\n            this._clearCursor();\n            return;\n        }\n        var cursorY = terminal.buffer.ybase + terminal.buffer.y;\n        var viewportRelativeCursorY = cursorY - terminal.buffer.ydisp;\n        if (viewportRelativeCursorY < 0 || viewportRelativeCursorY >= terminal.rows) {\n            this._clearCursor();\n            return;\n        }\n        terminal.buffer.lines.get(cursorY).loadCell(terminal.buffer.x, this._cell);\n        if (this._cell.content === undefined) {\n            return;\n        }\n        if (!terminal.isFocused) {\n            this._clearCursor();\n            this._ctx.save();\n            this._ctx.fillStyle = this._colors.cursor.css;\n            this._renderBlurCursor(terminal, terminal.buffer.x, viewportRelativeCursorY, this._cell);\n            this._ctx.restore();\n            this._state.x = terminal.buffer.x;\n            this._state.y = viewportRelativeCursorY;\n            this._state.isFocused = false;\n            this._state.style = terminal.options.cursorStyle;\n            this._state.width = this._cell.getWidth();\n            return;\n        }\n        if (this._cursorBlinkStateManager && !this._cursorBlinkStateManager.isCursorVisible) {\n            this._clearCursor();\n            return;\n        }\n        if (this._state) {\n            if (this._state.x === terminal.buffer.x &&\n                this._state.y === viewportRelativeCursorY &&\n                this._state.isFocused === terminal.isFocused &&\n                this._state.style === terminal.options.cursorStyle &&\n                this._state.width === this._cell.getWidth()) {\n                return;\n            }\n            this._clearCursor();\n        }\n        this._ctx.save();\n        this._cursorRenderers[terminal.options.cursorStyle || 'block'](terminal, terminal.buffer.x, viewportRelativeCursorY, this._cell);\n        this._ctx.restore();\n        this._state.x = terminal.buffer.x;\n        this._state.y = viewportRelativeCursorY;\n        this._state.isFocused = false;\n        this._state.style = terminal.options.cursorStyle;\n        this._state.width = this._cell.getWidth();\n    };\n    CursorRenderLayer.prototype._clearCursor = function () {\n        if (this._state) {\n            this.clearCells(this._state.x, this._state.y, this._state.width, 1);\n            this._state = {\n                x: null,\n                y: null,\n                isFocused: null,\n                style: null,\n                width: null\n            };\n        }\n    };\n    CursorRenderLayer.prototype._renderBarCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillLeftLineAtCell(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlockCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillCells(x, y, cell.getWidth(), 1);\n        this._ctx.fillStyle = this._colors.cursorAccent.css;\n        this.fillCharTrueColor(terminal, cell, x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderUnderlineCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillBottomLineAtCells(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlurCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.strokeStyle = this._colors.cursor.css;\n        this.strokeRectAtCell(x, y, cell.getWidth(), 1);\n        this._ctx.restore();\n    };\n    return CursorRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.CursorRenderLayer = CursorRenderLayer;\nvar CursorBlinkStateManager = (function () {\n    function CursorBlinkStateManager(terminal, _renderCallback) {\n        this._renderCallback = _renderCallback;\n        this.isCursorVisible = true;\n        if (terminal.isFocused) {\n            this._restartInterval();\n        }\n    }\n    Object.defineProperty(CursorBlinkStateManager.prototype, \"isPaused\", {\n        get: function () { return !(this._blinkStartTimeout || this._blinkInterval); },\n        enumerable: true,\n        configurable: true\n    });\n    CursorBlinkStateManager.prototype.dispose = function () {\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.restartBlinkAnimation = function (terminal) {\n        var _this = this;\n        if (this.isPaused) {\n            return;\n        }\n        this._animationTimeRestarted = Date.now();\n        this.isCursorVisible = true;\n        if (!this._animationFrame) {\n            this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n        }\n    };\n    CursorBlinkStateManager.prototype._restartInterval = function (timeToStart) {\n        var _this = this;\n        if (timeToStart === void 0) { timeToStart = BLINK_INTERVAL; }\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n        }\n        this._blinkStartTimeout = setTimeout(function () {\n            if (_this._animationTimeRestarted) {\n                var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                _this._animationTimeRestarted = null;\n                if (time > 0) {\n                    _this._restartInterval(time);\n                    return;\n                }\n            }\n            _this.isCursorVisible = false;\n            _this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n            _this._blinkInterval = setInterval(function () {\n                if (_this._animationTimeRestarted) {\n                    var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                    _this._animationTimeRestarted = null;\n                    _this._restartInterval(time);\n                    return;\n                }\n                _this.isCursorVisible = !_this.isCursorVisible;\n                _this._animationFrame = window.requestAnimationFrame(function () {\n                    _this._renderCallback();\n                    _this._animationFrame = null;\n                });\n            }, BLINK_INTERVAL);\n        }, timeToStart);\n    };\n    CursorBlinkStateManager.prototype.pause = function () {\n        this.isCursorVisible = true;\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.resume = function (terminal) {\n        this._animationTimeRestarted = null;\n        this._restartInterval();\n        this.restartBlinkAnimation(terminal);\n    };\n    return CursorBlinkStateManager;\n}());\n//# sourceMappingURL=CursorRenderLayer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Platform_1 = require(\"../../common/Platform\");\nvar Types_1 = require(\"./Types\");\nfunction generateStaticCharAtlasTexture(context, canvasFactory, config) {\n    var cellWidth = config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var cellHeight = config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var canvas = canvasFactory(255 * cellWidth, (2 + 16 + 16) * cellHeight);\n    var ctx = canvas.getContext('2d', { alpha: config.allowTransparency });\n    ctx.fillStyle = config.colors.background.css;\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.save();\n    ctx.fillStyle = config.colors.foreground.css;\n    ctx.font = getFont(config.fontWeight, config);\n    ctx.textBaseline = 'middle';\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, 0, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, cellHeight / 2);\n        ctx.restore();\n    }\n    ctx.save();\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, cellHeight, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, cellHeight * 1.5);\n        ctx.restore();\n    }\n    ctx.restore();\n    ctx.font = getFont(config.fontWeight, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y + cellHeight / 2);\n            ctx.restore();\n        }\n    }\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2 + 16) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y + cellHeight / 2);\n            ctx.restore();\n        }\n    }\n    ctx.restore();\n    if (!('createImageBitmap' in context) || Platform_1.isFirefox || Platform_1.isSafari) {\n        return canvas;\n    }\n    var charAtlasImageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    clearColor(charAtlasImageData, config.colors.background);\n    return context.createImageBitmap(charAtlasImageData);\n}\nexports.generateStaticCharAtlasTexture = generateStaticCharAtlasTexture;\nfunction clearColor(imageData, color) {\n    var isEmpty = true;\n    var r = color.rgba >>> 24;\n    var g = color.rgba >>> 16 & 0xFF;\n    var b = color.rgba >>> 8 & 0xFF;\n    for (var offset = 0; offset < imageData.data.length; offset += 4) {\n        if (imageData.data[offset] === r &&\n            imageData.data[offset + 1] === g &&\n            imageData.data[offset + 2] === b) {\n            imageData.data[offset + 3] = 0;\n        }\n        else {\n            isEmpty = false;\n        }\n    }\n    return isEmpty;\n}\nexports.clearColor = clearColor;\nfunction getFont(fontWeight, config) {\n    return fontWeight + \" \" + config.fontSize * config.devicePixelRatio + \"px \" + config.fontFamily;\n}\n//# sourceMappingURL=CharAtlasGenerator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CompositionHelper = (function () {\n    function CompositionHelper(_textarea, _compositionView, _terminal) {\n        this._textarea = _textarea;\n        this._compositionView = _compositionView;\n        this._terminal = _terminal;\n        this._isComposing = false;\n        this._isSendingComposition = false;\n        this._compositionPosition = { start: null, end: null };\n    }\n    CompositionHelper.prototype.compositionstart = function () {\n        this._isComposing = true;\n        this._compositionPosition.start = this._textarea.value.length;\n        this._compositionView.textContent = '';\n        this._compositionView.classList.add('active');\n    };\n    CompositionHelper.prototype.compositionupdate = function (ev) {\n        var _this = this;\n        this._compositionView.textContent = ev.data;\n        this.updateCompositionElements();\n        setTimeout(function () {\n            _this._compositionPosition.end = _this._textarea.value.length;\n        }, 0);\n    };\n    CompositionHelper.prototype.compositionend = function () {\n        this._finalizeComposition(true);\n    };\n    CompositionHelper.prototype.keydown = function (ev) {\n        if (this._isComposing || this._isSendingComposition) {\n            if (ev.keyCode === 229) {\n                return false;\n            }\n            else if (ev.keyCode === 16 || ev.keyCode === 17 || ev.keyCode === 18) {\n                return false;\n            }\n            this._finalizeComposition(false);\n        }\n        if (ev.keyCode === 229) {\n            this._handleAnyTextareaChanges();\n            return false;\n        }\n        return true;\n    };\n    CompositionHelper.prototype._finalizeComposition = function (waitForPropagation) {\n        var _this = this;\n        this._compositionView.classList.remove('active');\n        this._isComposing = false;\n        this._clearTextareaPosition();\n        if (!waitForPropagation) {\n            this._isSendingComposition = false;\n            var input = this._textarea.value.substring(this._compositionPosition.start, this._compositionPosition.end);\n            this._terminal.handler(input);\n        }\n        else {\n            var currentCompositionPosition_1 = {\n                start: this._compositionPosition.start,\n                end: this._compositionPosition.end\n            };\n            this._isSendingComposition = true;\n            setTimeout(function () {\n                if (_this._isSendingComposition) {\n                    _this._isSendingComposition = false;\n                    var input = void 0;\n                    if (_this._isComposing) {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start, currentCompositionPosition_1.end);\n                    }\n                    else {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start);\n                    }\n                    _this._terminal.handler(input);\n                }\n            }, 0);\n        }\n    };\n    CompositionHelper.prototype._handleAnyTextareaChanges = function () {\n        var _this = this;\n        var oldValue = this._textarea.value;\n        setTimeout(function () {\n            if (!_this._isComposing) {\n                var newValue = _this._textarea.value;\n                var diff = newValue.replace(oldValue, '');\n                if (diff.length > 0) {\n                    _this._terminal.handler(diff);\n                }\n            }\n        }, 0);\n    };\n    CompositionHelper.prototype.updateCompositionElements = function (dontRecurse) {\n        var _this = this;\n        if (!this._isComposing) {\n            return;\n        }\n        if (this._terminal.buffer.isCursorInViewport) {\n            var cellHeight = Math.ceil(this._terminal.charMeasure.height * this._terminal.options.lineHeight);\n            var cursorTop = this._terminal.buffer.y * cellHeight;\n            var cursorLeft = this._terminal.buffer.x * this._terminal.charMeasure.width;\n            this._compositionView.style.left = cursorLeft + 'px';\n            this._compositionView.style.top = cursorTop + 'px';\n            this._compositionView.style.height = cellHeight + 'px';\n            this._compositionView.style.lineHeight = cellHeight + 'px';\n            this._compositionView.style.fontFamily = this._terminal.options.fontFamily;\n            this._compositionView.style.fontSize = this._terminal.options.fontSize + 'px';\n            var compositionViewBounds = this._compositionView.getBoundingClientRect();\n            this._textarea.style.left = cursorLeft + 'px';\n            this._textarea.style.top = cursorTop + 'px';\n            this._textarea.style.width = compositionViewBounds.width + 'px';\n            this._textarea.style.height = compositionViewBounds.height + 'px';\n            this._textarea.style.lineHeight = compositionViewBounds.height + 'px';\n        }\n        if (!dontRecurse) {\n            setTimeout(function () { return _this.updateCompositionElements(true); }, 0);\n        }\n    };\n    CompositionHelper.prototype._clearTextareaPosition = function () {\n        this._textarea.style.left = '';\n        this._textarea.style.top = '';\n    };\n    return CompositionHelper;\n}());\nexports.CompositionHelper = CompositionHelper;\n//# sourceMappingURL=CompositionHelper.js.map","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TypedArrayUtils_1 = require(\"./common/TypedArrayUtils\");\nexports.wcwidth = (function (opts) {\n    var COMBINING_BMP = [\n        [0x0300, 0x036F], [0x0483, 0x0486], [0x0488, 0x0489],\n        [0x0591, 0x05BD], [0x05BF, 0x05BF], [0x05C1, 0x05C2],\n        [0x05C4, 0x05C5], [0x05C7, 0x05C7], [0x0600, 0x0603],\n        [0x0610, 0x0615], [0x064B, 0x065E], [0x0670, 0x0670],\n        [0x06D6, 0x06E4], [0x06E7, 0x06E8], [0x06EA, 0x06ED],\n        [0x070F, 0x070F], [0x0711, 0x0711], [0x0730, 0x074A],\n        [0x07A6, 0x07B0], [0x07EB, 0x07F3], [0x0901, 0x0902],\n        [0x093C, 0x093C], [0x0941, 0x0948], [0x094D, 0x094D],\n        [0x0951, 0x0954], [0x0962, 0x0963], [0x0981, 0x0981],\n        [0x09BC, 0x09BC], [0x09C1, 0x09C4], [0x09CD, 0x09CD],\n        [0x09E2, 0x09E3], [0x0A01, 0x0A02], [0x0A3C, 0x0A3C],\n        [0x0A41, 0x0A42], [0x0A47, 0x0A48], [0x0A4B, 0x0A4D],\n        [0x0A70, 0x0A71], [0x0A81, 0x0A82], [0x0ABC, 0x0ABC],\n        [0x0AC1, 0x0AC5], [0x0AC7, 0x0AC8], [0x0ACD, 0x0ACD],\n        [0x0AE2, 0x0AE3], [0x0B01, 0x0B01], [0x0B3C, 0x0B3C],\n        [0x0B3F, 0x0B3F], [0x0B41, 0x0B43], [0x0B4D, 0x0B4D],\n        [0x0B56, 0x0B56], [0x0B82, 0x0B82], [0x0BC0, 0x0BC0],\n        [0x0BCD, 0x0BCD], [0x0C3E, 0x0C40], [0x0C46, 0x0C48],\n        [0x0C4A, 0x0C4D], [0x0C55, 0x0C56], [0x0CBC, 0x0CBC],\n        [0x0CBF, 0x0CBF], [0x0CC6, 0x0CC6], [0x0CCC, 0x0CCD],\n        [0x0CE2, 0x0CE3], [0x0D41, 0x0D43], [0x0D4D, 0x0D4D],\n        [0x0DCA, 0x0DCA], [0x0DD2, 0x0DD4], [0x0DD6, 0x0DD6],\n        [0x0E31, 0x0E31], [0x0E34, 0x0E3A], [0x0E47, 0x0E4E],\n        [0x0EB1, 0x0EB1], [0x0EB4, 0x0EB9], [0x0EBB, 0x0EBC],\n        [0x0EC8, 0x0ECD], [0x0F18, 0x0F19], [0x0F35, 0x0F35],\n        [0x0F37, 0x0F37], [0x0F39, 0x0F39], [0x0F71, 0x0F7E],\n        [0x0F80, 0x0F84], [0x0F86, 0x0F87], [0x0F90, 0x0F97],\n        [0x0F99, 0x0FBC], [0x0FC6, 0x0FC6], [0x102D, 0x1030],\n        [0x1032, 0x1032], [0x1036, 0x1037], [0x1039, 0x1039],\n        [0x1058, 0x1059], [0x1160, 0x11FF], [0x135F, 0x135F],\n        [0x1712, 0x1714], [0x1732, 0x1734], [0x1752, 0x1753],\n        [0x1772, 0x1773], [0x17B4, 0x17B5], [0x17B7, 0x17BD],\n        [0x17C6, 0x17C6], [0x17C9, 0x17D3], [0x17DD, 0x17DD],\n        [0x180B, 0x180D], [0x18A9, 0x18A9], [0x1920, 0x1922],\n        [0x1927, 0x1928], [0x1932, 0x1932], [0x1939, 0x193B],\n        [0x1A17, 0x1A18], [0x1B00, 0x1B03], [0x1B34, 0x1B34],\n        [0x1B36, 0x1B3A], [0x1B3C, 0x1B3C], [0x1B42, 0x1B42],\n        [0x1B6B, 0x1B73], [0x1DC0, 0x1DCA], [0x1DFE, 0x1DFF],\n        [0x200B, 0x200F], [0x202A, 0x202E], [0x2060, 0x2063],\n        [0x206A, 0x206F], [0x20D0, 0x20EF], [0x302A, 0x302F],\n        [0x3099, 0x309A], [0xA806, 0xA806], [0xA80B, 0xA80B],\n        [0xA825, 0xA826], [0xFB1E, 0xFB1E], [0xFE00, 0xFE0F],\n        [0xFE20, 0xFE23], [0xFEFF, 0xFEFF], [0xFFF9, 0xFFFB]\n    ];\n    var COMBINING_HIGH = [\n        [0x10A01, 0x10A03], [0x10A05, 0x10A06], [0x10A0C, 0x10A0F],\n        [0x10A38, 0x10A3A], [0x10A3F, 0x10A3F], [0x1D167, 0x1D169],\n        [0x1D173, 0x1D182], [0x1D185, 0x1D18B], [0x1D1AA, 0x1D1AD],\n        [0x1D242, 0x1D244], [0xE0001, 0xE0001], [0xE0020, 0xE007F],\n        [0xE0100, 0xE01EF]\n    ];\n    function bisearch(ucs, data) {\n        var min = 0;\n        var max = data.length - 1;\n        var mid;\n        if (ucs < data[0][0] || ucs > data[max][1]) {\n            return false;\n        }\n        while (max >= min) {\n            mid = (min + max) >> 1;\n            if (ucs > data[mid][1]) {\n                min = mid + 1;\n            }\n            else if (ucs < data[mid][0]) {\n                max = mid - 1;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    }\n    function wcwidthHigh(ucs) {\n        if (bisearch(ucs, COMBINING_HIGH)) {\n            return 0;\n        }\n        if ((ucs >= 0x20000 && ucs <= 0x2fffd) || (ucs >= 0x30000 && ucs <= 0x3fffd)) {\n            return 2;\n        }\n        return 1;\n    }\n    var control = opts.control | 0;\n    var table = new Uint8Array(65536);\n    TypedArrayUtils_1.fill(table, 1);\n    table[0] = opts.nul;\n    TypedArrayUtils_1.fill(table, opts.control, 1, 32);\n    TypedArrayUtils_1.fill(table, opts.control, 0x7f, 0xa0);\n    TypedArrayUtils_1.fill(table, 2, 0x1100, 0x1160);\n    table[0x2329] = 2;\n    table[0x232a] = 2;\n    TypedArrayUtils_1.fill(table, 2, 0x2e80, 0xa4d0);\n    table[0x303f] = 1;\n    TypedArrayUtils_1.fill(table, 2, 0xac00, 0xd7a4);\n    TypedArrayUtils_1.fill(table, 2, 0xf900, 0xfb00);\n    TypedArrayUtils_1.fill(table, 2, 0xfe10, 0xfe1a);\n    TypedArrayUtils_1.fill(table, 2, 0xfe30, 0xfe70);\n    TypedArrayUtils_1.fill(table, 2, 0xff00, 0xff61);\n    TypedArrayUtils_1.fill(table, 2, 0xffe0, 0xffe7);\n    for (var r = 0; r < COMBINING_BMP.length; ++r) {\n        TypedArrayUtils_1.fill(table, 0, COMBINING_BMP[r][0], COMBINING_BMP[r][1] + 1);\n    }\n    return function (num) {\n        if (num < 32) {\n            return control | 0;\n        }\n        if (num < 127) {\n            return 1;\n        }\n        if (num < 65536) {\n            return table[num];\n        }\n        return wcwidthHigh(num);\n    };\n})({ nul: 0, control: 0 });\nfunction getStringCellWidth(s) {\n    var result = 0;\n    var length = s.length;\n    for (var i = 0; i < length; ++i) {\n        var code = s.charCodeAt(i);\n        if (0xD800 <= code && code <= 0xDBFF) {\n            if (++i >= length) {\n                return result + exports.wcwidth(code);\n            }\n            var second = s.charCodeAt(i);\n            if (0xDC00 <= second && second <= 0xDFFF) {\n                code = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n            }\n            else {\n                result += exports.wcwidth(second);\n            }\n        }\n        result += exports.wcwidth(code);\n    }\n    return result;\n}\nexports.getStringCellWidth = getStringCellWidth;\n//# sourceMappingURL=CharWidth.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHARSETS = {};\nexports.DEFAULT_CHARSET = exports.CHARSETS['B'];\nexports.CHARSETS['0'] = {\n    '`': '\\u25c6',\n    'a': '\\u2592',\n    'b': '\\u0009',\n    'c': '\\u000c',\n    'd': '\\u000d',\n    'e': '\\u000a',\n    'f': '\\u00b0',\n    'g': '\\u00b1',\n    'h': '\\u2424',\n    'i': '\\u000b',\n    'j': '\\u2518',\n    'k': '\\u2510',\n    'l': '\\u250c',\n    'm': '\\u2514',\n    'n': '\\u253c',\n    'o': '\\u23ba',\n    'p': '\\u23bb',\n    'q': '\\u2500',\n    'r': '\\u23bc',\n    's': '\\u23bd',\n    't': '\\u251c',\n    'u': '\\u2524',\n    'v': '\\u2534',\n    'w': '\\u252c',\n    'x': '\\u2502',\n    'y': '\\u2264',\n    'z': '\\u2265',\n    '{': '\\u03c0',\n    '|': '\\u2260',\n    '}': '\\u00a3',\n    '~': '\\u00b7'\n};\nexports.CHARSETS['A'] = {\n    '#': ''\n};\nexports.CHARSETS['B'] = null;\nexports.CHARSETS['4'] = {\n    '#': '',\n    '@': '',\n    '[': 'ij',\n    '\\\\': '',\n    ']': '|',\n    '{': '',\n    '|': 'f',\n    '}': '',\n    '~': ''\n};\nexports.CHARSETS['C'] =\n    exports.CHARSETS['5'] = {\n        '[': '',\n        '\\\\': '',\n        ']': '',\n        '^': '',\n        '`': '',\n        '{': '',\n        '|': '',\n        '}': '',\n        '~': ''\n    };\nexports.CHARSETS['R'] = {\n    '#': '',\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '{': '',\n    '|': '',\n    '}': '',\n    '~': ''\n};\nexports.CHARSETS['Q'] = {\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '^': '',\n    '`': '',\n    '{': '',\n    '|': '',\n    '}': '',\n    '~': ''\n};\nexports.CHARSETS['K'] = {\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '{': '',\n    '|': '',\n    '}': '',\n    '~': ''\n};\nexports.CHARSETS['Y'] = {\n    '#': '',\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '`': '',\n    '{': '',\n    '|': '',\n    '}': '',\n    '~': ''\n};\nexports.CHARSETS['E'] =\n    exports.CHARSETS['6'] = {\n        '@': '',\n        '[': '',\n        '\\\\': '',\n        ']': '',\n        '^': '',\n        '`': '',\n        '{': '',\n        '|': '',\n        '}': '',\n        '~': ''\n    };\nexports.CHARSETS['Z'] = {\n    '#': '',\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '{': '',\n    '|': '',\n    '}': ''\n};\nexports.CHARSETS['H'] =\n    exports.CHARSETS['7'] = {\n        '@': '',\n        '[': '',\n        '\\\\': '',\n        ']': '',\n        '^': '',\n        '`': '',\n        '{': '',\n        '|': '',\n        '}': '',\n        '~': ''\n    };\nexports.CHARSETS['='] = {\n    '#': '',\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '^': '',\n    '_': '',\n    '`': '',\n    '{': '',\n    '|': '',\n    '}': '',\n    '~': ''\n};\n//# sourceMappingURL=Charsets.js.map","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferSet_1 = require(\"./BufferSet\");\nvar Buffer_1 = require(\"./Buffer\");\nvar CompositionHelper_1 = require(\"./CompositionHelper\");\nvar EventEmitter_1 = require(\"./common/EventEmitter\");\nvar Viewport_1 = require(\"./Viewport\");\nvar Clipboard_1 = require(\"./Clipboard\");\nvar EscapeSequences_1 = require(\"./common/data/EscapeSequences\");\nvar InputHandler_1 = require(\"./InputHandler\");\nvar Renderer_1 = require(\"./renderer/Renderer\");\nvar Linkifier_1 = require(\"./Linkifier\");\nvar SelectionManager_1 = require(\"./SelectionManager\");\nvar CharMeasure_1 = require(\"./CharMeasure\");\nvar Browser = require(\"./common/Platform\");\nvar Lifecycle_1 = require(\"./ui/Lifecycle\");\nvar Strings = require(\"./Strings\");\nvar MouseHelper_1 = require(\"./MouseHelper\");\nvar SoundManager_1 = require(\"./SoundManager\");\nvar MouseZoneManager_1 = require(\"./MouseZoneManager\");\nvar AccessibilityManager_1 = require(\"./AccessibilityManager\");\nvar CharAtlasCache_1 = require(\"./renderer/atlas/CharAtlasCache\");\nvar DomRenderer_1 = require(\"./renderer/dom/DomRenderer\");\nvar Keyboard_1 = require(\"./core/input/Keyboard\");\nvar Clone_1 = require(\"./common/Clone\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar WindowsMode_1 = require(\"./WindowsMode\");\nvar ColorManager_1 = require(\"./ui/ColorManager\");\nvar RenderCoordinator_1 = require(\"./renderer/RenderCoordinator\");\nvar document = (typeof window !== 'undefined') ? window.document : null;\nvar WRITE_BUFFER_PAUSE_THRESHOLD = 5;\nvar WRITE_TIMEOUT_MS = 12;\nvar WRITE_BUFFER_LENGTH_THRESHOLD = 50;\nvar MINIMUM_COLS = 2;\nvar MINIMUM_ROWS = 1;\nvar CONSTRUCTOR_ONLY_OPTIONS = ['cols', 'rows'];\nvar DEFAULT_OPTIONS = {\n    cols: 80,\n    rows: 24,\n    convertEol: false,\n    termName: 'xterm',\n    cursorBlink: false,\n    cursorStyle: 'block',\n    bellSound: SoundManager_1.DEFAULT_BELL_SOUND,\n    bellStyle: 'none',\n    drawBoldTextInBrightColors: true,\n    enableBold: true,\n    experimentalCharAtlas: 'static',\n    fontFamily: 'courier-new, courier, monospace',\n    fontSize: 15,\n    fontWeight: 'normal',\n    fontWeightBold: 'bold',\n    lineHeight: 1.0,\n    letterSpacing: 0,\n    scrollback: 1000,\n    screenKeys: false,\n    screenReaderMode: false,\n    debug: false,\n    macOptionIsMeta: false,\n    macOptionClickForcesSelection: false,\n    cancelEvents: false,\n    disableStdin: false,\n    useFlowControl: false,\n    allowTransparency: false,\n    tabStopWidth: 8,\n    theme: undefined,\n    rightClickSelectsWord: Browser.isMac,\n    rendererType: 'canvas',\n    windowsMode: false\n};\nvar Terminal = (function (_super) {\n    __extends(Terminal, _super);\n    function Terminal(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this) || this;\n        _this.browser = Browser;\n        _this._blankLine = null;\n        _this._onCursorMove = new EventEmitter2_1.EventEmitter2();\n        _this._onData = new EventEmitter2_1.EventEmitter2();\n        _this._onKey = new EventEmitter2_1.EventEmitter2();\n        _this._onLineFeed = new EventEmitter2_1.EventEmitter2();\n        _this._onRender = new EventEmitter2_1.EventEmitter2();\n        _this._onResize = new EventEmitter2_1.EventEmitter2();\n        _this._onScroll = new EventEmitter2_1.EventEmitter2();\n        _this._onSelectionChange = new EventEmitter2_1.EventEmitter2();\n        _this._onTitleChange = new EventEmitter2_1.EventEmitter2();\n        _this.options = Clone_1.clone(options);\n        _this._setup();\n        _this.onCursorMove(function () { return _this.emit('cursormove'); });\n        _this.onData(function (e) { return _this.emit('data', e); });\n        _this.onKey(function (e) { return _this.emit('key', e.key, e.domEvent); });\n        _this.onLineFeed(function () { return _this.emit('linefeed'); });\n        _this.onRender(function (e) { return _this.emit('refresh', e); });\n        _this.onResize(function (e) { return _this.emit('resize', e); });\n        _this.onSelectionChange(function () { return _this.emit('selection'); });\n        _this.onScroll(function (e) { return _this.emit('scroll', e); });\n        _this.onTitleChange(function (e) { return _this.emit('title', e); });\n        return _this;\n    }\n    Object.defineProperty(Terminal.prototype, \"onCursorMove\", {\n        get: function () { return this._onCursorMove.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onData\", {\n        get: function () { return this._onData.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onKey\", {\n        get: function () { return this._onKey.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onLineFeed\", {\n        get: function () { return this._onLineFeed.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onRender\", {\n        get: function () { return this._onRender.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onResize\", {\n        get: function () { return this._onResize.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onScroll\", {\n        get: function () { return this._onScroll.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onSelectionChange\", {\n        get: function () { return this._onSelectionChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onTitleChange\", {\n        get: function () { return this._onTitleChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        if (this._windowsMode) {\n            this._windowsMode.dispose();\n            this._windowsMode = undefined;\n        }\n        this._customKeyEventHandler = null;\n        CharAtlasCache_1.removeTerminalFromCache(this);\n        this.handler = function () { };\n        this.write = function () { };\n        if (this.element && this.element.parentNode) {\n            this.element.parentNode.removeChild(this.element);\n        }\n    };\n    Terminal.prototype.destroy = function () {\n        this.dispose();\n    };\n    Terminal.prototype._setup = function () {\n        var _this = this;\n        Object.keys(DEFAULT_OPTIONS).forEach(function (key) {\n            if (_this.options[key] === null || _this.options[key] === undefined) {\n                _this.options[key] = DEFAULT_OPTIONS[key];\n            }\n        });\n        this._parent = document ? document.body : null;\n        this.cols = Math.max(this.options.cols, MINIMUM_COLS);\n        this.rows = Math.max(this.options.rows, MINIMUM_ROWS);\n        if (this.options.handler) {\n            this.onData(this.options.handler);\n        }\n        this.cursorState = 0;\n        this.cursorHidden = false;\n        this._customKeyEventHandler = null;\n        this.applicationKeypad = false;\n        this.applicationCursor = false;\n        this.originMode = false;\n        this.insertMode = false;\n        this.wraparoundMode = true;\n        this.bracketedPasteMode = false;\n        this.charset = null;\n        this.gcharset = null;\n        this.glevel = 0;\n        this.charsets = [null];\n        this.curAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n        this._eraseAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n        this.params = [];\n        this.currentParam = 0;\n        this.writeBuffer = [];\n        this.writeBufferUtf8 = [];\n        this._writeInProgress = false;\n        this._xoffSentToCatchUp = false;\n        this._userScrolling = false;\n        this._inputHandler = new InputHandler_1.InputHandler(this);\n        this._inputHandler.onCursorMove(function () { return _this._onCursorMove.fire(); });\n        this._inputHandler.onLineFeed(function () { return _this._onLineFeed.fire(); });\n        this._inputHandler.onData(function (e) { return _this._onData.fire(e); });\n        this.register(this._inputHandler);\n        this.selectionManager = this.selectionManager || null;\n        this.linkifier = this.linkifier || new Linkifier_1.Linkifier(this);\n        this._mouseZoneManager = this._mouseZoneManager || null;\n        this.soundManager = this.soundManager || new SoundManager_1.SoundManager(this);\n        this.buffers = new BufferSet_1.BufferSet(this);\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n            this.selectionManager.initBuffersListeners();\n        }\n        if (this.options.windowsMode) {\n            this._windowsMode = WindowsMode_1.applyWindowsMode(this);\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"buffer\", {\n        get: function () {\n            return this.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.eraseAttrData = function () {\n        this._eraseAttrData.bg &= ~(50331648 | 0xFFFFFF);\n        this._eraseAttrData.bg |= this.curAttrData.bg & ~0xFC000000;\n        return this._eraseAttrData;\n    };\n    Terminal.prototype.focus = function () {\n        if (this.textarea) {\n            this.textarea.focus({ preventScroll: true });\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"isFocused\", {\n        get: function () {\n            return document.activeElement === this.textarea && document.hasFocus();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.getOption = function (key) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        return this.options[key];\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        if (CONSTRUCTOR_ONLY_OPTIONS.indexOf(key) !== -1) {\n            console.error(\"Option \\\"\" + key + \"\\\" can only be set in the constructor\");\n        }\n        if (this.options[key] === value) {\n            return;\n        }\n        switch (key) {\n            case 'bellStyle':\n                if (!value) {\n                    value = 'none';\n                }\n                break;\n            case 'cursorStyle':\n                if (!value) {\n                    value = 'block';\n                }\n                break;\n            case 'fontWeight':\n                if (!value) {\n                    value = 'normal';\n                }\n                break;\n            case 'fontWeightBold':\n                if (!value) {\n                    value = 'bold';\n                }\n                break;\n            case 'lineHeight':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n            case 'rendererType':\n                if (!value) {\n                    value = 'canvas';\n                }\n                break;\n            case 'tabStopWidth':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n                break;\n            case 'theme':\n                this._setTheme(value);\n                break;\n            case 'scrollback':\n                value = Math.min(value, Buffer_1.MAX_BUFFER_SIZE);\n                if (value < 0) {\n                    console.warn(key + \" cannot be less than 0, value: \" + value);\n                    return;\n                }\n                if (this.options[key] !== value) {\n                    var newBufferLength = this.rows + value;\n                    if (this.buffer.lines.length > newBufferLength) {\n                        var amountToTrim = this.buffer.lines.length - newBufferLength;\n                        var needsRefresh = (this.buffer.ydisp - amountToTrim < 0);\n                        this.buffer.lines.trimStart(amountToTrim);\n                        this.buffer.ybase = Math.max(this.buffer.ybase - amountToTrim, 0);\n                        this.buffer.ydisp = Math.max(this.buffer.ydisp - amountToTrim, 0);\n                        if (needsRefresh) {\n                            this.refresh(0, this.rows - 1);\n                        }\n                    }\n                }\n                break;\n        }\n        this.options[key] = value;\n        switch (key) {\n            case 'fontFamily':\n            case 'fontSize':\n                if (this._renderCoordinator) {\n                    this._renderCoordinator.clear();\n                    this.charMeasure.measure(this.options);\n                }\n                break;\n            case 'drawBoldTextInBrightColors':\n            case 'experimentalCharAtlas':\n            case 'enableBold':\n            case 'letterSpacing':\n            case 'lineHeight':\n            case 'fontWeight':\n            case 'fontWeightBold':\n                if (this._renderCoordinator) {\n                    this._renderCoordinator.clear();\n                    this._renderCoordinator.onResize(this.cols, this.rows);\n                    this.refresh(0, this.rows - 1);\n                }\n                break;\n            case 'rendererType':\n                if (this._renderCoordinator) {\n                    this._renderCoordinator.setRenderer(this._createRenderer());\n                }\n                break;\n            case 'scrollback':\n                this.buffers.resize(this.cols, this.rows);\n                if (this.viewport) {\n                    this.viewport.syncScrollArea();\n                }\n                break;\n            case 'screenReaderMode':\n                if (value) {\n                    if (!this._accessibilityManager && this._renderCoordinator) {\n                        this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this, this._renderCoordinator.dimensions);\n                    }\n                }\n                else {\n                    if (this._accessibilityManager) {\n                        this._accessibilityManager.dispose();\n                        this._accessibilityManager = null;\n                    }\n                }\n                break;\n            case 'tabStopWidth':\n                this.buffers.setupTabStops();\n                break;\n            case 'windowsMode':\n                if (value) {\n                    if (!this._windowsMode) {\n                        this._windowsMode = WindowsMode_1.applyWindowsMode(this);\n                    }\n                }\n                else {\n                    if (this._windowsMode) {\n                        this._windowsMode.dispose();\n                        this._windowsMode = undefined;\n                    }\n                }\n                break;\n        }\n        if (this._renderCoordinator) {\n            this._renderCoordinator.onOptionsChanged();\n        }\n    };\n    Terminal.prototype._onTextAreaFocus = function (ev) {\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[I');\n        }\n        this.updateCursorStyle(ev);\n        this.element.classList.add('focus');\n        this.showCursor();\n        this.emit('focus');\n    };\n    Terminal.prototype.blur = function () {\n        return this.textarea.blur();\n    };\n    Terminal.prototype._onTextAreaBlur = function () {\n        this.textarea.value = '';\n        this.refresh(this.buffer.y, this.buffer.y);\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[O');\n        }\n        this.element.classList.remove('focus');\n        this.emit('blur');\n    };\n    Terminal.prototype._initGlobal = function () {\n        var _this = this;\n        this._bindKeys();\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'copy', function (event) {\n            if (!_this.hasSelection()) {\n                return;\n            }\n            Clipboard_1.copyHandler(event, _this, _this.selectionManager);\n        }));\n        var pasteHandlerWrapper = function (event) { return Clipboard_1.pasteHandler(event, _this); };\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'paste', pasteHandlerWrapper));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'paste', pasteHandlerWrapper));\n        if (Browser.isFirefox) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (event) {\n                if (event.button === 2) {\n                    Clipboard_1.rightClickHandler(event, _this, _this.selectionManager, _this.options.rightClickSelectsWord);\n                }\n            }));\n        }\n        else {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'contextmenu', function (event) {\n                Clipboard_1.rightClickHandler(event, _this, _this.selectionManager, _this.options.rightClickSelectsWord);\n            }));\n        }\n        if (Browser.isLinux) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'auxclick', function (event) {\n                if (event.button === 1) {\n                    Clipboard_1.moveTextAreaUnderMouseCursor(event, _this);\n                }\n            }));\n        }\n    };\n    Terminal.prototype._bindKeys = function () {\n        var _this = this;\n        var self = this;\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keydown', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyDown(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keypress', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyPress(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keyup', function (ev) {\n            if (!wasModifierKeyOnlyEvent(ev)) {\n                _this.focus();\n            }\n            self._keyUp(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keydown', function (ev) { return _this._keyDown(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keypress', function (ev) { return _this._keyPress(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionstart', function () { return _this._compositionHelper.compositionstart(); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionupdate', function (e) { return _this._compositionHelper.compositionupdate(e); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionend', function () { return _this._compositionHelper.compositionend(); }));\n        this.register(this.onRender(function () { return _this._compositionHelper.updateCompositionElements(); }));\n        this.register(this.onRender(function (e) { return _this._queueLinkification(e.start, e.end); }));\n    };\n    Terminal.prototype.open = function (parent) {\n        var _this = this;\n        this._parent = parent || this._parent;\n        if (!this._parent) {\n            throw new Error('Terminal requires a parent element.');\n        }\n        this._context = this._parent.ownerDocument.defaultView;\n        this._document = this._parent.ownerDocument;\n        this.element = this._document.createElement('div');\n        this.element.dir = 'ltr';\n        this.element.classList.add('terminal');\n        this.element.classList.add('xterm');\n        this.element.setAttribute('tabindex', '0');\n        this._parent.appendChild(this.element);\n        var fragment = document.createDocumentFragment();\n        this._viewportElement = document.createElement('div');\n        this._viewportElement.classList.add('xterm-viewport');\n        fragment.appendChild(this._viewportElement);\n        this._viewportScrollArea = document.createElement('div');\n        this._viewportScrollArea.classList.add('xterm-scroll-area');\n        this._viewportElement.appendChild(this._viewportScrollArea);\n        this.screenElement = document.createElement('div');\n        this.screenElement.classList.add('xterm-screen');\n        this._helperContainer = document.createElement('div');\n        this._helperContainer.classList.add('xterm-helpers');\n        this.screenElement.appendChild(this._helperContainer);\n        fragment.appendChild(this.screenElement);\n        this._mouseZoneManager = new MouseZoneManager_1.MouseZoneManager(this);\n        this.register(this._mouseZoneManager);\n        this.register(this.onScroll(function () { return _this._mouseZoneManager.clearAll(); }));\n        this.linkifier.attachToDom(this._mouseZoneManager);\n        this.textarea = document.createElement('textarea');\n        this.textarea.classList.add('xterm-helper-textarea');\n        this.textarea.setAttribute('aria-label', Strings.promptLabel);\n        this.textarea.setAttribute('aria-multiline', 'false');\n        this.textarea.setAttribute('autocorrect', 'off');\n        this.textarea.setAttribute('autocapitalize', 'off');\n        this.textarea.setAttribute('spellcheck', 'false');\n        this.textarea.tabIndex = 0;\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'focus', function (ev) { return _this._onTextAreaFocus(ev); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'blur', function () { return _this._onTextAreaBlur(); }));\n        this._helperContainer.appendChild(this.textarea);\n        this._compositionView = document.createElement('div');\n        this._compositionView.classList.add('composition-view');\n        this._compositionHelper = new CompositionHelper_1.CompositionHelper(this.textarea, this._compositionView, this);\n        this._helperContainer.appendChild(this._compositionView);\n        this.charMeasure = new CharMeasure_1.CharMeasure(document, this._helperContainer);\n        this.element.appendChild(fragment);\n        this._theme = this.options.theme;\n        this._colorManager = new ColorManager_1.ColorManager(document, this.options.allowTransparency);\n        this._colorManager.setTheme(this._theme);\n        var renderer = this._createRenderer();\n        this._renderCoordinator = new RenderCoordinator_1.RenderCoordinator(renderer, this.rows, this.screenElement);\n        this._renderCoordinator.onRender(function (e) { return _this._onRender.fire(e); });\n        this.onResize(function (e) { return _this._renderCoordinator.resize(e.cols, e.rows); });\n        this.viewport = new Viewport_1.Viewport(this, this._viewportElement, this._viewportScrollArea, this.charMeasure, this._renderCoordinator.dimensions);\n        this.viewport.onThemeChange(this._colorManager.colors);\n        this.register(this.viewport);\n        this.register(this.onCursorMove(function () { return _this._renderCoordinator.onCursorMove(); }));\n        this.register(this.onResize(function () { return _this._renderCoordinator.onResize(_this.cols, _this.rows); }));\n        this.register(this.addDisposableListener('blur', function () { return _this._renderCoordinator.onBlur(); }));\n        this.register(this.addDisposableListener('focus', function () { return _this._renderCoordinator.onFocus(); }));\n        this.register(this.charMeasure.onCharSizeChanged(function () { return _this._renderCoordinator.onCharSizeChanged(); }));\n        this.register(this._renderCoordinator.onDimensionsChange(function () { return _this.viewport.syncScrollArea(); }));\n        this.selectionManager = new SelectionManager_1.SelectionManager(this, this.charMeasure);\n        this.register(this.selectionManager.onSelectionChange(function () { return _this._onSelectionChange.fire(); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (e) { return _this.selectionManager.onMouseDown(e); }));\n        this.register(this.selectionManager.onRedrawRequest(function (e) { return _this._renderCoordinator.onSelectionChanged(e.start, e.end, e.columnSelectMode); }));\n        this.register(this.selectionManager.onLinuxMouseSelection(function (text) {\n            _this.textarea.value = text;\n            _this.textarea.focus();\n            _this.textarea.select();\n        }));\n        this.register(this.onScroll(function () {\n            _this.viewport.syncScrollArea();\n            _this.selectionManager.refresh();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(this._viewportElement, 'scroll', function () { return _this.selectionManager.refresh(); }));\n        this.mouseHelper = new MouseHelper_1.MouseHelper(this._renderCoordinator);\n        this.element.classList.toggle('enable-mouse-events', this.mouseEvents);\n        if (this.mouseEvents) {\n            this.selectionManager.disable();\n        }\n        else {\n            this.selectionManager.enable();\n        }\n        if (this.options.screenReaderMode) {\n            this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this, this._renderCoordinator.dimensions);\n            this._accessibilityManager.register(this._renderCoordinator.onDimensionsChange(function (e) { return _this._accessibilityManager.setDimensions(e); }));\n        }\n        this.charMeasure.measure(this.options);\n        this.refresh(0, this.rows - 1);\n        this._initGlobal();\n        this.bindMouse();\n    };\n    Terminal.prototype._createRenderer = function () {\n        switch (this.options.rendererType) {\n            case 'canvas':\n                return new Renderer_1.Renderer(this, this._colorManager.colors);\n                break;\n            case 'dom':\n                return new DomRenderer_1.DomRenderer(this, this._colorManager.colors);\n                break;\n            default: throw new Error(\"Unrecognized rendererType \\\"\" + this.options.rendererType + \"\\\"\");\n        }\n    };\n    Terminal.prototype._setTheme = function (theme) {\n        this._theme = theme;\n        if (this._colorManager) {\n            this._colorManager.setTheme(theme);\n        }\n        if (this._renderCoordinator) {\n            this._renderCoordinator.setColors(this._colorManager.colors);\n        }\n        if (this.viewport) {\n            this.viewport.onThemeChange(this._colorManager.colors);\n        }\n    };\n    Terminal.prototype.bindMouse = function () {\n        var _this = this;\n        var el = this.element;\n        var self = this;\n        var pressed = 32;\n        function sendButton(ev) {\n            var button;\n            var pos;\n            button = getButton(ev);\n            pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            sendEvent(button, pos);\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    pressed = button;\n                    break;\n                case 'mouseup':\n                    pressed = 32;\n                    break;\n                case 'wheel':\n                    break;\n            }\n        }\n        function sendMove(ev) {\n            var button = pressed;\n            var pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            button += 32;\n            sendEvent(button, pos);\n        }\n        function encode(data, ch) {\n            if (!self.utfMouse) {\n                if (ch === 255) {\n                    data.push(0);\n                    return;\n                }\n                if (ch > 127)\n                    ch = 127;\n                data.push(ch);\n            }\n            else {\n                if (ch > 2047) {\n                    data.push(2047);\n                    return;\n                }\n                data.push(ch);\n            }\n        }\n        function sendEvent(button, pos) {\n            if (self._vt300Mouse) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                var data_1 = EscapeSequences_1.C0.ESC + '[24';\n                if (button === 0)\n                    data_1 += '1';\n                else if (button === 1)\n                    data_1 += '3';\n                else if (button === 2)\n                    data_1 += '5';\n                else if (button === 3)\n                    return;\n                else\n                    data_1 += '0';\n                data_1 += '~[' + pos.x + ',' + pos.y + ']\\r';\n                self.handler(data_1);\n                return;\n            }\n            if (self._decLocator) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                if (button === 0)\n                    button = 2;\n                else if (button === 1)\n                    button = 4;\n                else if (button === 2)\n                    button = 6;\n                else if (button === 3)\n                    button = 3;\n                self.handler(EscapeSequences_1.C0.ESC + '['\n                    + button\n                    + ';'\n                    + (button === 3 ? 4 : 0)\n                    + ';'\n                    + pos.y\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.page || 0\n                    + '&w');\n                return;\n            }\n            if (self.urxvtMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                pos.x++;\n                pos.y++;\n                self.handler(EscapeSequences_1.C0.ESC + '[' + button + ';' + pos.x + ';' + pos.y + 'M');\n                return;\n            }\n            if (self.sgrMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                self.handler(EscapeSequences_1.C0.ESC + '[<'\n                    + (((button & 3) === 3 ? button & ~3 : button) - 32)\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.y\n                    + ((button & 3) === 3 ? 'm' : 'M'));\n                return;\n            }\n            var data = [];\n            encode(data, button);\n            encode(data, pos.x);\n            encode(data, pos.y);\n            self.handler(EscapeSequences_1.C0.ESC + '[M' + String.fromCharCode.apply(String, data));\n        }\n        function getButton(ev) {\n            var button;\n            var shift;\n            var meta;\n            var ctrl;\n            var mod;\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    button = ev.button !== null && ev.button !== undefined\n                        ? +ev.button\n                        : ev.which !== null && ev.which !== undefined\n                            ? ev.which - 1\n                            : null;\n                    if (Browser.isMSIE) {\n                        button = button === 1 ? 0 : button === 4 ? 1 : button;\n                    }\n                    break;\n                case 'mouseup':\n                    button = 3;\n                    break;\n                case 'DOMMouseScroll':\n                    button = ev.detail < 0\n                        ? 64\n                        : 65;\n                    break;\n                case 'wheel':\n                    button = ev.deltaY < 0\n                        ? 64\n                        : 65;\n                    break;\n            }\n            shift = ev.shiftKey ? 4 : 0;\n            meta = ev.metaKey ? 8 : 0;\n            ctrl = ev.ctrlKey ? 16 : 0;\n            mod = shift | meta | ctrl;\n            if (self.vt200Mouse) {\n                mod &= ctrl;\n            }\n            else if (!self.normalMouse) {\n                mod = 0;\n            }\n            button = (32 + (mod << 2)) + button;\n            return button;\n        }\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'mousedown', function (ev) {\n            ev.preventDefault();\n            _this.focus();\n            if (!_this.mouseEvents || _this.selectionManager.shouldForceSelection(ev)) {\n                return;\n            }\n            sendButton(ev);\n            if (_this.vt200Mouse) {\n                ev.overrideType = 'mouseup';\n                sendButton(ev);\n                return _this.cancel(ev);\n            }\n            var moveHandler;\n            if (_this.normalMouse) {\n                moveHandler = function (event) {\n                    if (!_this.normalMouse) {\n                        return;\n                    }\n                    sendMove(event);\n                };\n                _this._document.addEventListener('mousemove', moveHandler);\n            }\n            var handler = function (ev) {\n                if (_this.normalMouse && !_this.x10Mouse) {\n                    sendButton(ev);\n                }\n                if (moveHandler) {\n                    _this._document.removeEventListener('mousemove', moveHandler);\n                    moveHandler = null;\n                }\n                _this._document.removeEventListener('mouseup', handler);\n                return _this.cancel(ev);\n            };\n            _this._document.addEventListener('mouseup', handler);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (!_this.mouseEvents) {\n                if (!_this.buffer.hasScrollback) {\n                    var amount = _this.viewport.getLinesScrolled(ev);\n                    if (amount === 0) {\n                        return;\n                    }\n                    var sequence = EscapeSequences_1.C0.ESC + (_this.applicationCursor ? 'O' : '[') + (ev.deltaY < 0 ? 'A' : 'B');\n                    var data = '';\n                    for (var i = 0; i < Math.abs(amount); i++) {\n                        data += sequence;\n                    }\n                    _this.handler(data);\n                }\n                return;\n            }\n            if (_this.x10Mouse || _this._vt300Mouse || _this._decLocator)\n                return;\n            sendButton(ev);\n            ev.preventDefault();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onWheel(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchstart', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchStart(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchmove', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchMove(ev);\n            return _this.cancel(ev);\n        }));\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        if (this._renderCoordinator) {\n            this._renderCoordinator.refreshRows(start, end);\n        }\n    };\n    Terminal.prototype._queueLinkification = function (start, end) {\n        if (this.linkifier) {\n            this.linkifier.linkifyRows(start, end);\n        }\n    };\n    Terminal.prototype.updateCursorStyle = function (ev) {\n        if (this.selectionManager && this.selectionManager.shouldColumnSelect(ev)) {\n            this.element.classList.add('column-select');\n        }\n        else {\n            this.element.classList.remove('column-select');\n        }\n    };\n    Terminal.prototype.showCursor = function () {\n        if (!this.cursorState) {\n            this.cursorState = 1;\n            this.refresh(this.buffer.y, this.buffer.y);\n        }\n    };\n    Terminal.prototype.scroll = function (isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        var newLine;\n        newLine = this._blankLine;\n        var eraseAttr = this.eraseAttrData();\n        if (!newLine || newLine.length !== this.cols || newLine.getFg(0) !== eraseAttr.fg || newLine.getBg(0) !== eraseAttr.bg) {\n            newLine = this.buffer.getBlankLine(eraseAttr, isWrapped);\n            this._blankLine = newLine;\n        }\n        newLine.isWrapped = isWrapped;\n        var topRow = this.buffer.ybase + this.buffer.scrollTop;\n        var bottomRow = this.buffer.ybase + this.buffer.scrollBottom;\n        if (this.buffer.scrollTop === 0) {\n            var willBufferBeTrimmed = this.buffer.lines.isFull;\n            if (bottomRow === this.buffer.lines.length - 1) {\n                if (willBufferBeTrimmed) {\n                    this.buffer.lines.recycle().copyFrom(newLine);\n                }\n                else {\n                    this.buffer.lines.push(newLine.clone());\n                }\n            }\n            else {\n                this.buffer.lines.splice(bottomRow + 1, 0, newLine.clone());\n            }\n            if (!willBufferBeTrimmed) {\n                this.buffer.ybase++;\n                if (!this._userScrolling) {\n                    this.buffer.ydisp++;\n                }\n            }\n            else {\n                if (this._userScrolling) {\n                    this.buffer.ydisp = Math.max(this.buffer.ydisp - 1, 0);\n                }\n            }\n        }\n        else {\n            var scrollRegionHeight = bottomRow - topRow + 1;\n            this.buffer.lines.shiftElements(topRow + 1, scrollRegionHeight - 1, -1);\n            this.buffer.lines.set(bottomRow, newLine.clone());\n        }\n        if (!this._userScrolling) {\n            this.buffer.ydisp = this.buffer.ybase;\n        }\n        this.updateRange(this.buffer.scrollTop);\n        this.updateRange(this.buffer.scrollBottom);\n        this._onScroll.fire(this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollLines = function (disp, suppressScrollEvent) {\n        if (disp < 0) {\n            if (this.buffer.ydisp === 0) {\n                return;\n            }\n            this._userScrolling = true;\n        }\n        else if (disp + this.buffer.ydisp >= this.buffer.ybase) {\n            this._userScrolling = false;\n        }\n        var oldYdisp = this.buffer.ydisp;\n        this.buffer.ydisp = Math.max(Math.min(this.buffer.ydisp + disp, this.buffer.ybase), 0);\n        if (oldYdisp === this.buffer.ydisp) {\n            return;\n        }\n        if (!suppressScrollEvent) {\n            this._onScroll.fire(this.buffer.ydisp);\n        }\n        this.refresh(0, this.rows - 1);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this.scrollLines(pageCount * (this.rows - 1));\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this.scrollLines(-this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this.scrollLines(this.buffer.ybase - this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        var scrollAmount = line - this.buffer.ydisp;\n        if (scrollAmount !== 0) {\n            this.scrollLines(scrollAmount);\n        }\n    };\n    Terminal.prototype.writeUtf8 = function (data) {\n        var _this = this;\n        if (this._isDisposed) {\n            return;\n        }\n        if (!data) {\n            return;\n        }\n        this.writeBufferUtf8.push(data);\n        if (this.options.useFlowControl && !this._xoffSentToCatchUp && this.writeBufferUtf8.length >= WRITE_BUFFER_PAUSE_THRESHOLD) {\n            this.handler(EscapeSequences_1.C0.DC3);\n            this._xoffSentToCatchUp = true;\n        }\n        if (!this._writeInProgress && this.writeBufferUtf8.length > 0) {\n            this._writeInProgress = true;\n            setTimeout(function () {\n                _this._innerWriteUtf8();\n            });\n        }\n    };\n    Terminal.prototype._innerWriteUtf8 = function (bufferOffset) {\n        var _this = this;\n        if (bufferOffset === void 0) { bufferOffset = 0; }\n        if (this._isDisposed) {\n            this.writeBufferUtf8 = [];\n        }\n        var startTime = Date.now();\n        while (this.writeBufferUtf8.length > bufferOffset) {\n            var data = this.writeBufferUtf8[bufferOffset];\n            bufferOffset++;\n            if (this._xoffSentToCatchUp && this.writeBufferUtf8.length === bufferOffset) {\n                this.handler(EscapeSequences_1.C0.DC1);\n                this._xoffSentToCatchUp = false;\n            }\n            this._refreshStart = this.buffer.y;\n            this._refreshEnd = this.buffer.y;\n            this._inputHandler.parseUtf8(data);\n            this.updateRange(this.buffer.y);\n            this.refresh(this._refreshStart, this._refreshEnd);\n            if (Date.now() - startTime >= WRITE_TIMEOUT_MS) {\n                break;\n            }\n        }\n        if (this.writeBufferUtf8.length > bufferOffset) {\n            if (bufferOffset > WRITE_BUFFER_LENGTH_THRESHOLD) {\n                this.writeBufferUtf8 = this.writeBufferUtf8.slice(bufferOffset);\n                bufferOffset = 0;\n            }\n            setTimeout(function () { return _this._innerWriteUtf8(bufferOffset); }, 0);\n        }\n        else {\n            this._writeInProgress = false;\n            this.writeBufferUtf8 = [];\n        }\n    };\n    Terminal.prototype.write = function (data) {\n        var _this = this;\n        if (this._isDisposed) {\n            return;\n        }\n        if (!data) {\n            return;\n        }\n        this.writeBuffer.push(data);\n        if (this.options.useFlowControl && !this._xoffSentToCatchUp && this.writeBuffer.length >= WRITE_BUFFER_PAUSE_THRESHOLD) {\n            this.handler(EscapeSequences_1.C0.DC3);\n            this._xoffSentToCatchUp = true;\n        }\n        if (!this._writeInProgress && this.writeBuffer.length > 0) {\n            this._writeInProgress = true;\n            setTimeout(function () {\n                _this._innerWrite();\n            });\n        }\n    };\n    Terminal.prototype._innerWrite = function (bufferOffset) {\n        var _this = this;\n        if (bufferOffset === void 0) { bufferOffset = 0; }\n        if (this._isDisposed) {\n            this.writeBuffer = [];\n        }\n        var startTime = Date.now();\n        while (this.writeBuffer.length > bufferOffset) {\n            var data = this.writeBuffer[bufferOffset];\n            bufferOffset++;\n            if (this._xoffSentToCatchUp && this.writeBuffer.length === bufferOffset) {\n                this.handler(EscapeSequences_1.C0.DC1);\n                this._xoffSentToCatchUp = false;\n            }\n            this._refreshStart = this.buffer.y;\n            this._refreshEnd = this.buffer.y;\n            this._inputHandler.parse(data);\n            this.updateRange(this.buffer.y);\n            this.refresh(this._refreshStart, this._refreshEnd);\n            if (Date.now() - startTime >= WRITE_TIMEOUT_MS) {\n                break;\n            }\n        }\n        if (this.writeBuffer.length > bufferOffset) {\n            if (bufferOffset > WRITE_BUFFER_LENGTH_THRESHOLD) {\n                this.writeBuffer = this.writeBuffer.slice(bufferOffset);\n                bufferOffset = 0;\n            }\n            setTimeout(function () { return _this._innerWrite(bufferOffset); }, 0);\n        }\n        else {\n            this._writeInProgress = false;\n            this.writeBuffer = [];\n        }\n    };\n    Terminal.prototype.writeln = function (data) {\n        this.write(data + '\\r\\n');\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._customKeyEventHandler = customKeyEventHandler;\n    };\n    Terminal.prototype.addCsiHandler = function (flag, callback) {\n        return this._inputHandler.addCsiHandler(flag, callback);\n    };\n    Terminal.prototype.addOscHandler = function (ident, callback) {\n        return this._inputHandler.addOscHandler(ident, callback);\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        var matcherId = this.linkifier.registerLinkMatcher(regex, handler, options);\n        this.refresh(0, this.rows - 1);\n        return matcherId;\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        if (this.linkifier.deregisterLinkMatcher(matcherId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        var joinerId = this._renderCoordinator.registerCharacterJoiner(handler);\n        this.refresh(0, this.rows - 1);\n        return joinerId;\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        if (this._renderCoordinator.deregisterCharacterJoiner(joinerId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"markers\", {\n        get: function () {\n            return this.buffer.markers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        if (this.buffer !== this.buffers.normal) {\n            return;\n        }\n        return this.buffer.addMarker(this.buffer.ybase + this.buffer.y + cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this.selectionManager ? this.selectionManager.hasSelection : false;\n    };\n    Terminal.prototype.select = function (column, row, length) {\n        this.selectionManager.setSelection(column, row, length);\n    };\n    Terminal.prototype.getSelection = function () {\n        return this.selectionManager ? this.selectionManager.selectionText : '';\n    };\n    Terminal.prototype.getSelectionPosition = function () {\n        if (!this.selectionManager.hasSelection) {\n            return undefined;\n        }\n        return {\n            startColumn: this.selectionManager.selectionStart[0],\n            startRow: this.selectionManager.selectionStart[1],\n            endColumn: this.selectionManager.selectionEnd[0],\n            endRow: this.selectionManager.selectionEnd[1]\n        };\n    };\n    Terminal.prototype.clearSelection = function () {\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n        }\n    };\n    Terminal.prototype.selectAll = function () {\n        if (this.selectionManager) {\n            this.selectionManager.selectAll();\n        }\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        if (this.selectionManager) {\n            this.selectionManager.selectLines(start, end);\n        }\n    };\n    Terminal.prototype._keyDown = function (event) {\n        if (this._customKeyEventHandler && this._customKeyEventHandler(event) === false) {\n            return false;\n        }\n        if (!this._compositionHelper.keydown(event)) {\n            if (this.buffer.ybase !== this.buffer.ydisp) {\n                this.scrollToBottom();\n            }\n            return false;\n        }\n        var result = Keyboard_1.evaluateKeyboardEvent(event, this.applicationCursor, this.browser.isMac, this.options.macOptionIsMeta);\n        this.updateCursorStyle(event);\n        if (result.type === 3 || result.type === 2) {\n            var scrollCount = this.rows - 1;\n            this.scrollLines(result.type === 2 ? -scrollCount : scrollCount);\n            return this.cancel(event, true);\n        }\n        if (result.type === 1) {\n            this.selectAll();\n        }\n        if (this._isThirdLevelShift(this.browser, event)) {\n            return true;\n        }\n        if (result.cancel) {\n            this.cancel(event, true);\n        }\n        if (!result.key) {\n            return true;\n        }\n        this.emit('keydown', event);\n        this._onKey.fire({ key: result.key, domEvent: event });\n        this.showCursor();\n        this.handler(result.key);\n        return this.cancel(event, true);\n    };\n    Terminal.prototype._isThirdLevelShift = function (browser, ev) {\n        var thirdLevelKey = (browser.isMac && !this.options.macOptionIsMeta && ev.altKey && !ev.ctrlKey && !ev.metaKey) ||\n            (browser.isMSWindows && ev.altKey && ev.ctrlKey && !ev.metaKey);\n        if (ev.type === 'keypress') {\n            return thirdLevelKey;\n        }\n        return thirdLevelKey && (!ev.keyCode || ev.keyCode > 47);\n    };\n    Terminal.prototype.setgLevel = function (g) {\n        this.glevel = g;\n        this.charset = this.charsets[g];\n    };\n    Terminal.prototype.setgCharset = function (g, charset) {\n        this.charsets[g] = charset;\n        if (this.glevel === g) {\n            this.charset = charset;\n        }\n    };\n    Terminal.prototype._keyUp = function (ev) {\n        this.updateCursorStyle(ev);\n    };\n    Terminal.prototype._keyPress = function (ev) {\n        var key;\n        if (this._customKeyEventHandler && this._customKeyEventHandler(ev) === false) {\n            return false;\n        }\n        this.cancel(ev);\n        if (ev.charCode) {\n            key = ev.charCode;\n        }\n        else if (ev.which === null || ev.which === undefined) {\n            key = ev.keyCode;\n        }\n        else if (ev.which !== 0 && ev.charCode !== 0) {\n            key = ev.which;\n        }\n        else {\n            return false;\n        }\n        if (!key || ((ev.altKey || ev.ctrlKey || ev.metaKey) && !this._isThirdLevelShift(this.browser, ev))) {\n            return false;\n        }\n        key = String.fromCharCode(key);\n        this.emit('keypress', key, ev);\n        this._onKey.fire({ key: key, domEvent: ev });\n        this.showCursor();\n        this.handler(key);\n        return true;\n    };\n    Terminal.prototype.bell = function () {\n        var _this = this;\n        this.emit('bell');\n        if (this._soundBell()) {\n            this.soundManager.playBellSound();\n        }\n        if (this._visualBell()) {\n            this.element.classList.add('visual-bell-active');\n            clearTimeout(this._visualBellTimer);\n            this._visualBellTimer = window.setTimeout(function () {\n                _this.element.classList.remove('visual-bell-active');\n            }, 200);\n        }\n    };\n    Terminal.prototype.log = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.log)\n            return;\n        this._context.console.log(text, data);\n    };\n    Terminal.prototype.error = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.error)\n            return;\n        this._context.console.error(text, data);\n    };\n    Terminal.prototype.resize = function (x, y) {\n        if (isNaN(x) || isNaN(y)) {\n            return;\n        }\n        if (x === this.cols && y === this.rows) {\n            if (this.charMeasure && (!this.charMeasure.width || !this.charMeasure.height)) {\n                this.charMeasure.measure(this.options);\n            }\n            return;\n        }\n        if (x < MINIMUM_COLS)\n            x = MINIMUM_COLS;\n        if (y < MINIMUM_ROWS)\n            y = MINIMUM_ROWS;\n        this.buffers.resize(x, y);\n        this.cols = x;\n        this.rows = y;\n        this.buffers.setupTabStops(this.cols);\n        if (this.charMeasure) {\n            this.charMeasure.measure(this.options);\n        }\n        this.refresh(0, this.rows - 1);\n        this._onResize.fire({ cols: x, rows: y });\n    };\n    Terminal.prototype.updateRange = function (y) {\n        if (y < this._refreshStart)\n            this._refreshStart = y;\n        if (y > this._refreshEnd)\n            this._refreshEnd = y;\n    };\n    Terminal.prototype.maxRange = function () {\n        this._refreshStart = 0;\n        this._refreshEnd = this.rows - 1;\n    };\n    Terminal.prototype.clear = function () {\n        if (this.buffer.ybase === 0 && this.buffer.y === 0) {\n            return;\n        }\n        this.buffer.lines.set(0, this.buffer.lines.get(this.buffer.ybase + this.buffer.y));\n        this.buffer.lines.length = 1;\n        this.buffer.ydisp = 0;\n        this.buffer.ybase = 0;\n        this.buffer.y = 0;\n        for (var i = 1; i < this.rows; i++) {\n            this.buffer.lines.push(this.buffer.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA));\n        }\n        this.refresh(0, this.rows - 1);\n        this._onScroll.fire(this.buffer.ydisp);\n    };\n    Terminal.prototype.is = function (term) {\n        return (this.options.termName + '').indexOf(term) === 0;\n    };\n    Terminal.prototype.handler = function (data) {\n        if (this.options.disableStdin) {\n            return;\n        }\n        if (this.selectionManager && this.selectionManager.hasSelection) {\n            this.selectionManager.clearSelection();\n        }\n        if (this.buffer.ybase !== this.buffer.ydisp) {\n            this.scrollToBottom();\n        }\n        this._onData.fire(data);\n    };\n    Terminal.prototype.handleTitle = function (title) {\n        this._onTitleChange.fire(title);\n    };\n    Terminal.prototype.index = function () {\n        this.buffer.y++;\n        if (this.buffer.y > this.buffer.scrollBottom) {\n            this.buffer.y--;\n            this.scroll();\n        }\n        if (this.buffer.x >= this.cols) {\n            this.buffer.x--;\n        }\n    };\n    Terminal.prototype.reverseIndex = function () {\n        if (this.buffer.y === this.buffer.scrollTop) {\n            var scrollRegionHeight = this.buffer.scrollBottom - this.buffer.scrollTop;\n            this.buffer.lines.shiftElements(this.buffer.y + this.buffer.ybase, scrollRegionHeight, 1);\n            this.buffer.lines.set(this.buffer.y + this.buffer.ybase, this.buffer.getBlankLine(this.eraseAttrData()));\n            this.updateRange(this.buffer.scrollTop);\n            this.updateRange(this.buffer.scrollBottom);\n        }\n        else {\n            this.buffer.y--;\n        }\n    };\n    Terminal.prototype.reset = function () {\n        this.options.rows = this.rows;\n        this.options.cols = this.cols;\n        var customKeyEventHandler = this._customKeyEventHandler;\n        var inputHandler = this._inputHandler;\n        var cursorState = this.cursorState;\n        var writeBuffer = this.writeBuffer;\n        var writeBufferUtf8 = this.writeBufferUtf8;\n        var writeInProgress = this._writeInProgress;\n        var xoffSentToCatchUp = this._xoffSentToCatchUp;\n        var userScrolling = this._userScrolling;\n        this._setup();\n        this._customKeyEventHandler = customKeyEventHandler;\n        this._inputHandler = inputHandler;\n        this.cursorState = cursorState;\n        this.writeBuffer = writeBuffer;\n        this.writeBufferUtf8 = writeBufferUtf8;\n        this._writeInProgress = writeInProgress;\n        this._xoffSentToCatchUp = xoffSentToCatchUp;\n        this._userScrolling = userScrolling;\n        this.refresh(0, this.rows - 1);\n        if (this.viewport) {\n            this.viewport.syncScrollArea();\n        }\n    };\n    Terminal.prototype.tabSet = function () {\n        this.buffer.tabs[this.buffer.x] = true;\n    };\n    Terminal.prototype.cancel = function (ev, force) {\n        if (!this.options.cancelEvents && !force) {\n            return;\n        }\n        ev.preventDefault();\n        ev.stopPropagation();\n        return false;\n    };\n    Terminal.prototype._visualBell = function () {\n        return false;\n    };\n    Terminal.prototype._soundBell = function () {\n        return this.options.bellStyle === 'sound';\n    };\n    return Terminal;\n}(EventEmitter_1.EventEmitter));\nexports.Terminal = Terminal;\nfunction wasModifierKeyOnlyEvent(ev) {\n    return ev.keyCode === 16 ||\n        ev.keyCode === 17 ||\n        ev.keyCode === 18;\n}\n//# sourceMappingURL=Terminal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"../common/data/EscapeSequences\");\nvar AltClickHandler = (function () {\n    function AltClickHandler(_mouseEvent, _terminal) {\n        var _a;\n        this._mouseEvent = _mouseEvent;\n        this._terminal = _terminal;\n        this._lines = this._terminal.buffer.lines;\n        this._startCol = this._terminal.buffer.x;\n        this._startRow = this._terminal.buffer.y;\n        var coordinates = this._terminal.mouseHelper.getCoords(this._mouseEvent, this._terminal.element, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows, false);\n        if (coordinates) {\n            _a = coordinates.map(function (coordinate) {\n                return coordinate - 1;\n            }), this._endCol = _a[0], this._endRow = _a[1];\n        }\n    }\n    AltClickHandler.prototype.move = function () {\n        if (this._mouseEvent.altKey && this._endCol !== undefined && this._endRow !== undefined) {\n            this._terminal.handler(this._arrowSequences());\n        }\n    };\n    AltClickHandler.prototype._arrowSequences = function () {\n        if (!this._terminal.buffer.hasScrollback) {\n            return this._resetStartingRow() + this._moveToRequestedRow() + this._moveToRequestedCol();\n        }\n        return this._moveHorizontallyOnly();\n    };\n    AltClickHandler.prototype._resetStartingRow = function () {\n        if (this._moveToRequestedRow().length === 0) {\n            return '';\n        }\n        return repeat(this._bufferLine(this._startCol, this._startRow, this._startCol, this._startRow - this._wrappedRowsForRow(this._startRow), false).length, this._sequence(\"D\"));\n    };\n    AltClickHandler.prototype._moveToRequestedRow = function () {\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        var rowsToMove = Math.abs(startRow - endRow) - this._wrappedRowsCount();\n        return repeat(rowsToMove, this._sequence(this._verticalDirection()));\n    };\n    AltClickHandler.prototype._moveToRequestedCol = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        var endRow = this._endRow;\n        var direction = this._horizontalDirection();\n        return repeat(this._bufferLine(this._startCol, startRow, this._endCol, endRow, direction === \"C\").length, this._sequence(direction));\n    };\n    AltClickHandler.prototype._moveHorizontallyOnly = function () {\n        var direction = this._horizontalDirection();\n        return repeat(Math.abs(this._startCol - this._endCol), this._sequence(direction));\n    };\n    AltClickHandler.prototype._wrappedRowsCount = function () {\n        var wrappedRows = 0;\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        for (var i = 0; i < Math.abs(startRow - endRow); i++) {\n            var direction = this._verticalDirection() === \"A\" ? -1 : 1;\n            if (this._lines.get(startRow + (direction * i)).isWrapped) {\n                wrappedRows++;\n            }\n        }\n        return wrappedRows;\n    };\n    AltClickHandler.prototype._wrappedRowsForRow = function (currentRow) {\n        var rowCount = 0;\n        var lineWraps = this._lines.get(currentRow).isWrapped;\n        while (lineWraps && currentRow >= 0 && currentRow < this._terminal.rows) {\n            rowCount++;\n            currentRow--;\n            lineWraps = this._lines.get(currentRow).isWrapped;\n        }\n        return rowCount;\n    };\n    AltClickHandler.prototype._horizontalDirection = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        if ((this._startCol < this._endCol &&\n            startRow <= this._endRow) ||\n            (this._startCol >= this._endCol &&\n                startRow < this._endRow)) {\n            return \"C\";\n        }\n        return \"D\";\n    };\n    AltClickHandler.prototype._verticalDirection = function () {\n        if (this._startRow > this._endRow) {\n            return \"A\";\n        }\n        return \"B\";\n    };\n    AltClickHandler.prototype._bufferLine = function (startCol, startRow, endCol, endRow, forward) {\n        var currentCol = startCol;\n        var currentRow = startRow;\n        var bufferStr = '';\n        while (currentCol !== endCol || currentRow !== endRow) {\n            currentCol += forward ? 1 : -1;\n            if (forward && currentCol > this._terminal.cols - 1) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n                currentCol = 0;\n                startCol = 0;\n                currentRow++;\n            }\n            else if (!forward && currentCol < 0) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, 0, startCol + 1);\n                currentCol = this._terminal.cols - 1;\n                startCol = currentCol;\n                currentRow--;\n            }\n        }\n        return bufferStr + this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n    };\n    AltClickHandler.prototype._sequence = function (direction) {\n        var mod = this._terminal.applicationCursor ? 'O' : '[';\n        return EscapeSequences_1.C0.ESC + mod + direction;\n    };\n    return AltClickHandler;\n}());\nexports.AltClickHandler = AltClickHandler;\nfunction repeat(count, str) {\n    count = Math.floor(count);\n    var rpt = '';\n    for (var i = 0; i < count; i++) {\n        rpt += str;\n    }\n    return rpt;\n}\n//# sourceMappingURL=AltClickHandler.js.map","import VBtn from './VBtn';\nexport { VBtn };\nexport default VBtn;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar TextDecoder_1 = require(\"./core/input/TextDecoder\");\nfunction r(low, high) {\n    var c = high - low;\n    var arr = new Array(c);\n    while (c--) {\n        arr[c] = --high;\n    }\n    return arr;\n}\nvar TransitionTable = (function () {\n    function TransitionTable(length) {\n        this.table = (typeof Uint8Array === 'undefined')\n            ? new Array(length)\n            : new Uint8Array(length);\n    }\n    TransitionTable.prototype.add = function (code, state, action, next) {\n        this.table[state << 8 | code] = ((action | 0) << 4) | ((next === undefined) ? state : next);\n    };\n    TransitionTable.prototype.addMany = function (codes, state, action, next) {\n        for (var i = 0; i < codes.length; i++) {\n            this.add(codes[i], state, action, next);\n        }\n    };\n    return TransitionTable;\n}());\nexports.TransitionTable = TransitionTable;\nvar PRINTABLES = r(0x20, 0x7f);\nvar EXECUTABLES = r(0x00, 0x18);\nEXECUTABLES.push(0x19);\nEXECUTABLES.push.apply(EXECUTABLES, r(0x1c, 0x20));\nvar NON_ASCII_PRINTABLE = 0xA0;\nexports.VT500_TRANSITION_TABLE = (function () {\n    var table = new TransitionTable(4095);\n    var states = r(0, 13 + 1);\n    var state;\n    for (state in states) {\n        for (var code = 0; code <= NON_ASCII_PRINTABLE; ++code) {\n            table.add(code, state, 1, 0);\n        }\n    }\n    table.addMany(PRINTABLES, 0, 2, 0);\n    for (state in states) {\n        table.addMany([0x18, 0x1a, 0x99, 0x9a], state, 3, 0);\n        table.addMany(r(0x80, 0x90), state, 3, 0);\n        table.addMany(r(0x90, 0x98), state, 3, 0);\n        table.add(0x9c, state, 0, 0);\n        table.add(0x1b, state, 11, 1);\n        table.add(0x9d, state, 4, 8);\n        table.addMany([0x98, 0x9e, 0x9f], state, 0, 7);\n        table.add(0x9b, state, 11, 3);\n        table.add(0x90, state, 11, 9);\n    }\n    table.addMany(EXECUTABLES, 0, 3, 0);\n    table.addMany(EXECUTABLES, 1, 3, 1);\n    table.add(0x7f, 1, 0, 1);\n    table.addMany(EXECUTABLES, 8, 0, 8);\n    table.addMany(EXECUTABLES, 3, 3, 3);\n    table.add(0x7f, 3, 0, 3);\n    table.addMany(EXECUTABLES, 4, 3, 4);\n    table.add(0x7f, 4, 0, 4);\n    table.addMany(EXECUTABLES, 6, 3, 6);\n    table.addMany(EXECUTABLES, 5, 3, 5);\n    table.add(0x7f, 5, 0, 5);\n    table.addMany(EXECUTABLES, 2, 3, 2);\n    table.add(0x7f, 2, 0, 2);\n    table.add(0x5d, 1, 4, 8);\n    table.addMany(PRINTABLES, 8, 5, 8);\n    table.add(0x7f, 8, 5, 8);\n    table.addMany([0x9c, 0x1b, 0x18, 0x1a, 0x07], 8, 6, 0);\n    table.addMany(r(0x1c, 0x20), 8, 0, 8);\n    table.addMany([0x58, 0x5e, 0x5f], 1, 0, 7);\n    table.addMany(PRINTABLES, 7, 0, 7);\n    table.addMany(EXECUTABLES, 7, 0, 7);\n    table.add(0x9c, 7, 0, 0);\n    table.add(0x7f, 7, 0, 7);\n    table.add(0x5b, 1, 11, 3);\n    table.addMany(r(0x40, 0x7f), 3, 7, 0);\n    table.addMany(r(0x30, 0x3a), 3, 8, 4);\n    table.add(0x3b, 3, 8, 4);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 3, 9, 4);\n    table.addMany(r(0x30, 0x3a), 4, 8, 4);\n    table.add(0x3b, 4, 8, 4);\n    table.addMany(r(0x40, 0x7f), 4, 7, 0);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 4, 0, 6);\n    table.addMany(r(0x20, 0x40), 6, 0, 6);\n    table.add(0x7f, 6, 0, 6);\n    table.addMany(r(0x40, 0x7f), 6, 0, 0);\n    table.add(0x3a, 3, 0, 6);\n    table.addMany(r(0x20, 0x30), 3, 9, 5);\n    table.addMany(r(0x20, 0x30), 5, 9, 5);\n    table.addMany(r(0x30, 0x40), 5, 0, 6);\n    table.addMany(r(0x40, 0x7f), 5, 7, 0);\n    table.addMany(r(0x20, 0x30), 4, 9, 5);\n    table.addMany(r(0x20, 0x30), 1, 9, 2);\n    table.addMany(r(0x20, 0x30), 2, 9, 2);\n    table.addMany(r(0x30, 0x7f), 2, 10, 0);\n    table.addMany(r(0x30, 0x50), 1, 10, 0);\n    table.addMany(r(0x51, 0x58), 1, 10, 0);\n    table.addMany([0x59, 0x5a, 0x5c], 1, 10, 0);\n    table.addMany(r(0x60, 0x7f), 1, 10, 0);\n    table.add(0x50, 1, 11, 9);\n    table.addMany(EXECUTABLES, 9, 0, 9);\n    table.add(0x7f, 9, 0, 9);\n    table.addMany(r(0x1c, 0x20), 9, 0, 9);\n    table.addMany(r(0x20, 0x30), 9, 9, 12);\n    table.add(0x3a, 9, 0, 11);\n    table.addMany(r(0x30, 0x3a), 9, 8, 10);\n    table.add(0x3b, 9, 8, 10);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 9, 9, 10);\n    table.addMany(EXECUTABLES, 11, 0, 11);\n    table.addMany(r(0x20, 0x80), 11, 0, 11);\n    table.addMany(r(0x1c, 0x20), 11, 0, 11);\n    table.addMany(EXECUTABLES, 10, 0, 10);\n    table.add(0x7f, 10, 0, 10);\n    table.addMany(r(0x1c, 0x20), 10, 0, 10);\n    table.addMany(r(0x30, 0x3a), 10, 8, 10);\n    table.add(0x3b, 10, 8, 10);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 10, 0, 11);\n    table.addMany(r(0x20, 0x30), 10, 9, 12);\n    table.addMany(EXECUTABLES, 12, 0, 12);\n    table.add(0x7f, 12, 0, 12);\n    table.addMany(r(0x1c, 0x20), 12, 0, 12);\n    table.addMany(r(0x20, 0x30), 12, 9, 12);\n    table.addMany(r(0x30, 0x40), 12, 0, 11);\n    table.addMany(r(0x40, 0x7f), 12, 12, 13);\n    table.addMany(r(0x40, 0x7f), 10, 12, 13);\n    table.addMany(r(0x40, 0x7f), 9, 12, 13);\n    table.addMany(EXECUTABLES, 13, 13, 13);\n    table.addMany(PRINTABLES, 13, 13, 13);\n    table.add(0x7f, 13, 0, 13);\n    table.addMany([0x1b, 0x9c], 13, 14, 0);\n    table.add(NON_ASCII_PRINTABLE, 8, 5, 8);\n    return table;\n})();\nvar DcsDummy = (function () {\n    function DcsDummy() {\n    }\n    DcsDummy.prototype.hook = function (collect, params, flag) { };\n    DcsDummy.prototype.put = function (data, start, end) { };\n    DcsDummy.prototype.unhook = function () { };\n    return DcsDummy;\n}());\nvar EscapeSequenceParser = (function (_super) {\n    __extends(EscapeSequenceParser, _super);\n    function EscapeSequenceParser(TRANSITIONS) {\n        if (TRANSITIONS === void 0) { TRANSITIONS = exports.VT500_TRANSITION_TABLE; }\n        var _this = _super.call(this) || this;\n        _this.TRANSITIONS = TRANSITIONS;\n        _this.initialState = 0;\n        _this.currentState = _this.initialState;\n        _this._osc = '';\n        _this._params = [0];\n        _this._collect = '';\n        _this._printHandlerFb = function (data, start, end) { };\n        _this._executeHandlerFb = function (code) { };\n        _this._csiHandlerFb = function (collect, params, flag) { };\n        _this._escHandlerFb = function (collect, flag) { };\n        _this._oscHandlerFb = function (identifier, data) { };\n        _this._dcsHandlerFb = new DcsDummy();\n        _this._errorHandlerFb = function (state) { return state; };\n        _this._printHandler = _this._printHandlerFb;\n        _this._executeHandlers = Object.create(null);\n        _this._csiHandlers = Object.create(null);\n        _this._escHandlers = Object.create(null);\n        _this._oscHandlers = Object.create(null);\n        _this._dcsHandlers = Object.create(null);\n        _this._activeDcsHandler = null;\n        _this._errorHandler = _this._errorHandlerFb;\n        _this.setEscHandler('\\\\', function () { });\n        return _this;\n    }\n    EscapeSequenceParser.prototype.dispose = function () {\n        this._printHandlerFb = null;\n        this._executeHandlerFb = null;\n        this._csiHandlerFb = null;\n        this._escHandlerFb = null;\n        this._oscHandlerFb = null;\n        this._dcsHandlerFb = null;\n        this._errorHandlerFb = null;\n        this._printHandler = null;\n        this._executeHandlers = null;\n        this._escHandlers = null;\n        this._csiHandlers = null;\n        this._oscHandlers = null;\n        this._dcsHandlers = null;\n        this._activeDcsHandler = null;\n        this._errorHandler = null;\n    };\n    EscapeSequenceParser.prototype.setPrintHandler = function (callback) {\n        this._printHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearPrintHandler = function () {\n        this._printHandler = this._printHandlerFb;\n    };\n    EscapeSequenceParser.prototype.setExecuteHandler = function (flag, callback) {\n        this._executeHandlers[flag.charCodeAt(0)] = callback;\n    };\n    EscapeSequenceParser.prototype.clearExecuteHandler = function (flag) {\n        if (this._executeHandlers[flag.charCodeAt(0)])\n            delete this._executeHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setExecuteHandlerFallback = function (callback) {\n        this._executeHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.addCsiHandler = function (flag, callback) {\n        var index = flag.charCodeAt(0);\n        if (this._csiHandlers[index] === undefined) {\n            this._csiHandlers[index] = [];\n        }\n        var handlerList = this._csiHandlers[index];\n        handlerList.push(callback);\n        return {\n            dispose: function () {\n                var handlerIndex = handlerList.indexOf(callback);\n                if (handlerIndex !== -1) {\n                    handlerList.splice(handlerIndex, 1);\n                }\n            }\n        };\n    };\n    EscapeSequenceParser.prototype.setCsiHandler = function (flag, callback) {\n        this._csiHandlers[flag.charCodeAt(0)] = [callback];\n    };\n    EscapeSequenceParser.prototype.clearCsiHandler = function (flag) {\n        if (this._csiHandlers[flag.charCodeAt(0)])\n            delete this._csiHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setCsiHandlerFallback = function (callback) {\n        this._csiHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setEscHandler = function (collectAndFlag, callback) {\n        this._escHandlers[collectAndFlag] = callback;\n    };\n    EscapeSequenceParser.prototype.clearEscHandler = function (collectAndFlag) {\n        if (this._escHandlers[collectAndFlag])\n            delete this._escHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setEscHandlerFallback = function (callback) {\n        this._escHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.addOscHandler = function (ident, callback) {\n        if (this._oscHandlers[ident] === undefined) {\n            this._oscHandlers[ident] = [];\n        }\n        var handlerList = this._oscHandlers[ident];\n        handlerList.push(callback);\n        return {\n            dispose: function () {\n                var handlerIndex = handlerList.indexOf(callback);\n                if (handlerIndex !== -1) {\n                    handlerList.splice(handlerIndex, 1);\n                }\n            }\n        };\n    };\n    EscapeSequenceParser.prototype.setOscHandler = function (ident, callback) {\n        this._oscHandlers[ident] = [callback];\n    };\n    EscapeSequenceParser.prototype.clearOscHandler = function (ident) {\n        if (this._oscHandlers[ident])\n            delete this._oscHandlers[ident];\n    };\n    EscapeSequenceParser.prototype.setOscHandlerFallback = function (callback) {\n        this._oscHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setDcsHandler = function (collectAndFlag, handler) {\n        this._dcsHandlers[collectAndFlag] = handler;\n    };\n    EscapeSequenceParser.prototype.clearDcsHandler = function (collectAndFlag) {\n        if (this._dcsHandlers[collectAndFlag])\n            delete this._dcsHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setDcsHandlerFallback = function (handler) {\n        this._dcsHandlerFb = handler;\n    };\n    EscapeSequenceParser.prototype.setErrorHandler = function (callback) {\n        this._errorHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearErrorHandler = function () {\n        this._errorHandler = this._errorHandlerFb;\n    };\n    EscapeSequenceParser.prototype.reset = function () {\n        this.currentState = this.initialState;\n        this._osc = '';\n        this._params = [0];\n        this._collect = '';\n        this._activeDcsHandler = null;\n    };\n    EscapeSequenceParser.prototype.parse = function (data, length) {\n        var code = 0;\n        var transition = 0;\n        var error = false;\n        var currentState = this.currentState;\n        var print = -1;\n        var dcs = -1;\n        var osc = this._osc;\n        var collect = this._collect;\n        var params = this._params;\n        var table = this.TRANSITIONS.table;\n        var dcsHandler = this._activeDcsHandler;\n        var callback = null;\n        for (var i = 0; i < length; ++i) {\n            code = data[i];\n            if (currentState === 0 && code > 0x1f && code < 0x80) {\n                print = (~print) ? print : i;\n                do\n                    i++;\n                while (i < length && data[i] > 0x1f && data[i] < 0x80);\n                i--;\n                continue;\n            }\n            if (currentState === 4 && (code > 0x2f && code < 0x39)) {\n                params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                continue;\n            }\n            transition = table[currentState << 8 | (code < 0xa0 ? code : NON_ASCII_PRINTABLE)];\n            switch (transition >> 4) {\n                case 2:\n                    print = (~print) ? print : i;\n                    break;\n                case 3:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    callback = this._executeHandlers[code];\n                    if (callback)\n                        callback();\n                    else\n                        this._executeHandlerFb(code);\n                    break;\n                case 0:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    else if (~dcs) {\n                        dcsHandler.put(data, dcs, i);\n                        dcs = -1;\n                    }\n                    break;\n                case 1:\n                    if (code > 0x9f) {\n                        switch (currentState) {\n                            case 0:\n                                print = (~print) ? print : i;\n                                break;\n                            case 6:\n                                transition |= 6;\n                                break;\n                            case 11:\n                                transition |= 11;\n                                break;\n                            case 13:\n                                dcs = (~dcs) ? dcs : i;\n                                transition |= 13;\n                                break;\n                            default:\n                                error = true;\n                        }\n                    }\n                    else {\n                        error = true;\n                    }\n                    if (error) {\n                        var inject = this._errorHandler({\n                            position: i,\n                            code: code,\n                            currentState: currentState,\n                            print: print,\n                            dcs: dcs,\n                            osc: osc,\n                            collect: collect,\n                            params: params,\n                            abort: false\n                        });\n                        if (inject.abort)\n                            return;\n                        error = false;\n                    }\n                    break;\n                case 7:\n                    var handlers = this._csiHandlers[code];\n                    var j = handlers ? handlers.length - 1 : -1;\n                    for (; j >= 0; j--) {\n                        if (handlers[j](params, collect) !== false) {\n                            break;\n                        }\n                    }\n                    if (j < 0) {\n                        this._csiHandlerFb(collect, params, code);\n                    }\n                    break;\n                case 8:\n                    if (code === 0x3b)\n                        params.push(0);\n                    else\n                        params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                    break;\n                case 9:\n                    collect += String.fromCharCode(code);\n                    break;\n                case 10:\n                    callback = this._escHandlers[collect + String.fromCharCode(code)];\n                    if (callback)\n                        callback(collect, code);\n                    else\n                        this._escHandlerFb(collect, code);\n                    break;\n                case 11:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 12:\n                    dcsHandler = this._dcsHandlers[collect + String.fromCharCode(code)];\n                    if (!dcsHandler)\n                        dcsHandler = this._dcsHandlerFb;\n                    dcsHandler.hook(collect, params, code);\n                    break;\n                case 13:\n                    dcs = (~dcs) ? dcs : i;\n                    break;\n                case 14:\n                    if (dcsHandler) {\n                        if (~dcs)\n                            dcsHandler.put(data, dcs, i);\n                        dcsHandler.unhook();\n                        dcsHandler = null;\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 4:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    break;\n                case 5:\n                    for (var j_1 = i + 1;; j_1++) {\n                        if (j_1 >= length\n                            || (code = data[j_1]) < 0x20\n                            || (code > 0x7f && code <= 0x9f)) {\n                            osc += TextDecoder_1.utf32ToString(data, i, j_1);\n                            i = j_1 - 1;\n                            break;\n                        }\n                    }\n                    break;\n                case 6:\n                    if (osc && code !== 0x18 && code !== 0x1a) {\n                        var idx = osc.indexOf(';');\n                        if (idx === -1) {\n                            this._oscHandlerFb(-1, osc);\n                        }\n                        else {\n                            var identifier = parseInt(osc.substring(0, idx));\n                            var content = osc.substring(idx + 1);\n                            var handlers_1 = this._oscHandlers[identifier];\n                            var j_2 = handlers_1 ? handlers_1.length - 1 : -1;\n                            for (; j_2 >= 0; j_2--) {\n                                if (handlers_1[j_2](content) !== false) {\n                                    break;\n                                }\n                            }\n                            if (j_2 < 0) {\n                                this._oscHandlerFb(identifier, content);\n                            }\n                        }\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n            }\n            currentState = transition & 15;\n        }\n        if (currentState === 0 && ~print) {\n            this._printHandler(data, print, length);\n        }\n        else if (currentState === 13 && ~dcs && dcsHandler) {\n            dcsHandler.put(data, dcs, length);\n        }\n        this._osc = osc;\n        this._collect = collect;\n        this._params = params;\n        this._activeDcsHandler = dcsHandler;\n        this.currentState = currentState;\n    };\n    return EscapeSequenceParser;\n}(Lifecycle_1.Disposable));\nexports.EscapeSequenceParser = EscapeSequenceParser;\n//# sourceMappingURL=EscapeSequenceParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LRUMap = (function () {\n    function LRUMap(capacity) {\n        this.capacity = capacity;\n        this._map = {};\n        this._head = null;\n        this._tail = null;\n        this._nodePool = [];\n        this.size = 0;\n    }\n    LRUMap.prototype._unlinkNode = function (node) {\n        var prev = node.prev;\n        var next = node.next;\n        if (node === this._head) {\n            this._head = next;\n        }\n        if (node === this._tail) {\n            this._tail = prev;\n        }\n        if (prev !== null) {\n            prev.next = next;\n        }\n        if (next !== null) {\n            next.prev = prev;\n        }\n    };\n    LRUMap.prototype._appendNode = function (node) {\n        var tail = this._tail;\n        if (tail !== null) {\n            tail.next = node;\n        }\n        node.prev = tail;\n        node.next = null;\n        this._tail = node;\n        if (this._head === null) {\n            this._head = node;\n        }\n    };\n    LRUMap.prototype.prealloc = function (count) {\n        var nodePool = this._nodePool;\n        for (var i = 0; i < count; i++) {\n            nodePool.push({\n                prev: null,\n                next: null,\n                key: null,\n                value: null\n            });\n        }\n    };\n    LRUMap.prototype.get = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            this._unlinkNode(node);\n            this._appendNode(node);\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peekValue = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peek = function () {\n        var head = this._head;\n        return head === null ? null : head.value;\n    };\n    LRUMap.prototype.set = function (key, value) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            node = this._map[key];\n            this._unlinkNode(node);\n            node.value = value;\n        }\n        else if (this.size >= this.capacity) {\n            node = this._head;\n            this._unlinkNode(node);\n            delete this._map[node.key];\n            node.key = key;\n            node.value = value;\n            this._map[key] = node;\n        }\n        else {\n            var nodePool = this._nodePool;\n            if (nodePool.length > 0) {\n                node = nodePool.pop();\n                node.key = key;\n                node.value = value;\n            }\n            else {\n                node = {\n                    prev: null,\n                    next: null,\n                    key: key,\n                    value: value\n                };\n            }\n            this._map[key] = node;\n            this.size++;\n        }\n        this._appendNode(node);\n    };\n    return LRUMap;\n}());\nexports.default = LRUMap;\n//# sourceMappingURL=LRUMap.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseZoneManager_1 = require(\"./MouseZoneManager\");\nvar CharWidth_1 = require(\"./CharWidth\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar Linkifier = (function () {\n    function Linkifier(_terminal) {\n        this._terminal = _terminal;\n        this._linkMatchers = [];\n        this._nextLinkMatcherId = 0;\n        this._onLinkHover = new EventEmitter2_1.EventEmitter2();\n        this._onLinkLeave = new EventEmitter2_1.EventEmitter2();\n        this._onLinkTooltip = new EventEmitter2_1.EventEmitter2();\n        this._rowsToLinkify = {\n            start: null,\n            end: null\n        };\n    }\n    Object.defineProperty(Linkifier.prototype, \"onLinkHover\", {\n        get: function () { return this._onLinkHover.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Linkifier.prototype, \"onLinkLeave\", {\n        get: function () { return this._onLinkLeave.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Linkifier.prototype, \"onLinkTooltip\", {\n        get: function () { return this._onLinkTooltip.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Linkifier.prototype.attachToDom = function (mouseZoneManager) {\n        this._mouseZoneManager = mouseZoneManager;\n    };\n    Linkifier.prototype.linkifyRows = function (start, end) {\n        var _this = this;\n        if (!this._mouseZoneManager) {\n            return;\n        }\n        if (this._rowsToLinkify.start === null) {\n            this._rowsToLinkify.start = start;\n            this._rowsToLinkify.end = end;\n        }\n        else {\n            this._rowsToLinkify.start = Math.min(this._rowsToLinkify.start, start);\n            this._rowsToLinkify.end = Math.max(this._rowsToLinkify.end, end);\n        }\n        this._mouseZoneManager.clearAll(start, end);\n        if (this._rowsTimeoutId) {\n            clearTimeout(this._rowsTimeoutId);\n        }\n        this._rowsTimeoutId = setTimeout(function () { return _this._linkifyRows(); }, Linkifier.TIME_BEFORE_LINKIFY);\n    };\n    Linkifier.prototype._linkifyRows = function () {\n        this._rowsTimeoutId = null;\n        var buffer = this._terminal.buffer;\n        var absoluteRowIndexStart = buffer.ydisp + this._rowsToLinkify.start;\n        if (absoluteRowIndexStart >= buffer.lines.length) {\n            return;\n        }\n        var absoluteRowIndexEnd = buffer.ydisp + Math.min(this._rowsToLinkify.end, this._terminal.rows) + 1;\n        var overscanLineLimit = Math.ceil(Linkifier.OVERSCAN_CHAR_LIMIT / this._terminal.cols);\n        var iterator = this._terminal.buffer.iterator(false, absoluteRowIndexStart, absoluteRowIndexEnd, overscanLineLimit, overscanLineLimit);\n        while (iterator.hasNext()) {\n            var lineData = iterator.next();\n            for (var i = 0; i < this._linkMatchers.length; i++) {\n                this._doLinkifyRow(lineData.range.first, lineData.content, this._linkMatchers[i]);\n            }\n        }\n        this._rowsToLinkify.start = null;\n        this._rowsToLinkify.end = null;\n    };\n    Linkifier.prototype.registerLinkMatcher = function (regex, handler, options) {\n        if (options === void 0) { options = {}; }\n        if (!handler) {\n            throw new Error('handler must be defined');\n        }\n        var matcher = {\n            id: this._nextLinkMatcherId++,\n            regex: regex,\n            handler: handler,\n            matchIndex: options.matchIndex,\n            validationCallback: options.validationCallback,\n            hoverTooltipCallback: options.tooltipCallback,\n            hoverLeaveCallback: options.leaveCallback,\n            willLinkActivate: options.willLinkActivate,\n            priority: options.priority || 0\n        };\n        this._addLinkMatcherToList(matcher);\n        return matcher.id;\n    };\n    Linkifier.prototype._addLinkMatcherToList = function (matcher) {\n        if (this._linkMatchers.length === 0) {\n            this._linkMatchers.push(matcher);\n            return;\n        }\n        for (var i = this._linkMatchers.length - 1; i >= 0; i--) {\n            if (matcher.priority <= this._linkMatchers[i].priority) {\n                this._linkMatchers.splice(i + 1, 0, matcher);\n                return;\n            }\n        }\n        this._linkMatchers.splice(0, 0, matcher);\n    };\n    Linkifier.prototype.deregisterLinkMatcher = function (matcherId) {\n        for (var i = 0; i < this._linkMatchers.length; i++) {\n            if (this._linkMatchers[i].id === matcherId) {\n                this._linkMatchers.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    Linkifier.prototype._doLinkifyRow = function (rowIndex, text, matcher) {\n        var _this = this;\n        var rex = new RegExp(matcher.regex.source, matcher.regex.flags + 'g');\n        var match;\n        var stringIndex = -1;\n        var _loop_1 = function () {\n            var uri = match[typeof matcher.matchIndex !== 'number' ? 0 : matcher.matchIndex];\n            if (!uri) {\n                if (this_1._terminal.debug) {\n                    console.log({ match: match, matcher: matcher });\n                    throw new Error('match found without corresponding matchIndex');\n                }\n                return \"break\";\n            }\n            stringIndex = text.indexOf(uri, stringIndex + 1);\n            rex.lastIndex = stringIndex + uri.length;\n            if (stringIndex < 0) {\n                return \"break\";\n            }\n            var bufferIndex = this_1._terminal.buffer.stringIndexToBufferIndex(rowIndex, stringIndex);\n            if (bufferIndex[0] < 0) {\n                return \"break\";\n            }\n            var line = this_1._terminal.buffer.lines.get(bufferIndex[0]);\n            var attr = line.getFg(bufferIndex[1]);\n            var fg;\n            if (attr) {\n                fg = (attr >> 9) & 0x1ff;\n            }\n            if (matcher.validationCallback) {\n                matcher.validationCallback(uri, function (isValid) {\n                    if (_this._rowsTimeoutId) {\n                        return;\n                    }\n                    if (isValid) {\n                        _this._addLink(bufferIndex[1], bufferIndex[0] - _this._terminal.buffer.ydisp, uri, matcher, fg);\n                    }\n                });\n            }\n            else {\n                this_1._addLink(bufferIndex[1], bufferIndex[0] - this_1._terminal.buffer.ydisp, uri, matcher, fg);\n            }\n        };\n        var this_1 = this;\n        while ((match = rex.exec(text)) !== null) {\n            var state_1 = _loop_1();\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    Linkifier.prototype._addLink = function (x, y, uri, matcher, fg) {\n        var _this = this;\n        var width = CharWidth_1.getStringCellWidth(uri);\n        var x1 = x % this._terminal.cols;\n        var y1 = y + Math.floor(x / this._terminal.cols);\n        var x2 = (x1 + width) % this._terminal.cols;\n        var y2 = y1 + Math.floor((x1 + width) / this._terminal.cols);\n        if (x2 === 0) {\n            x2 = this._terminal.cols;\n            y2--;\n        }\n        this._mouseZoneManager.add(new MouseZoneManager_1.MouseZone(x1 + 1, y1 + 1, x2 + 1, y2 + 1, function (e) {\n            if (matcher.handler) {\n                return matcher.handler(e, uri);\n            }\n            window.open(uri, '_blank');\n        }, function () {\n            _this._onLinkHover.fire(_this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.add('xterm-cursor-pointer');\n        }, function (e) {\n            _this._onLinkTooltip.fire(_this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            if (matcher.hoverTooltipCallback) {\n                matcher.hoverTooltipCallback(e, uri);\n            }\n        }, function () {\n            _this._onLinkLeave.fire(_this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.remove('xterm-cursor-pointer');\n            if (matcher.hoverLeaveCallback) {\n                matcher.hoverLeaveCallback();\n            }\n        }, function (e) {\n            if (matcher.willLinkActivate) {\n                return matcher.willLinkActivate(e, uri);\n            }\n            return true;\n        }));\n    };\n    Linkifier.prototype._createLinkHoverEvent = function (x1, y1, x2, y2, fg) {\n        return { x1: x1, y1: y1, x2: x2, y2: y2, cols: this._terminal.cols, fg: fg };\n    };\n    Linkifier.TIME_BEFORE_LINKIFY = 200;\n    Linkifier.OVERSCAN_CHAR_LIMIT = 2000;\n    return Linkifier;\n}());\nexports.Linkifier = Linkifier;\n//# sourceMappingURL=Linkifier.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2_1 = require(\"../../common/EventEmitter2\");\nvar Lifecycle_1 = require(\"../../common/Lifecycle\");\nvar Marker = (function (_super) {\n    __extends(Marker, _super);\n    function Marker(line) {\n        var _this = _super.call(this) || this;\n        _this.line = line;\n        _this._id = Marker._nextId++;\n        _this.isDisposed = false;\n        _this._onDispose = new EventEmitter2_1.EventEmitter2();\n        return _this;\n    }\n    Object.defineProperty(Marker.prototype, \"id\", {\n        get: function () { return this._id; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Marker.prototype, \"onDispose\", {\n        get: function () { return this._onDispose.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Marker.prototype.dispose = function () {\n        if (this.isDisposed) {\n            return;\n        }\n        this.isDisposed = true;\n        this._onDispose.fire();\n    };\n    Marker._nextId = 1;\n    return Marker;\n}(Lifecycle_1.Disposable));\nexports.Marker = Marker;\n//# sourceMappingURL=Marker.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction proposeGeometry(term) {\n    if (!term.element.parentElement) {\n        return null;\n    }\n    var parentElementStyle = window.getComputedStyle(term.element.parentElement);\n    var parentElementHeight = parseInt(parentElementStyle.getPropertyValue('height'));\n    var parentElementWidth = Math.max(0, parseInt(parentElementStyle.getPropertyValue('width')));\n    var elementStyle = window.getComputedStyle(term.element);\n    var elementPadding = {\n        top: parseInt(elementStyle.getPropertyValue('padding-top')),\n        bottom: parseInt(elementStyle.getPropertyValue('padding-bottom')),\n        right: parseInt(elementStyle.getPropertyValue('padding-right')),\n        left: parseInt(elementStyle.getPropertyValue('padding-left'))\n    };\n    var elementPaddingVer = elementPadding.top + elementPadding.bottom;\n    var elementPaddingHor = elementPadding.right + elementPadding.left;\n    var availableHeight = parentElementHeight - elementPaddingVer;\n    var availableWidth = parentElementWidth - elementPaddingHor - term._core.viewport.scrollBarWidth;\n    var geometry = {\n        cols: Math.floor(availableWidth / term._core._renderCoordinator.dimensions.actualCellWidth),\n        rows: Math.floor(availableHeight / term._core._renderCoordinator.dimensions.actualCellHeight)\n    };\n    return geometry;\n}\nexports.proposeGeometry = proposeGeometry;\nfunction fit(term) {\n    var geometry = proposeGeometry(term);\n    if (geometry) {\n        if (term.rows !== geometry.rows || term.cols !== geometry.cols) {\n            term._core._renderCoordinator.clear();\n            term.resize(geometry.cols, geometry.rows);\n        }\n    }\n}\nexports.fit = fit;\nfunction apply(terminalConstructor) {\n    terminalConstructor.prototype.proposeGeometry = function () {\n        return proposeGeometry(this);\n    };\n    terminalConstructor.prototype.fit = function () {\n        fit(this);\n    };\n}\nexports.apply = apply;\n//# sourceMappingURL=fit.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AddonManager = (function () {\n    function AddonManager() {\n        this._addons = [];\n    }\n    AddonManager.prototype.dispose = function () {\n        for (var i = this._addons.length - 1; i >= 0; i--) {\n            this._addons[i].instance.dispose();\n        }\n    };\n    AddonManager.prototype.loadAddon = function (terminal, instance) {\n        var _this = this;\n        var loadedAddon = {\n            instance: instance,\n            dispose: instance.dispose,\n            isDisposed: false\n        };\n        this._addons.push(loadedAddon);\n        instance.dispose = function () { return _this._wrappedAddonDispose(loadedAddon); };\n        instance.activate(terminal);\n    };\n    AddonManager.prototype._wrappedAddonDispose = function (loadedAddon) {\n        if (loadedAddon.isDisposed) {\n            return;\n        }\n        var index = -1;\n        for (var i = 0; i < this._addons.length; i++) {\n            if (this._addons[i] === loadedAddon) {\n                index = i;\n                break;\n            }\n        }\n        if (index === -1) {\n            throw new Error('Could not dispose an addon that has not been loaded');\n        }\n        loadedAddon.isDisposed = true;\n        loadedAddon.dispose.apply(loadedAddon.instance);\n        this._addons.splice(index, 1);\n    };\n    return AddonManager;\n}());\nexports.AddonManager = AddonManager;\n//# sourceMappingURL=AddonManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseHelper = (function () {\n    function MouseHelper(_renderCoordinator) {\n        this._renderCoordinator = _renderCoordinator;\n    }\n    MouseHelper.getCoordsRelativeToElement = function (event, element) {\n        var rect = element.getBoundingClientRect();\n        return [event.clientX - rect.left, event.clientY - rect.top];\n    };\n    MouseHelper.prototype.getCoords = function (event, element, charMeasure, colCount, rowCount, isSelection) {\n        if (!charMeasure.width || !charMeasure.height) {\n            return null;\n        }\n        var coords = MouseHelper.getCoordsRelativeToElement(event, element);\n        if (!coords) {\n            return null;\n        }\n        coords[0] = Math.ceil((coords[0] + (isSelection ? this._renderCoordinator.dimensions.actualCellWidth / 2 : 0)) / this._renderCoordinator.dimensions.actualCellWidth);\n        coords[1] = Math.ceil(coords[1] / this._renderCoordinator.dimensions.actualCellHeight);\n        coords[0] = Math.min(Math.max(coords[0], 1), colCount + (isSelection ? 1 : 0));\n        coords[1] = Math.min(Math.max(coords[1], 1), rowCount);\n        return coords;\n    };\n    MouseHelper.prototype.getRawByteCoords = function (event, element, charMeasure, colCount, rowCount) {\n        var coords = this.getCoords(event, element, charMeasure, colCount, rowCount);\n        var x = coords[0];\n        var y = coords[1];\n        x += 32;\n        y += 32;\n        return { x: x, y: y };\n    };\n    return MouseHelper;\n}());\nexports.MouseHelper = MouseHelper;\n//# sourceMappingURL=MouseHelper.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar Lifecycle_2 = require(\"./ui/Lifecycle\");\nvar HOVER_DURATION = 500;\nvar MouseZoneManager = (function (_super) {\n    __extends(MouseZoneManager, _super);\n    function MouseZoneManager(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._zones = [];\n        _this._areZonesActive = false;\n        _this._tooltipTimeout = null;\n        _this._currentZone = null;\n        _this._lastHoverCoords = [null, null];\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._terminal.element, 'mousedown', function (e) { return _this._onMouseDown(e); }));\n        _this._mouseMoveListener = function (e) { return _this._onMouseMove(e); };\n        _this._mouseLeaveListener = function (e) { return _this._onMouseLeave(e); };\n        _this._clickListener = function (e) { return _this._onClick(e); };\n        return _this;\n    }\n    MouseZoneManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._deactivate();\n    };\n    MouseZoneManager.prototype.add = function (zone) {\n        this._zones.push(zone);\n        if (this._zones.length === 1) {\n            this._activate();\n        }\n    };\n    MouseZoneManager.prototype.clearAll = function (start, end) {\n        if (this._zones.length === 0) {\n            return;\n        }\n        if (!end) {\n            start = 0;\n            end = this._terminal.rows - 1;\n        }\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if ((zone.y1 > start && zone.y1 <= end + 1) ||\n                (zone.y2 > start && zone.y2 <= end + 1) ||\n                (zone.y1 < start && zone.y2 > end + 1)) {\n                if (this._currentZone && this._currentZone === zone) {\n                    this._currentZone.leaveCallback();\n                    this._currentZone = null;\n                }\n                this._zones.splice(i--, 1);\n            }\n        }\n        if (this._zones.length === 0) {\n            this._deactivate();\n        }\n    };\n    MouseZoneManager.prototype._activate = function () {\n        if (!this._areZonesActive) {\n            this._areZonesActive = true;\n            this._terminal.element.addEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.addEventListener('mouseleave', this._mouseLeaveListener);\n            this._terminal.element.addEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._deactivate = function () {\n        if (this._areZonesActive) {\n            this._areZonesActive = false;\n            this._terminal.element.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.removeEventListener('mouseleave', this._mouseLeaveListener);\n            this._terminal.element.removeEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._onMouseMove = function (e) {\n        if (this._lastHoverCoords[0] !== e.pageX || this._lastHoverCoords[1] !== e.pageY) {\n            this._onHover(e);\n            this._lastHoverCoords = [e.pageX, e.pageY];\n        }\n    };\n    MouseZoneManager.prototype._onHover = function (e) {\n        var _this = this;\n        var zone = this._findZoneEventAt(e);\n        if (zone === this._currentZone) {\n            return;\n        }\n        if (this._currentZone) {\n            this._currentZone.leaveCallback();\n            this._currentZone = null;\n            if (this._tooltipTimeout) {\n                clearTimeout(this._tooltipTimeout);\n            }\n        }\n        if (!zone) {\n            return;\n        }\n        this._currentZone = zone;\n        if (zone.hoverCallback) {\n            zone.hoverCallback(e);\n        }\n        this._tooltipTimeout = setTimeout(function () { return _this._onTooltip(e); }, HOVER_DURATION);\n    };\n    MouseZoneManager.prototype._onTooltip = function (e) {\n        this._tooltipTimeout = null;\n        var zone = this._findZoneEventAt(e);\n        if (zone && zone.tooltipCallback) {\n            zone.tooltipCallback(e);\n        }\n    };\n    MouseZoneManager.prototype._onMouseDown = function (e) {\n        this._initialSelectionLength = this._terminal.getSelection().length;\n        if (!this._areZonesActive) {\n            return;\n        }\n        var zone = this._findZoneEventAt(e);\n        if (zone) {\n            if (zone.willLinkActivate(e)) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n            }\n        }\n    };\n    MouseZoneManager.prototype._onMouseLeave = function (e) {\n        if (this._currentZone) {\n            this._currentZone.leaveCallback();\n            this._currentZone = null;\n            if (this._tooltipTimeout) {\n                clearTimeout(this._tooltipTimeout);\n            }\n        }\n    };\n    MouseZoneManager.prototype._onClick = function (e) {\n        var zone = this._findZoneEventAt(e);\n        var currentSelectionLength = this._terminal.getSelection().length;\n        if (zone && currentSelectionLength === this._initialSelectionLength) {\n            zone.clickCallback(e);\n            e.preventDefault();\n            e.stopImmediatePropagation();\n        }\n    };\n    MouseZoneManager.prototype._findZoneEventAt = function (e) {\n        var coords = this._terminal.mouseHelper.getCoords(e, this._terminal.screenElement, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows);\n        if (!coords) {\n            return null;\n        }\n        var x = coords[0];\n        var y = coords[1];\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if (zone.y1 === zone.y2) {\n                if (y === zone.y1 && x >= zone.x1 && x < zone.x2) {\n                    return zone;\n                }\n            }\n            else {\n                if ((y === zone.y1 && x >= zone.x1) ||\n                    (y === zone.y2 && x < zone.x2) ||\n                    (y > zone.y1 && y < zone.y2)) {\n                    return zone;\n                }\n            }\n        }\n        return null;\n    };\n    return MouseZoneManager;\n}(Lifecycle_1.Disposable));\nexports.MouseZoneManager = MouseZoneManager;\nvar MouseZone = (function () {\n    function MouseZone(x1, y1, x2, y2, clickCallback, hoverCallback, tooltipCallback, leaveCallback, willLinkActivate) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n        this.clickCallback = clickCallback;\n        this.hoverCallback = hoverCallback;\n        this.tooltipCallback = tooltipCallback;\n        this.leaveCallback = leaveCallback;\n        this.willLinkActivate = willLinkActivate;\n    }\n    return MouseZone;\n}());\nexports.MouseZone = MouseZone;\n//# sourceMappingURL=MouseZoneManager.js.map","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":\"1024px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',{on:{\"click\":function($event){return _vm.open()}}},[_vm._v(\"mdi-console\")])]}}]),model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":function($event){return _vm.close()}}},[_c('v-icon',[_vm._v(\"close\")])],1),_c('v-toolbar-title',[_vm._v(\"Terminal\")]),_c('v-spacer')],1),(_vm.showLoginForm)?_c('v-card',{staticClass:\"ma-0 pa-6\",attrs:{\"outlined\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.connect()}},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{ref:\"username\",attrs:{\"label\":\"Username\",\"autofocus\":\"\",\"rules\":[_vm.rules.required],\"validate-on-blur\":true},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('v-text-field',{attrs:{\"label\":\"Password\",\"type\":\"password\",\"rules\":[_vm.rules.required],\"validate-on-blur\":true},model:{value:(_vm.passwd),callback:function ($$v) {_vm.passwd=$$v},expression:\"passwd\"}}),_c('v-btn',{staticClass:\"mt-4\",attrs:{\"type\":\"submit\",\"color\":\"primary\",\"rounded\":\"\"}},[_vm._v(\"Connect\")])],1)],1):_vm._e(),_c('div',{ref:\"terminal\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","<template>\n<v-dialog v-model=\"show\" max-width=\"1024px\">\n    \n  <template v-slot:activator=\"{ on }\">\n    <v-icon @click=\"open()\">mdi-console</v-icon>\n  </template>\n  \n  <v-card>\n    <v-toolbar dark color=\"primary\">\n      <v-btn icon dark @click=\"close()\">\n        <v-icon>close</v-icon>\n      </v-btn>\n      <v-toolbar-title>Terminal</v-toolbar-title>\n  \n      <v-spacer></v-spacer>\n    \n    </v-toolbar>\n    \n    <v-card class=\"ma-0 pa-6\" v-if=\"showLoginForm\" outlined>      \n      <v-form ref=\"form\" v-model=\"valid\" @submit.prevent=\"connect()\" lazy-validation>\n        <v-text-field label=\"Username\" v-model=\"username\" ref=\"username\" autofocus :rules=\"[rules.required]\" :validate-on-blur=\"true\"></v-text-field>\n        <v-text-field label=\"Password\" type=\"password\" v-model=\"passwd\" :rules=\"[rules.required]\" :validate-on-blur=\"true\"></v-text-field>\n        <v-btn type=\"submit\" color=\"primary\" class=\"mt-4\" rounded>Connect</v-btn>\n      </v-form>\n    </v-card>\n    \n    <div ref=\"terminal\"></div>\n  </v-card>\n\n</v-dialog>\n</template>\n\n<script>\nimport { Terminal } from 'xterm';\nimport * as fit from 'xterm/lib/addons/fit/fit';\nimport * as attach from 'xterm/lib/addons/attach/attach';\nimport 'xterm/dist/xterm.css';\n\nTerminal.applyAddon(fit);\nTerminal.applyAddon(attach);\n\nexport default {\n  name: 'TerminalDialog',\n\n  props: ['uid'],\n\n  data() {\n    return {\n      username: '',\n      passwd: '',\n      showLoginForm: true,\n      valid: true,\n      rules: {\n        required: value => !!value || 'Required'\n      }\n    };\n  },\n\n  watch: {\n    show(value) {\n      if (!value) {\n        if (this.ws) this.ws.close();\n        if (this.xterm) this.xterm.destroy();\n\n        this.username = '';\n        this.passwd = '';\n        this.showLoginForm = true;\n      } else {\n        requestAnimationFrame(() => {\n          this.$refs.username.focus();\n        });\n      }\n    }\n  },\n\n  computed: {\n    show: {\n      get() {\n        return this.$store.getters['modals/terminal'] === this.$props.uid;\n      },\n\n      set(value) {\n        if (value) {\n          this.$store.dispatch('modals/toggleTerminal', this.$props.uid);\n        } else {\n          this.$store.dispatch('modals/toggleTerminal', '');\n        }\n      }\n    }\n  },\n\n  methods: {\n    open() {\n      this.xterm = new Terminal({\n        cursorBlink: true,\n        fontFamily: 'monospace'\n      });\n\n      this.$store.dispatch('modals/toggleTerminal', this.$props.uid);\n\n      if (this.xterm.element) {\n        this.xterm.reset();\n      }\n    },\n\n    close() {\n      this.$store.dispatch('modals/toggleTerminal', '');\n    },\n\n    connect() {\n      var protocolConnectionURL = '';\n\n      if (!this.$refs.form.validate(true)) {\n        return;\n      }\n\n      this.showLoginForm = false;\n      this.$nextTick(() => this.xterm.fit());\n\n      if (!this.xterm.element) {\n        this.xterm.open(this.$refs.terminal);\n      }\n\n      this.xterm.fit();\n      this.xterm.focus();\n\n      const params = Object.entries({\n        user: `${this.username}@${this.$props.uid}`,\n        passwd: encodeURIComponent(this.passwd),\n        cols: this.xterm.cols,\n        rows: this.xterm.rows\n      })\n        .map(([k, v]) => {\n          return `${k}=${v}`;\n        })\n        .join('&');\n\n      if(location.protocol == \"http:\"){\n        protocolConnectionURL = 'ws'\n      }else{\n        protocolConnectionURL = 'wss'\n      }\n\n      this.ws = new WebSocket(protocolConnectionURL+`://${location.host}/ws/ssh?${params}`);\n\n      this.ws.onopen = () => {\n        this.xterm.attach(this.ws, true, true);\n      };\n\n      this.ws.onclose = () => {\n        this.xterm.detach(this.ws);\n      };\n    },\n\n    showCopySnack() {\n      this.copySnack = true;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TerminalDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TerminalDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TerminalDialog.vue?vue&type=template&id=345367fb&\"\nimport script from \"./TerminalDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./TerminalDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VDialog,VForm,VIcon,VSpacer,VTextField,VToolbar,VToolbarTitle})\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.INVERTED_DEFAULT_COLOR = 257;\nexports.DIM_OPACITY = 0.5;\nexports.CHAR_ATLAS_CELL_SPACING = 1;\n//# sourceMappingURL=Types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2_1 = require(\"./EventEmitter2\");\nvar CircularList = (function () {\n    function CircularList(_maxLength) {\n        this._maxLength = _maxLength;\n        this.onDeleteEmitter = new EventEmitter2_1.EventEmitter2();\n        this.onInsertEmitter = new EventEmitter2_1.EventEmitter2();\n        this.onTrimEmitter = new EventEmitter2_1.EventEmitter2();\n        this._array = new Array(this._maxLength);\n        this._startIndex = 0;\n        this._length = 0;\n    }\n    Object.defineProperty(CircularList.prototype, \"onDelete\", {\n        get: function () { return this.onDeleteEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"onInsert\", {\n        get: function () { return this.onInsertEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"onTrim\", {\n        get: function () { return this.onTrimEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"maxLength\", {\n        get: function () {\n            return this._maxLength;\n        },\n        set: function (newMaxLength) {\n            if (this._maxLength === newMaxLength) {\n                return;\n            }\n            var newArray = new Array(newMaxLength);\n            for (var i = 0; i < Math.min(newMaxLength, this.length); i++) {\n                newArray[i] = this._array[this._getCyclicIndex(i)];\n            }\n            this._array = newArray;\n            this._maxLength = newMaxLength;\n            this._startIndex = 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"length\", {\n        get: function () {\n            return this._length;\n        },\n        set: function (newLength) {\n            if (newLength > this._length) {\n                for (var i = this._length; i < newLength; i++) {\n                    this._array[i] = undefined;\n                }\n            }\n            this._length = newLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.get = function (index) {\n        return this._array[this._getCyclicIndex(index)];\n    };\n    CircularList.prototype.set = function (index, value) {\n        this._array[this._getCyclicIndex(index)] = value;\n    };\n    CircularList.prototype.push = function (value) {\n        this._array[this._getCyclicIndex(this._length)] = value;\n        if (this._length === this._maxLength) {\n            this._startIndex = ++this._startIndex % this._maxLength;\n            this.onTrimEmitter.fire(1);\n        }\n        else {\n            this._length++;\n        }\n    };\n    CircularList.prototype.recycle = function () {\n        if (this._length !== this._maxLength) {\n            throw new Error('Can only recycle when the buffer is full');\n        }\n        this._startIndex = ++this._startIndex % this._maxLength;\n        this.onTrimEmitter.fire(1);\n        return this._array[this._getCyclicIndex(this._length - 1)];\n    };\n    Object.defineProperty(CircularList.prototype, \"isFull\", {\n        get: function () {\n            return this._length === this._maxLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.pop = function () {\n        return this._array[this._getCyclicIndex(this._length-- - 1)];\n    };\n    CircularList.prototype.splice = function (start, deleteCount) {\n        var items = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            items[_i - 2] = arguments[_i];\n        }\n        if (deleteCount) {\n            for (var i = start; i < this._length - deleteCount; i++) {\n                this._array[this._getCyclicIndex(i)] = this._array[this._getCyclicIndex(i + deleteCount)];\n            }\n            this._length -= deleteCount;\n        }\n        for (var i = this._length - 1; i >= start; i--) {\n            this._array[this._getCyclicIndex(i + items.length)] = this._array[this._getCyclicIndex(i)];\n        }\n        for (var i = 0; i < items.length; i++) {\n            this._array[this._getCyclicIndex(start + i)] = items[i];\n        }\n        if (this._length + items.length > this._maxLength) {\n            var countToTrim = (this._length + items.length) - this._maxLength;\n            this._startIndex += countToTrim;\n            this._length = this._maxLength;\n            this.onTrimEmitter.fire(countToTrim);\n        }\n        else {\n            this._length += items.length;\n        }\n    };\n    CircularList.prototype.trimStart = function (count) {\n        if (count > this._length) {\n            count = this._length;\n        }\n        this._startIndex += count;\n        this._length -= count;\n        this.onTrimEmitter.fire(count);\n    };\n    CircularList.prototype.shiftElements = function (start, count, offset) {\n        if (count <= 0) {\n            return;\n        }\n        if (start < 0 || start >= this._length) {\n            throw new Error('start argument out of range');\n        }\n        if (start + offset < 0) {\n            throw new Error('Cannot shift elements in list beyond index 0');\n        }\n        if (offset > 0) {\n            for (var i = count - 1; i >= 0; i--) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n            var expandListBy = (start + count + offset) - this._length;\n            if (expandListBy > 0) {\n                this._length += expandListBy;\n                while (this._length > this._maxLength) {\n                    this._length--;\n                    this._startIndex++;\n                    this.onTrimEmitter.fire(1);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < count; i++) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n        }\n    };\n    CircularList.prototype._getCyclicIndex = function (index) {\n        return (this._startIndex + index) % this._maxLength;\n    };\n    return CircularList;\n}());\nexports.CircularList = CircularList;\n//# sourceMappingURL=CircularList.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SelectionModel = (function () {\n    function SelectionModel(_terminal) {\n        this._terminal = _terminal;\n        this.clearSelection();\n    }\n    SelectionModel.prototype.clearSelection = function () {\n        this.selectionStart = null;\n        this.selectionEnd = null;\n        this.isSelectAllActive = false;\n        this.selectionStartLength = 0;\n    };\n    Object.defineProperty(SelectionModel.prototype, \"finalSelectionStart\", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [0, 0];\n            }\n            if (!this.selectionEnd || !this.selectionStart) {\n                return this.selectionStart;\n            }\n            return this.areSelectionValuesReversed() ? this.selectionEnd : this.selectionStart;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionModel.prototype, \"finalSelectionEnd\", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [this._terminal.cols, this._terminal.buffer.ybase + this._terminal.rows - 1];\n            }\n            if (!this.selectionStart) {\n                return null;\n            }\n            if (!this.selectionEnd || this.areSelectionValuesReversed()) {\n                var startPlusLength = this.selectionStart[0] + this.selectionStartLength;\n                if (startPlusLength > this._terminal.cols) {\n                    return [startPlusLength % this._terminal.cols, this.selectionStart[1] + Math.floor(startPlusLength / this._terminal.cols)];\n                }\n                return [startPlusLength, this.selectionStart[1]];\n            }\n            if (this.selectionStartLength) {\n                if (this.selectionEnd[1] === this.selectionStart[1]) {\n                    return [Math.max(this.selectionStart[0] + this.selectionStartLength, this.selectionEnd[0]), this.selectionEnd[1]];\n                }\n            }\n            return this.selectionEnd;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionModel.prototype.areSelectionValuesReversed = function () {\n        var start = this.selectionStart;\n        var end = this.selectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return start[1] > end[1] || (start[1] === end[1] && start[0] > end[0]);\n    };\n    SelectionModel.prototype.onTrim = function (amount) {\n        if (this.selectionStart) {\n            this.selectionStart[1] -= amount;\n        }\n        if (this.selectionEnd) {\n            this.selectionEnd[1] -= amount;\n        }\n        if (this.selectionEnd && this.selectionEnd[1] < 0) {\n            this.clearSelection();\n            return true;\n        }\n        if (this.selectionStart && this.selectionStart[1] < 0) {\n            this.selectionStart[1] = 0;\n        }\n        return false;\n    };\n    return SelectionModel;\n}());\nexports.SelectionModel = SelectionModel;\n//# sourceMappingURL=SelectionModel.js.map","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar Types_1 = require(\"./atlas/Types\");\nvar CharAtlasUtils_1 = require(\"./atlas/CharAtlasUtils\");\nvar LinkRenderLayer = (function (_super) {\n    __extends(LinkRenderLayer, _super);\n    function LinkRenderLayer(container, zIndex, colors, terminal) {\n        var _this = _super.call(this, container, 'link', zIndex, true, colors) || this;\n        _this._state = null;\n        terminal.linkifier.onLinkHover(function (e) { return _this._onLinkHover(e); });\n        terminal.linkifier.onLinkLeave(function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    LinkRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = null;\n    };\n    LinkRenderLayer.prototype.reset = function (terminal) {\n        this._clearCurrentLink();\n    };\n    LinkRenderLayer.prototype._clearCurrentLink = function () {\n        if (this._state) {\n            this.clearCells(this._state.x1, this._state.y1, this._state.cols - this._state.x1, 1);\n            var middleRowCount = this._state.y2 - this._state.y1 - 1;\n            if (middleRowCount > 0) {\n                this.clearCells(0, this._state.y1 + 1, this._state.cols, middleRowCount);\n            }\n            this.clearCells(0, this._state.y2, this._state.x2, 1);\n            this._state = null;\n        }\n    };\n    LinkRenderLayer.prototype._onLinkHover = function (e) {\n        if (e.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            this._ctx.fillStyle = this._colors.background.css;\n        }\n        else if (CharAtlasUtils_1.is256Color(e.fg)) {\n            this._ctx.fillStyle = this._colors.ansi[e.fg].css;\n        }\n        else {\n            this._ctx.fillStyle = this._colors.foreground.css;\n        }\n        if (e.y1 === e.y2) {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.x2 - e.x1);\n        }\n        else {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.cols - e.x1);\n            for (var y = e.y1 + 1; y < e.y2; y++) {\n                this.fillBottomLineAtCells(0, y, e.cols);\n            }\n            this.fillBottomLineAtCells(0, e.y2, e.x2);\n        }\n        this._state = e;\n    };\n    LinkRenderLayer.prototype._onLinkLeave = function (e) {\n        this._clearCurrentLink();\n    };\n    return LinkRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.LinkRenderLayer = LinkRenderLayer;\n//# sourceMappingURL=LinkRenderLayer.js.map","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"./common/data/EscapeSequences\");\nvar Charsets_1 = require(\"./core/data/Charsets\");\nvar CharWidth_1 = require(\"./CharWidth\");\nvar EscapeSequenceParser_1 = require(\"./EscapeSequenceParser\");\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar TypedArrayUtils_1 = require(\"./common/TypedArrayUtils\");\nvar TextDecoder_1 = require(\"./core/input/TextDecoder\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar GLEVEL = { '(': 0, ')': 1, '*': 2, '+': 3, '-': 1, '.': 2 };\nvar DECRQSS = (function () {\n    function DECRQSS(_terminal) {\n        this._terminal = _terminal;\n        this._data = new Uint32Array(0);\n    }\n    DECRQSS.prototype.hook = function (collect, params, flag) {\n        this._data = new Uint32Array(0);\n    };\n    DECRQSS.prototype.put = function (data, start, end) {\n        this._data = TypedArrayUtils_1.concat(this._data, data.subarray(start, end));\n    };\n    DECRQSS.prototype.unhook = function () {\n        var data = TextDecoder_1.utf32ToString(this._data);\n        this._data = new Uint32Array(0);\n        switch (data) {\n            case '\"q':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0\\\"q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case '\"p':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r61\\\"p\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'r':\n                var pt = '' + (this._terminal.buffer.scrollTop + 1) +\n                    ';' + (this._terminal.buffer.scrollBottom + 1) + 'r';\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + pt + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'm':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0m\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case ' q':\n                var STYLES = { 'block': 2, 'underline': 4, 'bar': 6 };\n                var style = STYLES[this._terminal.getOption('cursorStyle')];\n                style -= this._terminal.getOption('cursorBlink');\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + style + \" q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            default:\n                this._terminal.error('Unknown DCS $q %s', data);\n                this._terminal.handler(EscapeSequences_1.C0.ESC + \"P0$r\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n        }\n    };\n    return DECRQSS;\n}());\nvar InputHandler = (function (_super) {\n    __extends(InputHandler, _super);\n    function InputHandler(_terminal, _parser) {\n        if (_parser === void 0) { _parser = new EscapeSequenceParser_1.EscapeSequenceParser(); }\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._parser = _parser;\n        _this._parseBuffer = new Uint32Array(4096);\n        _this._stringDecoder = new TextDecoder_1.StringToUtf32();\n        _this._utf8Decoder = new TextDecoder_1.Utf8ToUtf32();\n        _this._workCell = new BufferLine_1.CellData();\n        _this._onCursorMove = new EventEmitter2_1.EventEmitter2();\n        _this._onData = new EventEmitter2_1.EventEmitter2();\n        _this._onLineFeed = new EventEmitter2_1.EventEmitter2();\n        _this._onScroll = new EventEmitter2_1.EventEmitter2();\n        _this.register(_this._parser);\n        _this._parser.setCsiHandlerFallback(function (collect, params, flag) {\n            _this._terminal.error('Unknown CSI code: ', { collect: collect, params: params, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setEscHandlerFallback(function (collect, flag) {\n            _this._terminal.error('Unknown ESC code: ', { collect: collect, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setExecuteHandlerFallback(function (code) {\n            _this._terminal.error('Unknown EXECUTE code: ', { code: code });\n        });\n        _this._parser.setOscHandlerFallback(function (identifier, data) {\n            _this._terminal.error('Unknown OSC code: ', { identifier: identifier, data: data });\n        });\n        _this._parser.setPrintHandler(function (data, start, end) { return _this.print(data, start, end); });\n        _this._parser.setCsiHandler('@', function (params, collect) { return _this.insertChars(params); });\n        _this._parser.setCsiHandler('A', function (params, collect) { return _this.cursorUp(params); });\n        _this._parser.setCsiHandler('B', function (params, collect) { return _this.cursorDown(params); });\n        _this._parser.setCsiHandler('C', function (params, collect) { return _this.cursorForward(params); });\n        _this._parser.setCsiHandler('D', function (params, collect) { return _this.cursorBackward(params); });\n        _this._parser.setCsiHandler('E', function (params, collect) { return _this.cursorNextLine(params); });\n        _this._parser.setCsiHandler('F', function (params, collect) { return _this.cursorPrecedingLine(params); });\n        _this._parser.setCsiHandler('G', function (params, collect) { return _this.cursorCharAbsolute(params); });\n        _this._parser.setCsiHandler('H', function (params, collect) { return _this.cursorPosition(params); });\n        _this._parser.setCsiHandler('I', function (params, collect) { return _this.cursorForwardTab(params); });\n        _this._parser.setCsiHandler('J', function (params, collect) { return _this.eraseInDisplay(params); });\n        _this._parser.setCsiHandler('K', function (params, collect) { return _this.eraseInLine(params); });\n        _this._parser.setCsiHandler('L', function (params, collect) { return _this.insertLines(params); });\n        _this._parser.setCsiHandler('M', function (params, collect) { return _this.deleteLines(params); });\n        _this._parser.setCsiHandler('P', function (params, collect) { return _this.deleteChars(params); });\n        _this._parser.setCsiHandler('S', function (params, collect) { return _this.scrollUp(params); });\n        _this._parser.setCsiHandler('T', function (params, collect) { return _this.scrollDown(params, collect); });\n        _this._parser.setCsiHandler('X', function (params, collect) { return _this.eraseChars(params); });\n        _this._parser.setCsiHandler('Z', function (params, collect) { return _this.cursorBackwardTab(params); });\n        _this._parser.setCsiHandler('`', function (params, collect) { return _this.charPosAbsolute(params); });\n        _this._parser.setCsiHandler('a', function (params, collect) { return _this.hPositionRelative(params); });\n        _this._parser.setCsiHandler('b', function (params, collect) { return _this.repeatPrecedingCharacter(params); });\n        _this._parser.setCsiHandler('c', function (params, collect) { return _this.sendDeviceAttributes(params, collect); });\n        _this._parser.setCsiHandler('d', function (params, collect) { return _this.linePosAbsolute(params); });\n        _this._parser.setCsiHandler('e', function (params, collect) { return _this.vPositionRelative(params); });\n        _this._parser.setCsiHandler('f', function (params, collect) { return _this.hVPosition(params); });\n        _this._parser.setCsiHandler('g', function (params, collect) { return _this.tabClear(params); });\n        _this._parser.setCsiHandler('h', function (params, collect) { return _this.setMode(params, collect); });\n        _this._parser.setCsiHandler('l', function (params, collect) { return _this.resetMode(params, collect); });\n        _this._parser.setCsiHandler('m', function (params, collect) { return _this.charAttributes(params); });\n        _this._parser.setCsiHandler('n', function (params, collect) { return _this.deviceStatus(params, collect); });\n        _this._parser.setCsiHandler('p', function (params, collect) { return _this.softReset(params, collect); });\n        _this._parser.setCsiHandler('q', function (params, collect) { return _this.setCursorStyle(params, collect); });\n        _this._parser.setCsiHandler('r', function (params, collect) { return _this.setScrollRegion(params, collect); });\n        _this._parser.setCsiHandler('s', function (params, collect) { return _this.saveCursor(params); });\n        _this._parser.setCsiHandler('u', function (params, collect) { return _this.restoreCursor(params); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BEL, function () { return _this.bell(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.LF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.VT, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.FF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.CR, function () { return _this.carriageReturn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BS, function () { return _this.backspace(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.HT, function () { return _this.tab(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SO, function () { return _this.shiftOut(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SI, function () { return _this.shiftIn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.IND, function () { return _this.index(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.NEL, function () { return _this.nextLine(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.HTS, function () { return _this.tabSet(); });\n        _this._parser.setOscHandler(0, function (data) { return _this.setTitle(data); });\n        _this._parser.setOscHandler(2, function (data) { return _this.setTitle(data); });\n        _this._parser.setEscHandler('7', function () { return _this.saveCursor([]); });\n        _this._parser.setEscHandler('8', function () { return _this.restoreCursor([]); });\n        _this._parser.setEscHandler('D', function () { return _this.index(); });\n        _this._parser.setEscHandler('E', function () { return _this.nextLine(); });\n        _this._parser.setEscHandler('H', function () { return _this.tabSet(); });\n        _this._parser.setEscHandler('M', function () { return _this.reverseIndex(); });\n        _this._parser.setEscHandler('=', function () { return _this.keypadApplicationMode(); });\n        _this._parser.setEscHandler('>', function () { return _this.keypadNumericMode(); });\n        _this._parser.setEscHandler('c', function () { return _this.reset(); });\n        _this._parser.setEscHandler('n', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('o', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('|', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('}', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('~', function () { return _this.setgLevel(1); });\n        _this._parser.setEscHandler('%@', function () { return _this.selectDefaultCharset(); });\n        _this._parser.setEscHandler('%G', function () { return _this.selectDefaultCharset(); });\n        var _loop_1 = function (flag) {\n            this_1._parser.setEscHandler('(' + flag, function () { return _this.selectCharset('(' + flag); });\n            this_1._parser.setEscHandler(')' + flag, function () { return _this.selectCharset(')' + flag); });\n            this_1._parser.setEscHandler('*' + flag, function () { return _this.selectCharset('*' + flag); });\n            this_1._parser.setEscHandler('+' + flag, function () { return _this.selectCharset('+' + flag); });\n            this_1._parser.setEscHandler('-' + flag, function () { return _this.selectCharset('-' + flag); });\n            this_1._parser.setEscHandler('.' + flag, function () { return _this.selectCharset('.' + flag); });\n            this_1._parser.setEscHandler('/' + flag, function () { return _this.selectCharset('/' + flag); });\n        };\n        var this_1 = this;\n        for (var flag in Charsets_1.CHARSETS) {\n            _loop_1(flag);\n        }\n        _this._parser.setErrorHandler(function (state) {\n            _this._terminal.error('Parsing error: ', state);\n            return state;\n        });\n        _this._parser.setDcsHandler('$q', new DECRQSS(_this._terminal));\n        return _this;\n    }\n    Object.defineProperty(InputHandler.prototype, \"onCursorMove\", {\n        get: function () { return this._onCursorMove.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputHandler.prototype, \"onData\", {\n        get: function () { return this._onData.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputHandler.prototype, \"onLineFeed\", {\n        get: function () { return this._onLineFeed.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputHandler.prototype, \"onScroll\", {\n        get: function () { return this._onScroll.event; },\n        enumerable: true,\n        configurable: true\n    });\n    InputHandler.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal = null;\n    };\n    InputHandler.prototype.parse = function (data) {\n        if (!this._terminal) {\n            return;\n        }\n        var buffer = this._terminal.buffer;\n        var cursorStartX = buffer.x;\n        var cursorStartY = buffer.y;\n        if (this._terminal.debug) {\n            this._terminal.log('data: ' + data);\n        }\n        if (this._parseBuffer.length < data.length) {\n            this._parseBuffer = new Uint32Array(data.length);\n        }\n        this._parser.parse(this._parseBuffer, this._stringDecoder.decode(data, this._parseBuffer));\n        buffer = this._terminal.buffer;\n        if (buffer.x !== cursorStartX || buffer.y !== cursorStartY) {\n            this._onCursorMove.fire();\n        }\n    };\n    InputHandler.prototype.parseUtf8 = function (data) {\n        if (!this._terminal) {\n            return;\n        }\n        var buffer = this._terminal.buffer;\n        var cursorStartX = buffer.x;\n        var cursorStartY = buffer.y;\n        if (this._terminal.debug) {\n            this._terminal.log('data: ' + data);\n        }\n        if (this._parseBuffer.length < data.length) {\n            this._parseBuffer = new Uint32Array(data.length);\n        }\n        this._parser.parse(this._parseBuffer, this._utf8Decoder.decode(data, this._parseBuffer));\n        buffer = this._terminal.buffer;\n        if (buffer.x !== cursorStartX || buffer.y !== cursorStartY) {\n            this._terminal.emit('cursormove');\n        }\n    };\n    InputHandler.prototype.print = function (data, start, end) {\n        var code;\n        var chWidth;\n        var buffer = this._terminal.buffer;\n        var charset = this._terminal.charset;\n        var screenReaderMode = this._terminal.options.screenReaderMode;\n        var cols = this._terminal.cols;\n        var wraparoundMode = this._terminal.wraparoundMode;\n        var insertMode = this._terminal.insertMode;\n        var curAttr = this._terminal.curAttrData;\n        var bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n        this._terminal.updateRange(buffer.y);\n        for (var pos = start; pos < end; ++pos) {\n            code = data[pos];\n            chWidth = CharWidth_1.wcwidth(code);\n            if (code < 127 && charset) {\n                var ch = charset[String.fromCharCode(code)];\n                if (ch) {\n                    code = ch.charCodeAt(0);\n                }\n            }\n            if (screenReaderMode) {\n                this._terminal.emit('a11y.char', TextDecoder_1.stringFromCodePoint(code));\n            }\n            if (!chWidth && buffer.x) {\n                if (!bufferRow.getWidth(buffer.x - 1)) {\n                    bufferRow.addCodepointToCell(buffer.x - 2, code);\n                }\n                else {\n                    bufferRow.addCodepointToCell(buffer.x - 1, code);\n                }\n                continue;\n            }\n            if (buffer.x + chWidth - 1 >= cols) {\n                if (wraparoundMode) {\n                    buffer.x = 0;\n                    buffer.y++;\n                    if (buffer.y > buffer.scrollBottom) {\n                        buffer.y--;\n                        this._terminal.scroll(true);\n                    }\n                    else {\n                        buffer.lines.get(buffer.y).isWrapped = true;\n                    }\n                    bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n                }\n                else {\n                    if (chWidth === 2) {\n                        continue;\n                    }\n                }\n            }\n            if (insertMode) {\n                bufferRow.insertCells(buffer.x, chWidth, buffer.getNullCell(curAttr));\n                if (bufferRow.getWidth(cols - 1) === 2) {\n                    bufferRow.setCellFromCodePoint(cols - 1, BufferLine_1.NULL_CELL_CODE, BufferLine_1.NULL_CELL_WIDTH, curAttr.fg, curAttr.bg);\n                }\n            }\n            bufferRow.setCellFromCodePoint(buffer.x++, code, chWidth, curAttr.fg, curAttr.bg);\n            if (chWidth > 0) {\n                while (--chWidth) {\n                    bufferRow.setCellFromCodePoint(buffer.x++, 0, 0, curAttr.fg, curAttr.bg);\n                }\n            }\n        }\n        this._terminal.updateRange(buffer.y);\n    };\n    InputHandler.prototype.addCsiHandler = function (flag, callback) {\n        return this._parser.addCsiHandler(flag, callback);\n    };\n    InputHandler.prototype.addOscHandler = function (ident, callback) {\n        return this._parser.addOscHandler(ident, callback);\n    };\n    InputHandler.prototype.bell = function () {\n        this._terminal.bell();\n    };\n    InputHandler.prototype.lineFeed = function () {\n        var buffer = this._terminal.buffer;\n        if (this._terminal.options.convertEol) {\n            buffer.x = 0;\n        }\n        buffer.y++;\n        if (buffer.y > buffer.scrollBottom) {\n            buffer.y--;\n            this._terminal.scroll();\n        }\n        if (buffer.x >= this._terminal.cols) {\n            buffer.x--;\n        }\n        this._onLineFeed.fire();\n    };\n    InputHandler.prototype.carriageReturn = function () {\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.backspace = function () {\n        if (this._terminal.buffer.x > 0) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.tab = function () {\n        var originalX = this._terminal.buffer.x;\n        this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        if (this._terminal.options.screenReaderMode) {\n            this._terminal.emit('a11y.tab', this._terminal.buffer.x - originalX);\n        }\n    };\n    InputHandler.prototype.shiftOut = function () {\n        this._terminal.setgLevel(1);\n    };\n    InputHandler.prototype.shiftIn = function () {\n        this._terminal.setgLevel(0);\n    };\n    InputHandler.prototype.insertChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).insertCells(this._terminal.buffer.x, params[0] || 1, this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.cursorUp = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n    };\n    InputHandler.prototype.cursorDown = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.cursorForward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.cursorBackward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n        this._terminal.buffer.x -= param;\n        if (this._terminal.buffer.x < 0) {\n            this._terminal.buffer.x = 0;\n        }\n    };\n    InputHandler.prototype.cursorNextLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorPrecedingLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorCharAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n    };\n    InputHandler.prototype.cursorPosition = function (params) {\n        var col;\n        var row = params[0] - 1;\n        if (params.length >= 2) {\n            col = params[1] - 1;\n        }\n        else {\n            col = 0;\n        }\n        if (row < 0) {\n            row = 0;\n        }\n        else if (row >= this._terminal.rows) {\n            row = this._terminal.rows - 1;\n        }\n        if (col < 0) {\n            col = 0;\n        }\n        else if (col >= this._terminal.cols) {\n            col = this._terminal.cols - 1;\n        }\n        this._terminal.buffer.x = col;\n        this._terminal.buffer.y = row;\n    };\n    InputHandler.prototype.cursorForwardTab = function (params) {\n        var param = params[0] || 1;\n        while (param--) {\n            this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        }\n    };\n    InputHandler.prototype._eraseInBufferLine = function (y, start, end, clearWrap) {\n        if (clearWrap === void 0) { clearWrap = false; }\n        var line = this._terminal.buffer.lines.get(this._terminal.buffer.ybase + y);\n        line.replaceCells(start, end, this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n        if (clearWrap) {\n            line.isWrapped = false;\n        }\n    };\n    InputHandler.prototype._resetBufferLine = function (y) {\n        this._eraseInBufferLine(y, 0, this._terminal.cols, true);\n    };\n    InputHandler.prototype.eraseInDisplay = function (params) {\n        var j;\n        switch (params[0]) {\n            case 0:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j++, this._terminal.buffer.x, this._terminal.cols, this._terminal.buffer.x === 0);\n                for (; j < this._terminal.rows; j++) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(j);\n                break;\n            case 1:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j, 0, this._terminal.buffer.x + 1, true);\n                if (this._terminal.buffer.x + 1 >= this._terminal.cols) {\n                    this._terminal.buffer.lines.get(j + 1).isWrapped = false;\n                }\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 2:\n                j = this._terminal.rows;\n                this._terminal.updateRange(j - 1);\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 3:\n                var scrollBackSize = this._terminal.buffer.lines.length - this._terminal.rows;\n                if (scrollBackSize > 0) {\n                    this._terminal.buffer.lines.trimStart(scrollBackSize);\n                    this._terminal.buffer.ybase = Math.max(this._terminal.buffer.ybase - scrollBackSize, 0);\n                    this._terminal.buffer.ydisp = Math.max(this._terminal.buffer.ydisp - scrollBackSize, 0);\n                    this._onScroll.fire(0);\n                }\n                break;\n        }\n    };\n    InputHandler.prototype.eraseInLine = function (params) {\n        switch (params[0]) {\n            case 0:\n                this._eraseInBufferLine(this._terminal.buffer.y, this._terminal.buffer.x, this._terminal.cols);\n                break;\n            case 1:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.buffer.x + 1);\n                break;\n            case 2:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.cols);\n                break;\n        }\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.insertLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var scrollBottomRowsOffset = this._terminal.rows - 1 - buffer.scrollBottom;\n        var scrollBottomAbsolute = this._terminal.rows - 1 + buffer.ybase - scrollBottomRowsOffset + 1;\n        while (param--) {\n            buffer.lines.splice(scrollBottomAbsolute - 1, 1);\n            buffer.lines.splice(row, 0, buffer.getBlankLine(this._terminal.eraseAttrData()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var j;\n        j = this._terminal.rows - 1 - buffer.scrollBottom;\n        j = this._terminal.rows - 1 + buffer.ybase - j;\n        while (param--) {\n            buffer.lines.splice(row, 1);\n            buffer.lines.splice(j, 0, buffer.getBlankLine(this._terminal.eraseAttrData()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).deleteCells(this._terminal.buffer.x, params[0] || 1, this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.scrollUp = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.lines.splice(buffer.ybase + buffer.scrollTop, 1);\n            buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 0, buffer.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA));\n        }\n        this._terminal.updateRange(buffer.scrollTop);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.scrollDown = function (params, collect) {\n        if (params.length < 2 && !collect) {\n            var param = params[0] || 1;\n            var buffer = this._terminal.buffer;\n            while (param--) {\n                buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 1);\n                buffer.lines.splice(buffer.ybase + buffer.scrollTop, 0, buffer.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA));\n            }\n            this._terminal.updateRange(buffer.scrollTop);\n            this._terminal.updateRange(buffer.scrollBottom);\n        }\n    };\n    InputHandler.prototype.eraseChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).replaceCells(this._terminal.buffer.x, this._terminal.buffer.x + (params[0] || 1), this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n    };\n    InputHandler.prototype.cursorBackwardTab = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.x = buffer.prevStop();\n        }\n    };\n    InputHandler.prototype.charPosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.hPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.repeatPrecedingCharacter = function (params) {\n        var buffer = this._terminal.buffer;\n        var line = buffer.lines.get(buffer.ybase + buffer.y);\n        line.loadCell(buffer.x - 1, this._workCell);\n        line.replaceCells(buffer.x, buffer.x + (params[0] || 1), (this._workCell.content !== undefined) ? this._workCell : buffer.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA));\n    };\n    InputHandler.prototype.sendDeviceAttributes = function (params, collect) {\n        if (params[0] > 0) {\n            return;\n        }\n        if (!collect) {\n            if (this._terminal.is('xterm') || this._terminal.is('rxvt-unicode') || this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?1;2c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?6c');\n            }\n        }\n        else if (collect === '>') {\n            if (this._terminal.is('xterm')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>0;276;0c');\n            }\n            else if (this._terminal.is('rxvt-unicode')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>85;95;0c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(params[0] + 'c');\n            }\n            else if (this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>83;40003;0c');\n            }\n        }\n    };\n    InputHandler.prototype.linePosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y = param - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n    };\n    InputHandler.prototype.vPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.hVPosition = function (params) {\n        if (params[0] < 1)\n            params[0] = 1;\n        if (params[1] < 1)\n            params[1] = 1;\n        this._terminal.buffer.y = params[0] - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = params[1] - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.tabClear = function (params) {\n        var param = params[0];\n        if (param <= 0) {\n            delete this._terminal.buffer.tabs[this._terminal.buffer.x];\n        }\n        else if (param === 3) {\n            this._terminal.buffer.tabs = {};\n        }\n    };\n    InputHandler.prototype.setMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.setMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = true;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = true;\n                    break;\n                case 2:\n                    this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(1, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(2, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(3, Charsets_1.DEFAULT_CHARSET);\n                    break;\n                case 3:\n                    this._terminal.savedCols = this._terminal.cols;\n                    this._terminal.resize(132, this._terminal.rows);\n                    break;\n                case 6:\n                    this._terminal.originMode = true;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = true;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Serial port requested application keypad.');\n                    this._terminal.applicationKeypad = true;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = params[0] === 9;\n                    this._terminal.vt200Mouse = params[0] === 1000;\n                    this._terminal.normalMouse = params[0] > 1000;\n                    this._terminal.mouseEvents = true;\n                    if (this._terminal.element) {\n                        this._terminal.element.classList.add('enable-mouse-events');\n                    }\n                    if (this._terminal.selectionManager) {\n                        this._terminal.selectionManager.disable();\n                    }\n                    this._terminal.log('Binding to mouse events.');\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = true;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = true;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = true;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = true;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = false;\n                    break;\n                case 1048:\n                    this.saveCursor(params);\n                    break;\n                case 1049:\n                    this.saveCursor(params);\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateAltBuffer(this._terminal.eraseAttrData());\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = true;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.resetMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.resetMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = false;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = false;\n                    break;\n                case 3:\n                    if (this._terminal.cols === 132 && this._terminal.savedCols) {\n                        this._terminal.resize(this._terminal.savedCols, this._terminal.rows);\n                    }\n                    delete this._terminal.savedCols;\n                    break;\n                case 6:\n                    this._terminal.originMode = false;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = false;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Switching back to normal keypad.');\n                    this._terminal.applicationKeypad = false;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = false;\n                    this._terminal.vt200Mouse = false;\n                    this._terminal.normalMouse = false;\n                    this._terminal.mouseEvents = false;\n                    if (this._terminal.element) {\n                        this._terminal.element.classList.remove('enable-mouse-events');\n                    }\n                    if (this._terminal.selectionManager) {\n                        this._terminal.selectionManager.enable();\n                    }\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = false;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = false;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = false;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = false;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = true;\n                    break;\n                case 1048:\n                    this.restoreCursor(params);\n                    break;\n                case 1049:\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateNormalBuffer();\n                    if (params[0] === 1049) {\n                        this.restoreCursor(params);\n                    }\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = false;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.charAttributes = function (params) {\n        if (params.length === 1 && params[0] === 0) {\n            this._terminal.curAttrData.fg = BufferLine_1.DEFAULT_ATTR_DATA.fg;\n            this._terminal.curAttrData.bg = BufferLine_1.DEFAULT_ATTR_DATA.bg;\n            return;\n        }\n        var l = params.length;\n        var p;\n        var attr = this._terminal.curAttrData;\n        for (var i = 0; i < l; i++) {\n            p = params[i];\n            if (p >= 30 && p <= 37) {\n                attr.fg &= ~(50331648 | 255);\n                attr.fg |= 16777216 | (p - 30);\n            }\n            else if (p >= 40 && p <= 47) {\n                attr.bg &= ~(50331648 | 255);\n                attr.bg |= 16777216 | (p - 40);\n            }\n            else if (p >= 90 && p <= 97) {\n                attr.fg &= ~(50331648 | 255);\n                attr.fg |= 16777216 | (p - 90) | 8;\n            }\n            else if (p >= 100 && p <= 107) {\n                attr.bg &= ~(50331648 | 255);\n                attr.bg |= 16777216 | (p - 100) | 8;\n            }\n            else if (p === 0) {\n                attr.fg = BufferLine_1.DEFAULT_ATTR_DATA.fg;\n                attr.bg = BufferLine_1.DEFAULT_ATTR_DATA.bg;\n            }\n            else if (p === 1) {\n                attr.fg |= 134217728;\n            }\n            else if (p === 3) {\n                attr.bg |= 67108864;\n            }\n            else if (p === 4) {\n                attr.fg |= 268435456;\n            }\n            else if (p === 5) {\n                attr.fg |= 536870912;\n            }\n            else if (p === 7) {\n                attr.fg |= 67108864;\n            }\n            else if (p === 8) {\n                attr.fg |= 1073741824;\n            }\n            else if (p === 2) {\n                attr.bg |= 134217728;\n            }\n            else if (p === 22) {\n                attr.fg &= ~134217728;\n                attr.bg &= ~134217728;\n            }\n            else if (p === 23) {\n                attr.bg &= ~67108864;\n            }\n            else if (p === 24) {\n                attr.fg &= ~268435456;\n            }\n            else if (p === 25) {\n                attr.fg &= ~536870912;\n            }\n            else if (p === 27) {\n                attr.fg &= ~67108864;\n            }\n            else if (p === 28) {\n                attr.fg &= ~1073741824;\n            }\n            else if (p === 39) {\n                attr.fg &= ~(50331648 | 16777215);\n                attr.fg |= BufferLine_1.DEFAULT_ATTR_DATA.fg & (255 | 16777215);\n            }\n            else if (p === 49) {\n                attr.bg &= ~(50331648 | 16777215);\n                attr.bg |= BufferLine_1.DEFAULT_ATTR_DATA.bg & (255 | 16777215);\n            }\n            else if (p === 38) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    attr.fg |= 50331648;\n                    attr.fg &= ~16777215;\n                    attr.fg |= BufferLine_1.AttributeData.fromColorRGB([params[i], params[i + 1], params[i + 2]]);\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    attr.fg &= ~(50331648 | 255);\n                    attr.fg |= 33554432 | p;\n                }\n            }\n            else if (p === 48) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    attr.bg |= 50331648;\n                    attr.bg &= ~16777215;\n                    attr.bg |= BufferLine_1.AttributeData.fromColorRGB([params[i], params[i + 1], params[i + 2]]);\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    attr.bg &= ~(50331648 | 255);\n                    attr.bg |= 33554432 | p;\n                }\n            }\n            else if (p === 100) {\n                attr.fg &= ~(50331648 | 16777215);\n                attr.fg |= BufferLine_1.DEFAULT_ATTR_DATA.fg & (255 | 16777215);\n                attr.bg &= ~(50331648 | 16777215);\n                attr.bg |= BufferLine_1.DEFAULT_ATTR_DATA.bg & (255 | 16777215);\n            }\n            else {\n                this._terminal.error('Unknown SGR attribute: %d.', p);\n            }\n        }\n    };\n    InputHandler.prototype.deviceStatus = function (params, collect) {\n        if (!collect) {\n            switch (params[0]) {\n                case 5:\n                    this._onData.fire(EscapeSequences_1.C0.ESC + \"[0n\");\n                    break;\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._onData.fire(EscapeSequences_1.C0.ESC + \"[\" + y + \";\" + x + \"R\");\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._onData.fire(EscapeSequences_1.C0.ESC + \"[?\" + y + \";\" + x + \"R\");\n                    break;\n                case 15:\n                    break;\n                case 25:\n                    break;\n                case 26:\n                    break;\n                case 53:\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.softReset = function (params, collect) {\n        if (collect === '!') {\n            this._terminal.cursorHidden = false;\n            this._terminal.insertMode = false;\n            this._terminal.originMode = false;\n            this._terminal.wraparoundMode = true;\n            this._terminal.applicationKeypad = false;\n            if (this._terminal.viewport) {\n                this._terminal.viewport.syncScrollArea();\n            }\n            this._terminal.applicationCursor = false;\n            this._terminal.buffer.scrollTop = 0;\n            this._terminal.buffer.scrollBottom = this._terminal.rows - 1;\n            this._terminal.curAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n            this._terminal.buffer.x = this._terminal.buffer.y = 0;\n            this._terminal.charset = null;\n            this._terminal.glevel = 0;\n            this._terminal.charsets = [null];\n        }\n    };\n    InputHandler.prototype.setCursorStyle = function (params, collect) {\n        if (collect === ' ') {\n            var param = params[0] < 1 ? 1 : params[0];\n            switch (param) {\n                case 1:\n                case 2:\n                    this._terminal.setOption('cursorStyle', 'block');\n                    break;\n                case 3:\n                case 4:\n                    this._terminal.setOption('cursorStyle', 'underline');\n                    break;\n                case 5:\n                case 6:\n                    this._terminal.setOption('cursorStyle', 'bar');\n                    break;\n            }\n            var isBlinking = param % 2 === 1;\n            this._terminal.setOption('cursorBlink', isBlinking);\n        }\n    };\n    InputHandler.prototype.setScrollRegion = function (params, collect) {\n        if (collect) {\n            return;\n        }\n        this._terminal.buffer.scrollTop = (params[0] || 1) - 1;\n        this._terminal.buffer.scrollBottom = (params[1] && params[1] <= this._terminal.rows ? params[1] : this._terminal.rows) - 1;\n        this._terminal.buffer.x = 0;\n        this._terminal.buffer.y = 0;\n    };\n    InputHandler.prototype.saveCursor = function (params) {\n        this._terminal.buffer.savedX = this._terminal.buffer.x;\n        this._terminal.buffer.savedY = this._terminal.buffer.y;\n        this._terminal.buffer.savedCurAttrData.fg = this._terminal.curAttrData.fg;\n        this._terminal.buffer.savedCurAttrData.bg = this._terminal.curAttrData.bg;\n    };\n    InputHandler.prototype.restoreCursor = function (params) {\n        this._terminal.buffer.x = this._terminal.buffer.savedX || 0;\n        this._terminal.buffer.y = this._terminal.buffer.savedY || 0;\n        this._terminal.curAttrData.fg = this._terminal.buffer.savedCurAttrData.fg;\n        this._terminal.curAttrData.bg = this._terminal.buffer.savedCurAttrData.bg;\n    };\n    InputHandler.prototype.setTitle = function (data) {\n        this._terminal.handleTitle(data);\n    };\n    InputHandler.prototype.nextLine = function () {\n        this._terminal.buffer.x = 0;\n        this.index();\n    };\n    InputHandler.prototype.keypadApplicationMode = function () {\n        this._terminal.log('Serial port requested application keypad.');\n        this._terminal.applicationKeypad = true;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.keypadNumericMode = function () {\n        this._terminal.log('Switching back to normal keypad.');\n        this._terminal.applicationKeypad = false;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.selectDefaultCharset = function () {\n        this._terminal.setgLevel(0);\n        this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n    };\n    InputHandler.prototype.selectCharset = function (collectAndFlag) {\n        if (collectAndFlag.length !== 2) {\n            this.selectDefaultCharset();\n            return;\n        }\n        if (collectAndFlag[0] === '/') {\n            return;\n        }\n        this._terminal.setgCharset(GLEVEL[collectAndFlag[0]], Charsets_1.CHARSETS[collectAndFlag[1]] || Charsets_1.DEFAULT_CHARSET);\n        return;\n    };\n    InputHandler.prototype.index = function () {\n        this._terminal.index();\n    };\n    InputHandler.prototype.tabSet = function () {\n        this._terminal.tabSet();\n    };\n    InputHandler.prototype.reverseIndex = function () {\n        this._terminal.reverseIndex();\n    };\n    InputHandler.prototype.reset = function () {\n        this._parser.reset();\n        this._terminal.reset();\n    };\n    InputHandler.prototype.setgLevel = function (level) {\n        this._terminal.setgLevel(level);\n    };\n    return InputHandler;\n}(Lifecycle_1.Disposable));\nexports.InputHandler = InputHandler;\n//# sourceMappingURL=InputHandler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Disposable = (function () {\n    function Disposable() {\n        this._disposables = [];\n        this._isDisposed = false;\n    }\n    Disposable.prototype.dispose = function () {\n        this._isDisposed = true;\n        this._disposables.forEach(function (d) { return d.dispose(); });\n        this._disposables.length = 0;\n    };\n    Disposable.prototype.register = function (d) {\n        this._disposables.push(d);\n    };\n    Disposable.prototype.unregister = function (d) {\n        var index = this._disposables.indexOf(d);\n        if (index !== -1) {\n            this._disposables.splice(index, 1);\n        }\n    };\n    return Disposable;\n}());\nexports.Disposable = Disposable;\n//# sourceMappingURL=Lifecycle.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isNode = (typeof navigator === 'undefined') ? true : false;\nvar userAgent = (isNode) ? 'node' : navigator.userAgent;\nvar platform = (isNode) ? 'node' : navigator.platform;\nexports.isFirefox = !!~userAgent.indexOf('Firefox');\nexports.isSafari = /^((?!chrome|android).)*safari/i.test(userAgent);\nexports.isMSIE = !!~userAgent.indexOf('MSIE') || !!~userAgent.indexOf('Trident');\nexports.isMac = contains(['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'], platform);\nexports.isIpad = platform === 'iPad';\nexports.isIphone = platform === 'iPhone';\nexports.isMSWindows = contains(['Windows', 'Win16', 'Win32', 'WinCE'], platform);\nexports.isLinux = platform.indexOf('Linux') >= 0;\nfunction contains(arr, el) {\n    return arr.indexOf(el) >= 0;\n}\n//# sourceMappingURL=Platform.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar CharMeasure = (function () {\n    function CharMeasure(document, parentElement) {\n        this._onCharSizeChanged = new EventEmitter2_1.EventEmitter2();\n        this._document = document;\n        this._parentElement = parentElement;\n        this._measureElement = this._document.createElement('span');\n        this._measureElement.classList.add('xterm-char-measure-element');\n        this._measureElement.textContent = 'W';\n        this._measureElement.setAttribute('aria-hidden', 'true');\n        this._parentElement.appendChild(this._measureElement);\n    }\n    Object.defineProperty(CharMeasure.prototype, \"onCharSizeChanged\", {\n        get: function () { return this._onCharSizeChanged.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CharMeasure.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CharMeasure.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CharMeasure.prototype.measure = function (options) {\n        this._measureElement.style.fontFamily = options.fontFamily;\n        this._measureElement.style.fontSize = options.fontSize + \"px\";\n        var geometry = this._measureElement.getBoundingClientRect();\n        if (geometry.width === 0 || geometry.height === 0) {\n            return;\n        }\n        var adjustedHeight = Math.ceil(geometry.height);\n        if (this._width !== geometry.width || this._height !== adjustedHeight) {\n            this._width = geometry.width;\n            this._height = adjustedHeight;\n            this._onCharSizeChanged.fire();\n        }\n    };\n    return CharMeasure;\n}());\nexports.CharMeasure = CharMeasure;\n//# sourceMappingURL=CharMeasure.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GridCache = (function () {\n    function GridCache() {\n        this.cache = [];\n    }\n    GridCache.prototype.resize = function (width, height) {\n        for (var x = 0; x < width; x++) {\n            if (this.cache.length <= x) {\n                this.cache.push([]);\n            }\n            for (var y = this.cache[x].length; y < height; y++) {\n                this.cache[x].push(null);\n            }\n            this.cache[x].length = height;\n        }\n        this.cache.length = width;\n    };\n    GridCache.prototype.clear = function () {\n        for (var x = 0; x < this.cache.length; x++) {\n            for (var y = 0; y < this.cache[x].length; y++) {\n                this.cache[x][y] = null;\n            }\n        }\n    };\n    return GridCache;\n}());\nexports.GridCache = GridCache;\n//# sourceMappingURL=GridCache.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction attach(term, socket, bidirectional, buffered) {\n    var addonTerminal = term;\n    bidirectional = (typeof bidirectional === 'undefined') ? true : bidirectional;\n    addonTerminal.__socket = socket;\n    addonTerminal.__flushBuffer = function () {\n        addonTerminal.write(addonTerminal.__attachSocketBuffer);\n        addonTerminal.__attachSocketBuffer = null;\n    };\n    addonTerminal.__pushToBuffer = function (data) {\n        if (addonTerminal.__attachSocketBuffer) {\n            addonTerminal.__attachSocketBuffer += data;\n        }\n        else {\n            addonTerminal.__attachSocketBuffer = data;\n            setTimeout(addonTerminal.__flushBuffer, 10);\n        }\n    };\n    var myTextDecoder;\n    addonTerminal.__getMessage = function (ev) {\n        var str;\n        if (typeof ev.data === 'object') {\n            if (!myTextDecoder) {\n                myTextDecoder = new TextDecoder();\n            }\n            if (ev.data instanceof ArrayBuffer) {\n                str = myTextDecoder.decode(ev.data);\n                displayData(str);\n            }\n            else {\n                var fileReader_1 = new FileReader();\n                fileReader_1.addEventListener('load', function () {\n                    str = myTextDecoder.decode(fileReader_1.result);\n                    displayData(str);\n                });\n                fileReader_1.readAsArrayBuffer(ev.data);\n            }\n        }\n        else if (typeof ev.data === 'string') {\n            displayData(ev.data);\n        }\n        else {\n            throw Error(\"Cannot handle \\\"\" + typeof ev.data + \"\\\" websocket message.\");\n        }\n    };\n    function displayData(str, data) {\n        if (buffered) {\n            addonTerminal.__pushToBuffer(str || data);\n        }\n        else {\n            addonTerminal.write(str || data);\n        }\n    }\n    addonTerminal.__sendData = function (data) {\n        if (socket.readyState !== 1) {\n            return;\n        }\n        socket.send(data);\n    };\n    addonTerminal._core.register(addSocketListener(socket, 'message', addonTerminal.__getMessage));\n    if (bidirectional) {\n        addonTerminal.__dataListener = addonTerminal.onData(addonTerminal.__sendData);\n        addonTerminal._core.register(addonTerminal.__dataListener);\n    }\n    addonTerminal._core.register(addSocketListener(socket, 'close', function () { return detach(addonTerminal, socket); }));\n    addonTerminal._core.register(addSocketListener(socket, 'error', function () { return detach(addonTerminal, socket); }));\n}\nexports.attach = attach;\nfunction addSocketListener(socket, type, handler) {\n    socket.addEventListener(type, handler);\n    return {\n        dispose: function () {\n            if (!handler) {\n                return;\n            }\n            socket.removeEventListener(type, handler);\n            handler = null;\n        }\n    };\n}\nfunction detach(term, socket) {\n    var addonTerminal = term;\n    addonTerminal.__dataListener.dispose();\n    addonTerminal.__dataListener = undefined;\n    socket = (typeof socket === 'undefined') ? addonTerminal.__socket : socket;\n    if (socket) {\n        socket.removeEventListener('message', addonTerminal.__getMessage);\n    }\n    delete addonTerminal.__socket;\n}\nexports.detach = detach;\nfunction apply(terminalConstructor) {\n    terminalConstructor.prototype.attach = function (socket, bidirectional, buffered) {\n        attach(this, socket, bidirectional, buffered);\n    };\n    terminalConstructor.prototype.detach = function (socket) {\n        detach(this, socket);\n    };\n}\nexports.apply = apply;\n//# sourceMappingURL=attach.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"./Buffer\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar BufferSet = (function () {\n    function BufferSet(_terminal) {\n        this._terminal = _terminal;\n        this._onBufferActivate = new EventEmitter2_1.EventEmitter2();\n        this._normal = new Buffer_1.Buffer(this._terminal, true);\n        this._normal.fillViewportRows();\n        this._alt = new Buffer_1.Buffer(this._terminal, false);\n        this._activeBuffer = this._normal;\n        this.setupTabStops();\n    }\n    Object.defineProperty(BufferSet.prototype, \"onBufferActivate\", {\n        get: function () { return this._onBufferActivate.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"alt\", {\n        get: function () {\n            return this._alt;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"active\", {\n        get: function () {\n            return this._activeBuffer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"normal\", {\n        get: function () {\n            return this._normal;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BufferSet.prototype.activateNormalBuffer = function () {\n        if (this._activeBuffer === this._normal) {\n            return;\n        }\n        this._normal.x = this._alt.x;\n        this._normal.y = this._alt.y;\n        this._alt.clear();\n        this._activeBuffer = this._normal;\n        this._onBufferActivate.fire({\n            activeBuffer: this._normal,\n            inactiveBuffer: this._alt\n        });\n    };\n    BufferSet.prototype.activateAltBuffer = function (fillAttr) {\n        if (this._activeBuffer === this._alt) {\n            return;\n        }\n        this._alt.fillViewportRows(fillAttr);\n        this._alt.x = this._normal.x;\n        this._alt.y = this._normal.y;\n        this._activeBuffer = this._alt;\n        this._onBufferActivate.fire({\n            activeBuffer: this._alt,\n            inactiveBuffer: this._normal\n        });\n    };\n    BufferSet.prototype.resize = function (newCols, newRows) {\n        this._normal.resize(newCols, newRows);\n        this._alt.resize(newCols, newRows);\n    };\n    BufferSet.prototype.setupTabStops = function (i) {\n        this._normal.setupTabStops(i);\n        this._alt.setupTabStops(i);\n    };\n    return BufferSet;\n}());\nexports.BufferSet = BufferSet;\n//# sourceMappingURL=BufferSet.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar ScreenDprMonitor = (function (_super) {\n    __extends(ScreenDprMonitor, _super);\n    function ScreenDprMonitor() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._currentDevicePixelRatio = window.devicePixelRatio;\n        return _this;\n    }\n    ScreenDprMonitor.prototype.setListener = function (listener) {\n        var _this = this;\n        if (this._listener) {\n            this.clearListener();\n        }\n        this._listener = listener;\n        this._outerListener = function () {\n            if (!_this._listener) {\n                return;\n            }\n            _this._listener(window.devicePixelRatio, _this._currentDevicePixelRatio);\n            _this._updateDpr();\n        };\n        this._updateDpr();\n    };\n    ScreenDprMonitor.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.clearListener();\n    };\n    ScreenDprMonitor.prototype._updateDpr = function () {\n        if (!this._resolutionMediaMatchList || !this._outerListener) {\n            return;\n        }\n        this._resolutionMediaMatchList.removeListener(this._outerListener);\n        this._currentDevicePixelRatio = window.devicePixelRatio;\n        this._resolutionMediaMatchList = window.matchMedia(\"screen and (resolution: \" + window.devicePixelRatio + \"dppx)\");\n        this._resolutionMediaMatchList.addListener(this._outerListener);\n    };\n    ScreenDprMonitor.prototype.clearListener = function () {\n        if (!this._resolutionMediaMatchList || !this._listener || !this._outerListener) {\n            return;\n        }\n        this._resolutionMediaMatchList.removeListener(this._outerListener);\n        this._resolutionMediaMatchList = undefined;\n        this._listener = undefined;\n        this._outerListener = undefined;\n    };\n    return ScreenDprMonitor;\n}(Lifecycle_1.Disposable));\nexports.ScreenDprMonitor = ScreenDprMonitor;\n//# sourceMappingURL=ScreenDprMonitor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nfunction applyWindowsMode(terminal) {\n    return terminal.onLineFeed(function () {\n        var line = terminal.buffer.lines.get(terminal.buffer.ybase + terminal.buffer.y - 1);\n        var lastChar = line.get(terminal.cols - 1);\n        var nextLine = terminal.buffer.lines.get(terminal.buffer.ybase + terminal.buffer.y);\n        nextLine.isWrapped = (lastChar[BufferLine_1.CHAR_DATA_CODE_INDEX] !== BufferLine_1.NULL_CELL_CODE && lastChar[BufferLine_1.CHAR_DATA_CODE_INDEX] !== BufferLine_1.WHITESPACE_CELL_CODE);\n    });\n}\nexports.applyWindowsMode = applyWindowsMode;\n//# sourceMappingURL=WindowsMode.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar Lifecycle_2 = require(\"./ui/Lifecycle\");\nvar FALLBACK_SCROLL_BAR_WIDTH = 15;\nvar Viewport = (function (_super) {\n    __extends(Viewport, _super);\n    function Viewport(_terminal, _viewportElement, _scrollArea, _charMeasure, _dimensions) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._viewportElement = _viewportElement;\n        _this._scrollArea = _scrollArea;\n        _this._charMeasure = _charMeasure;\n        _this._dimensions = _dimensions;\n        _this.scrollBarWidth = 0;\n        _this._currentRowHeight = 0;\n        _this._lastRecordedBufferLength = 0;\n        _this._lastRecordedViewportHeight = 0;\n        _this._lastRecordedBufferHeight = 0;\n        _this._lastScrollTop = 0;\n        _this._wheelPartialScroll = 0;\n        _this._refreshAnimationFrame = null;\n        _this._ignoreNextScrollEvent = false;\n        _this.scrollBarWidth = (_this._viewportElement.offsetWidth - _this._scrollArea.offsetWidth) || FALLBACK_SCROLL_BAR_WIDTH;\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._viewportElement, 'scroll', _this._onScroll.bind(_this)));\n        setTimeout(function () { return _this.syncScrollArea(); }, 0);\n        return _this;\n    }\n    Viewport.prototype.onDimensionsChance = function (dimensions) {\n        this._dimensions = dimensions;\n    };\n    Viewport.prototype.onThemeChange = function (colors) {\n        this._viewportElement.style.backgroundColor = colors.background.css;\n    };\n    Viewport.prototype._refresh = function () {\n        var _this = this;\n        if (this._refreshAnimationFrame === null) {\n            this._refreshAnimationFrame = requestAnimationFrame(function () { return _this._innerRefresh(); });\n        }\n    };\n    Viewport.prototype._innerRefresh = function () {\n        if (this._charMeasure.height > 0) {\n            this._currentRowHeight = this._dimensions.scaledCellHeight / window.devicePixelRatio;\n            this._lastRecordedViewportHeight = this._viewportElement.offsetHeight;\n            var newBufferHeight = Math.round(this._currentRowHeight * this._lastRecordedBufferLength) + (this._lastRecordedViewportHeight - this._dimensions.canvasHeight);\n            if (this._lastRecordedBufferHeight !== newBufferHeight) {\n                this._lastRecordedBufferHeight = newBufferHeight;\n                this._scrollArea.style.height = this._lastRecordedBufferHeight + 'px';\n            }\n        }\n        var scrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._viewportElement.scrollTop !== scrollTop) {\n            this._ignoreNextScrollEvent = true;\n            this._viewportElement.scrollTop = scrollTop;\n        }\n        this._refreshAnimationFrame = null;\n    };\n    Viewport.prototype.syncScrollArea = function () {\n        if (this._lastRecordedBufferLength !== this._terminal.buffer.lines.length) {\n            this._lastRecordedBufferLength = this._terminal.buffer.lines.length;\n            this._refresh();\n            return;\n        }\n        if (this._lastRecordedViewportHeight !== this._dimensions.canvasHeight) {\n            this._refresh();\n            return;\n        }\n        var newScrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._lastScrollTop !== newScrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._lastScrollTop !== this._viewportElement.scrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._dimensions.scaledCellHeight / window.devicePixelRatio !== this._currentRowHeight) {\n            this._refresh();\n            return;\n        }\n    };\n    Viewport.prototype._onScroll = function (ev) {\n        this._lastScrollTop = this._viewportElement.scrollTop;\n        if (!this._viewportElement.offsetParent) {\n            return;\n        }\n        if (this._ignoreNextScrollEvent) {\n            this._ignoreNextScrollEvent = false;\n            return;\n        }\n        var newRow = Math.round(this._lastScrollTop / this._currentRowHeight);\n        var diff = newRow - this._terminal.buffer.ydisp;\n        this._terminal.scrollLines(diff, true);\n    };\n    Viewport.prototype.onWheel = function (ev) {\n        var amount = this._getPixelsScrolled(ev);\n        if (amount === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += amount;\n        ev.preventDefault();\n    };\n    Viewport.prototype._getPixelsScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n            amount *= this._currentRowHeight;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._currentRowHeight * this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.getLinesScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n            amount /= this._currentRowHeight + 0.0;\n            this._wheelPartialScroll += amount;\n            amount = Math.floor(Math.abs(this._wheelPartialScroll)) * (this._wheelPartialScroll > 0 ? 1 : -1);\n            this._wheelPartialScroll %= 1;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.onTouchStart = function (ev) {\n        this._lastTouchY = ev.touches[0].pageY;\n    };\n    Viewport.prototype.onTouchMove = function (ev) {\n        var deltaY = this._lastTouchY - ev.touches[0].pageY;\n        this._lastTouchY = ev.touches[0].pageY;\n        if (deltaY === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += deltaY;\n        ev.preventDefault();\n    };\n    return Viewport;\n}(Lifecycle_1.Disposable));\nexports.Viewport = Viewport;\n//# sourceMappingURL=Viewport.js.map","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}